2025-10-22 06:25:30,021 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-22 06:25:30,024 - __main__ - INFO - Combined ratingstable shape after reindex: (849, 51)
2025-10-22 06:25:30,024 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-22 06:25:30,024 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-22 06:25:30,026 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,027 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,027 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,028 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,029 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,030 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,031 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,032 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,033 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,034 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,035 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,035 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,037 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,052 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,055 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,056 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,059 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,059 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,060 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,061 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,062 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,063 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,064 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,065 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-22 06:25:30,065 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-22 06:25:31,527 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-22 06:25:31,527 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-22 06:25:31,701 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-22 06:25:31,705 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-22 06:25:33,558 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-22 06:25:33,559 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-22 06:25:33 UTC
2025-10-22 06:25:33,559 - __main__ - INFO - Total execution time: 0:05:52.870831
2025-10-23 06:19:17,482 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-23 06:19:17 UTC
2025-10-23 06:19:17,483 - __main__ - INFO - --- Processing State: AZ ---
2025-10-23 06:19:19,314 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-23 06:19:19,317 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-23 06:19:19,317 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-23 06:19:19,317 - __main__ - INFO - --- Processing State: CA ---
2025-10-23 06:19:19,321 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-23 06:19:19 UTC
2025-10-23 06:19:34,623 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-23 06:19:34,952 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-23 06:19:37,235 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-23 06:19:37,236 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-23 06:19:37,245 - __main__ - INFO - Processing ratingstable for CA...
2025-10-23 06:19:37,246 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-23 06:19:37,246 - __main__ - INFO - --- Processing State: DC ---
2025-10-23 06:20:21,195 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-23 06:20:21,384 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-23 06:20:22,328 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-23 06:20:22,329 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-23 06:20:22,339 - __main__ - INFO - Processing ratingstable for DC...
2025-10-23 06:20:22,340 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-23 06:20:22,340 - __main__ - INFO - --- Processing State: KS ---
2025-10-23 06:20:23,417 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-23 06:20:23,418 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-23 06:20:23,418 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-23 06:20:23,418 - __main__ - INFO - --- Processing State: KY ---
2025-10-23 06:20:32,642 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-23 06:20:32,805 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-23 06:20:33,728 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-23 06:20:33,728 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-23 06:20:33,738 - __main__ - INFO - Processing ratingstable for KY...
2025-10-23 06:20:33,740 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-23 06:20:33,740 - __main__ - INFO - --- Processing State: MD ---
2025-10-23 06:20:42,681 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-23 06:20:42,862 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-23 06:20:43,697 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-23 06:20:43,698 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-23 06:20:43,708 - __main__ - INFO - Processing ratingstable for MD...
2025-10-23 06:20:43,709 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-23 06:20:43,709 - __main__ - INFO - --- Processing State: MO ---
2025-10-23 06:20:43,932 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-23 06:20:43,934 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-23 06:20:43,935 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-23 06:20:43,935 - __main__ - INFO - --- Processing State: NC ---
2025-10-23 06:21:13,485 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-23 06:21:13,652 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-23 06:21:14,488 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-23 06:21:14,488 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-23 06:21:14,498 - __main__ - INFO - Processing ratingstable for NC...
2025-10-23 06:21:14,499 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-23 06:21:14,499 - __main__ - INFO - --- Processing State: NM ---
2025-10-23 06:21:19,278 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-23 06:21:19,281 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-23 06:21:19,281 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-23 06:21:19,282 - __main__ - INFO - --- Processing State: NY ---
2025-10-23 06:22:12,024 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-23 06:22:12,206 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-23 06:22:13,104 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-23 06:22:13,105 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-23 06:22:13,114 - __main__ - INFO - Processing ratingstable for NY...
2025-10-23 06:22:13,116 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-23 06:22:13,116 - __main__ - INFO - --- Processing State: OK ---
2025-10-23 06:22:13,120 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-23 06:22:13 UTC
2025-10-23 06:22:19,454 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-23 06:22:19,619 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-23 06:22:20,457 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-23 06:22:20,457 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-23 06:22:20,466 - __main__ - INFO - Processing ratingstable for OK...
2025-10-23 06:22:20,467 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-23 06:22:20,467 - __main__ - INFO - --- Processing State: OR ---
2025-10-23 06:22:35,107 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-23 06:22:35,274 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-23 06:22:36,035 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-23 06:22:36,036 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-23 06:22:36,046 - __main__ - INFO - Processing ratingstable for OR...
2025-10-23 06:22:36,047 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-23 06:22:36,047 - __main__ - INFO - --- Processing State: TX ---
2025-10-23 06:22:55,003 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-23 06:22:55,164 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-23 06:22:57,702 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-23 06:22:57,702 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-23 06:22:57,712 - __main__ - INFO - Processing ratingstable for TX...
2025-10-23 06:22:57,713 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-23 06:22:57,713 - __main__ - INFO - --- Processing State: VA ---
2025-10-23 06:23:54,698 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-23 06:23:54,894 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-23 06:23:55,797 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-23 06:23:55,798 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-23 06:23:55,808 - __main__ - INFO - Processing ratingstable for VA...
2025-10-23 06:23:55,809 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-23 06:23:55,809 - __main__ - INFO - --- Processing State: WA ---
2025-10-23 06:24:05,985 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-23 06:24:05,987 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-23 06:24:05,987 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-23 06:24:05,987 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-23 06:24:05,990 - __main__ - INFO - Combined scratchertables shape: (10891, 11)
2025-10-23 06:24:05,990 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-23 06:24:05,996 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-23 06:24:06,002 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-23 06:24:06,008 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-23 06:24:06,014 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-23 06:24:06,021 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-23 06:24:06,027 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-23 06:24:06,033 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-23 06:24:06,038 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-23 06:24:06,044 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-23 06:24:06,050 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-23 06:24:06,056 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-23 06:24:06,056 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-23 06:24:07,097 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-23 06:24:07,298 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-23 06:24:10,303 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-23 06:24:10,304 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-23 06:24:10,308 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-23 06:24:10,310 - __main__ - INFO - Combined ratingstable shape after reindex: (856, 51)
2025-10-23 06:24:10,310 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-23 06:24:10,310 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-23 06:24:10,312 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,313 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,314 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,315 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,315 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,316 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,317 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,318 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,319 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,320 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,321 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,321 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,323 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,337 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,340 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,341 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,344 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,345 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,345 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,346 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,347 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,348 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,349 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,350 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-23 06:24:10,350 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-23 06:24:11,357 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-23 06:24:11,357 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-23 06:24:11,530 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-23 06:24:11,535 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-23 06:24:13,023 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-23 06:24:13,023 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-23 06:24:13 UTC
2025-10-23 06:24:13,023 - __main__ - INFO - Total execution time: 0:04:55.541571
2025-10-24 06:18:31,250 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-24 06:18:31 UTC
2025-10-24 06:18:31,252 - __main__ - INFO - --- Processing State: AZ ---
2025-10-24 06:18:32,766 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-24 06:18:32,768 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-24 06:18:32,768 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-24 06:18:32,769 - __main__ - INFO - --- Processing State: CA ---
2025-10-24 06:18:32,773 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-24 06:18:32 UTC
2025-10-24 06:18:44,397 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-24 06:18:44,535 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-24 06:18:46,827 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-24 06:18:46,828 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-24 06:18:46,838 - __main__ - INFO - Processing ratingstable for CA...
2025-10-24 06:18:46,838 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-24 06:18:46,839 - __main__ - INFO - --- Processing State: DC ---
2025-10-24 06:19:55,803 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-24 06:19:55,934 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-24 06:19:56,529 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-24 06:19:56,530 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-24 06:19:56,540 - __main__ - INFO - Processing ratingstable for DC...
2025-10-24 06:19:56,541 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-24 06:19:56,541 - __main__ - INFO - --- Processing State: KS ---
2025-10-24 06:19:57,591 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-24 06:19:57,592 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-24 06:19:57,592 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-24 06:19:57,592 - __main__ - INFO - --- Processing State: KY ---
2025-10-24 06:20:06,777 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-24 06:20:06,908 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-24 06:20:07,451 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-24 06:20:07,452 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-24 06:20:07,462 - __main__ - INFO - Processing ratingstable for KY...
2025-10-24 06:20:07,463 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-24 06:20:07,463 - __main__ - INFO - --- Processing State: MD ---
2025-10-24 06:20:15,690 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-24 06:20:15,811 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-24 06:20:16,326 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-24 06:20:16,327 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-24 06:20:16,337 - __main__ - INFO - Processing ratingstable for MD...
2025-10-24 06:20:16,338 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-24 06:20:16,338 - __main__ - INFO - --- Processing State: MO ---
2025-10-24 06:20:16,627 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-24 06:20:16,629 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-24 06:20:16,629 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-24 06:20:16,629 - __main__ - INFO - --- Processing State: NC ---
2025-10-24 06:21:04,320 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-24 06:21:04,449 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-24 06:21:04,889 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-24 06:21:04,890 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-24 06:21:04,900 - __main__ - INFO - Processing ratingstable for NC...
2025-10-24 06:21:04,901 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-24 06:21:04,901 - __main__ - INFO - --- Processing State: NM ---
2025-10-24 06:21:13,194 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-24 06:21:13,197 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-24 06:21:13,197 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-24 06:21:13,197 - __main__ - INFO - --- Processing State: NY ---
2025-10-24 06:22:14,993 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-24 06:22:15,349 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-24 06:22:17,746 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-24 06:22:17,747 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-24 06:22:17,756 - __main__ - INFO - Processing ratingstable for NY...
2025-10-24 06:22:17,757 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-24 06:22:17,757 - __main__ - INFO - --- Processing State: OK ---
2025-10-24 06:22:17,762 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-24 06:22:17 UTC
2025-10-24 06:22:22,693 - __main__ - ERROR - Error occurred during OK processing (after import): float division by zero
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 671, in run_ok_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/oklotteryscrape.py", line 297, in exportScratcherRecs
    gamerow.loc[:,'Ratio of Decline in Prizes to Decline in Losing Ticket'] = 0 if pd.isnull(chngLosingTix/chngAvailPrizes).item() == True else chngLosingTix/chngAvailPrizes
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/arraylike.py", line 210, in __truediv__
    return self._arith_method(other, operator.truediv)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/series.py", line 6154, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/base.py", line 1391, in _arith_method
    result = ops.arithmetic_op(lvalues, rvalues, op)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/ops/array_ops.py", line 283, in arithmetic_op
    res_values = _na_arithmetic_op(left, right, op)  # type: ignore[arg-type]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/ops/array_ops.py", line 218, in _na_arithmetic_op
    result = func(left, right)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/computation/expressions.py", line 242, in evaluate
    return _evaluate(op, op_str, a, b)  # type: ignore[misc]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/computation/expressions.py", line 73, in _evaluate_standard
    return op(a, b)
ZeroDivisionError: float division by zero
2025-10-24 06:22:22,697 - __main__ - WARNING - Function run_ok_scratcher_recs did not return valid scratchertables data.
2025-10-24 06:22:22,698 - __main__ - WARNING - Function run_ok_scratcher_recs did not return valid ratingstable data.
2025-10-24 06:22:22,698 - __main__ - INFO - --- Processing State: OR ---
2025-10-24 06:22:31,679 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-24 06:22:31,812 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-24 06:22:32,227 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-24 06:22:32,228 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-24 06:22:32,238 - __main__ - INFO - Processing ratingstable for OR...
2025-10-24 06:22:32,239 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-24 06:22:32,239 - __main__ - INFO - --- Processing State: TX ---
2025-10-24 06:22:55,406 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-24 06:22:55,537 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-24 06:22:56,027 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-24 06:22:56,028 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-24 06:22:56,038 - __main__ - INFO - Processing ratingstable for TX...
2025-10-24 06:22:56,039 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-24 06:22:56,039 - __main__ - INFO - --- Processing State: VA ---
2025-10-24 06:23:58,582 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-24 06:23:58,706 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-24 06:23:59,175 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-24 06:23:59,175 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-24 06:23:59,185 - __main__ - INFO - Processing ratingstable for VA...
2025-10-24 06:23:59,186 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-24 06:23:59,186 - __main__ - INFO - --- Processing State: WA ---
2025-10-24 06:23:59,754 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-24 06:23:59,756 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-24 06:23:59,756 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-24 06:23:59,756 - __main__ - INFO - Combining scratchertables data from 9 states.
2025-10-24 06:23:59,757 - __main__ - INFO - Combined scratchertables shape: (10139, 11)
2025-10-24 06:23:59,758 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-24 06:23:59,764 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-24 06:23:59,770 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-24 06:23:59,776 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-24 06:23:59,806 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-24 06:23:59,812 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-24 06:23:59,818 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-24 06:23:59,823 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-24 06:23:59,823 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-24 06:24:00,370 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-24 06:24:00,511 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-24 06:24:02,861 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-24 06:24:02,862 - __main__ - INFO - Combining ratingstable data from 9 states.
2025-10-24 06:24:02,865 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-24 06:24:02,868 - __main__ - INFO - Combined ratingstable shape after reindex: (803, 51)
2025-10-24 06:24:02,868 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-24 06:24:02,868 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-24 06:24:02,870 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,871 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,872 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,873 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,874 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,875 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,876 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,877 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,878 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,879 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,880 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,881 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,883 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,897 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,900 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,901 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,904 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,905 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,906 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,907 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,908 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,909 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,910 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,911 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-24 06:24:02,911 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-24 06:24:03,503 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-24 06:24:03,503 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-24 06:24:03,632 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-24 06:24:03,637 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-24 06:24:04,624 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-24 06:24:04,624 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-24 06:24:04 UTC
2025-10-24 06:24:04,624 - __main__ - INFO - Total execution time: 0:05:33.374044
2025-10-25 06:16:54,598 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-25 06:16:54 UTC
2025-10-25 06:16:54,599 - __main__ - INFO - --- Processing State: AZ ---
2025-10-25 06:16:56,511 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-25 06:16:56,513 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-25 06:16:56,513 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-25 06:16:56,513 - __main__ - INFO - --- Processing State: CA ---
2025-10-25 06:16:56,518 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-25 06:16:56 UTC
2025-10-25 06:17:12,613 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-25 06:17:12,957 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-25 06:17:14,985 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-25 06:17:14,986 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-25 06:17:14,996 - __main__ - INFO - Processing ratingstable for CA...
2025-10-25 06:17:14,997 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-25 06:17:14,997 - __main__ - INFO - --- Processing State: DC ---
2025-10-25 06:18:05,789 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-25 06:18:06,108 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-25 06:18:07,131 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-25 06:18:07,132 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-25 06:18:07,142 - __main__ - INFO - Processing ratingstable for DC...
2025-10-25 06:18:07,143 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-25 06:18:07,143 - __main__ - INFO - --- Processing State: KS ---
2025-10-25 06:18:08,293 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-25 06:18:08,293 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-25 06:18:08,293 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-25 06:18:08,293 - __main__ - INFO - --- Processing State: KY ---
2025-10-25 06:18:17,989 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-25 06:18:18,276 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-25 06:18:19,412 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-25 06:18:19,413 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-25 06:18:19,423 - __main__ - INFO - Processing ratingstable for KY...
2025-10-25 06:18:19,424 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-25 06:18:19,424 - __main__ - INFO - --- Processing State: MD ---
2025-10-25 06:18:28,349 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-25 06:18:28,646 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-25 06:18:29,913 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-25 06:18:29,914 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-25 06:18:29,924 - __main__ - INFO - Processing ratingstable for MD...
2025-10-25 06:18:29,925 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-25 06:18:29,925 - __main__ - INFO - --- Processing State: MO ---
2025-10-25 06:18:30,126 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-25 06:18:30,128 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-25 06:18:30,128 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-25 06:18:30,128 - __main__ - INFO - --- Processing State: NC ---
2025-10-25 06:18:59,141 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-25 06:18:59,461 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-25 06:19:00,268 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-25 06:19:00,268 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-25 06:19:00,278 - __main__ - INFO - Processing ratingstable for NC...
2025-10-25 06:19:00,279 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-25 06:19:00,279 - __main__ - INFO - --- Processing State: NM ---
2025-10-25 06:19:07,663 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-25 06:19:07,666 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-25 06:19:07,666 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-25 06:19:07,666 - __main__ - INFO - --- Processing State: NY ---
2025-10-25 06:20:01,129 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-25 06:20:01,397 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-25 06:20:02,425 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-25 06:20:02,426 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-25 06:20:02,435 - __main__ - INFO - Processing ratingstable for NY...
2025-10-25 06:20:02,436 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-25 06:20:02,436 - __main__ - INFO - --- Processing State: OK ---
2025-10-25 06:20:02,441 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-25 06:20:02 UTC
2025-10-25 06:20:09,428 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-25 06:20:09,754 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-25 06:20:10,803 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-25 06:20:10,804 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-25 06:20:10,813 - __main__ - INFO - Processing ratingstable for OK...
2025-10-25 06:20:10,813 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-25 06:20:10,813 - __main__ - INFO - --- Processing State: OR ---
2025-10-25 06:20:25,063 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-25 06:20:25,421 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-25 06:20:26,578 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-25 06:20:26,579 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-25 06:20:26,589 - __main__ - INFO - Processing ratingstable for OR...
2025-10-25 06:20:26,590 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-25 06:20:26,590 - __main__ - INFO - --- Processing State: TX ---
2025-10-25 06:20:45,565 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-25 06:20:45,715 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-25 06:20:46,785 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-25 06:20:46,786 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-25 06:20:46,795 - __main__ - INFO - Processing ratingstable for TX...
2025-10-25 06:20:46,796 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-25 06:20:46,796 - __main__ - INFO - --- Processing State: VA ---
2025-10-25 06:21:40,287 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-25 06:21:40,623 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-25 06:21:41,685 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-25 06:21:41,686 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-25 06:21:41,695 - __main__ - INFO - Processing ratingstable for VA...
2025-10-25 06:21:41,696 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-25 06:21:41,697 - __main__ - INFO - --- Processing State: WA ---
2025-10-25 06:21:42,560 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-25 06:21:42,562 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-25 06:21:42,562 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-25 06:21:42,562 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-25 06:21:42,565 - __main__ - INFO - Combined scratchertables shape: (10950, 11)
2025-10-25 06:21:42,565 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-25 06:21:42,571 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-25 06:21:42,577 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-25 06:21:42,583 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-25 06:21:42,590 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-25 06:21:42,596 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-25 06:21:42,602 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-25 06:21:42,608 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-25 06:21:42,614 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-25 06:21:42,620 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-25 06:21:42,626 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-25 06:21:42,632 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-25 06:21:42,632 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-25 06:21:44,117 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-25 06:21:44,338 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-25 06:21:49,491 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-25 06:21:49,492 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-25 06:21:49,495 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-25 06:21:49,497 - __main__ - INFO - Combined ratingstable shape after reindex: (860, 51)
2025-10-25 06:21:49,497 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-25 06:21:49,497 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-25 06:21:49,499 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,500 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,501 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,502 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,503 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,504 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,504 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,505 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,506 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,507 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,508 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,509 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,510 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,525 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,528 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,529 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,532 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,532 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,533 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,534 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,535 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,536 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,537 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,538 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-25 06:21:49,538 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-25 06:21:51,262 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-25 06:21:51,263 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-25 06:21:51,447 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-25 06:21:51,452 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-25 06:21:53,602 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-25 06:21:53,602 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-25 06:21:53 UTC
2025-10-25 06:21:53,602 - __main__ - INFO - Total execution time: 0:04:59.004641
2025-10-26 06:17:06,949 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-26 06:17:06 UTC
2025-10-26 06:17:06,951 - __main__ - INFO - --- Processing State: AZ ---
2025-10-26 06:17:08,186 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-26 06:17:08,188 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-26 06:17:08,188 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-26 06:17:08,188 - __main__ - INFO - --- Processing State: CA ---
2025-10-26 06:17:08,193 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-26 06:17:08 UTC
2025-10-26 06:17:22,172 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-26 06:17:22,463 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-26 06:17:25,302 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-26 06:17:25,303 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-26 06:17:25,313 - __main__ - INFO - Processing ratingstable for CA...
2025-10-26 06:17:25,313 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-26 06:17:25,314 - __main__ - INFO - --- Processing State: DC ---
2025-10-26 06:18:43,520 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-26 06:18:43,763 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-26 06:18:44,998 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-26 06:18:44,998 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-26 06:18:45,008 - __main__ - INFO - Processing ratingstable for DC...
2025-10-26 06:18:45,009 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-26 06:18:45,009 - __main__ - INFO - --- Processing State: KS ---
2025-10-26 06:18:45,931 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-26 06:18:45,932 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-26 06:18:45,932 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-26 06:18:45,932 - __main__ - INFO - --- Processing State: KY ---
2025-10-26 06:18:55,243 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-26 06:18:55,471 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-26 06:18:56,512 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-26 06:18:56,513 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-26 06:18:56,523 - __main__ - INFO - Processing ratingstable for KY...
2025-10-26 06:18:56,524 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-26 06:18:56,524 - __main__ - INFO - --- Processing State: MD ---
2025-10-26 06:19:04,839 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-26 06:19:05,045 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-26 06:19:05,924 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-26 06:19:05,924 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-26 06:19:05,934 - __main__ - INFO - Processing ratingstable for MD...
2025-10-26 06:19:05,935 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-26 06:19:05,935 - __main__ - INFO - --- Processing State: MO ---
2025-10-26 06:19:06,221 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-26 06:19:06,224 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-26 06:19:06,225 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-26 06:19:06,225 - __main__ - INFO - --- Processing State: NC ---
2025-10-26 06:19:51,693 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-26 06:19:51,935 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-26 06:19:52,833 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-26 06:19:52,834 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-26 06:19:52,843 - __main__ - INFO - Processing ratingstable for NC...
2025-10-26 06:19:52,845 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-26 06:19:52,845 - __main__ - INFO - --- Processing State: NM ---
2025-10-26 06:19:58,216 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-26 06:19:58,219 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-26 06:19:58,219 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-26 06:19:58,219 - __main__ - INFO - --- Processing State: NY ---
2025-10-26 06:21:04,871 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-26 06:21:05,105 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-26 06:21:06,025 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-26 06:21:06,026 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-26 06:21:06,035 - __main__ - INFO - Processing ratingstable for NY...
2025-10-26 06:21:06,037 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-26 06:21:06,037 - __main__ - INFO - --- Processing State: OK ---
2025-10-26 06:21:06,041 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-26 06:21:06 UTC
2025-10-26 06:21:13,117 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-26 06:21:13,365 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-26 06:21:14,152 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-26 06:21:14,153 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-26 06:21:14,162 - __main__ - INFO - Processing ratingstable for OK...
2025-10-26 06:21:14,163 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-26 06:21:14,163 - __main__ - INFO - --- Processing State: OR ---
2025-10-26 06:21:26,787 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-26 06:21:27,016 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-26 06:21:27,770 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-26 06:21:27,771 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-26 06:21:27,781 - __main__ - INFO - Processing ratingstable for OR...
2025-10-26 06:21:27,782 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-26 06:21:27,782 - __main__ - INFO - --- Processing State: TX ---
2025-10-26 06:21:54,052 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-26 06:21:54,274 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-26 06:21:55,274 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-26 06:21:55,275 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-26 06:21:55,285 - __main__ - INFO - Processing ratingstable for TX...
2025-10-26 06:21:55,286 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-26 06:21:55,286 - __main__ - INFO - --- Processing State: VA ---
2025-10-26 06:22:59,871 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-26 06:23:00,096 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-26 06:23:01,003 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-26 06:23:01,004 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-26 06:23:01,014 - __main__ - INFO - Processing ratingstable for VA...
2025-10-26 06:23:01,015 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-26 06:23:01,015 - __main__ - INFO - --- Processing State: WA ---
2025-10-26 06:23:01,736 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-26 06:23:01,738 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-26 06:23:01,738 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-26 06:23:01,738 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-26 06:23:01,741 - __main__ - INFO - Combined scratchertables shape: (10950, 11)
2025-10-26 06:23:01,741 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-26 06:23:01,747 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-26 06:23:01,754 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-26 06:23:01,760 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-26 06:23:01,766 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-26 06:23:01,773 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-26 06:23:01,779 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-26 06:23:01,786 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-26 06:23:01,792 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-26 06:23:01,798 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-26 06:23:01,804 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-26 06:23:01,810 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-26 06:23:01,810 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-26 06:23:02,816 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-26 06:23:03,046 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-26 06:23:06,853 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-26 06:23:06,854 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-26 06:23:06,858 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-26 06:23:06,860 - __main__ - INFO - Combined ratingstable shape after reindex: (860, 51)
2025-10-26 06:23:06,860 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-26 06:23:06,861 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-26 06:23:06,863 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,864 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,865 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,866 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,867 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,868 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,869 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,870 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,871 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,872 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,873 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,874 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,876 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,890 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,893 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,894 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,898 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,899 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,900 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,902 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,903 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,904 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,905 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,905 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-26 06:23:06,906 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-26 06:23:07,984 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-26 06:23:07,984 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-26 06:23:08,227 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-26 06:23:08,231 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-26 06:23:09,638 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-26 06:23:09,639 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-26 06:23:09 UTC
2025-10-26 06:23:09,639 - __main__ - INFO - Total execution time: 0:06:02.689610
2025-10-27 06:21:01,243 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-27 06:21:01 UTC
2025-10-27 06:21:01,245 - __main__ - INFO - --- Processing State: AZ ---
2025-10-27 06:21:02,523 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-27 06:21:02,525 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-27 06:21:02,526 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-27 06:21:02,526 - __main__ - INFO - --- Processing State: CA ---
2025-10-27 06:21:02,530 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-27 06:21:02 UTC
2025-10-27 06:21:16,446 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-27 06:21:16,590 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-27 06:21:19,185 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-27 06:21:19,185 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-27 06:21:19,195 - __main__ - INFO - Processing ratingstable for CA...
2025-10-27 06:21:19,196 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-27 06:21:19,196 - __main__ - INFO - --- Processing State: DC ---
2025-10-27 06:22:18,524 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-27 06:22:18,660 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-27 06:22:19,572 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-27 06:22:19,573 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-27 06:22:19,582 - __main__ - INFO - Processing ratingstable for DC...
2025-10-27 06:22:19,583 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-27 06:22:19,583 - __main__ - INFO - --- Processing State: KS ---
2025-10-27 06:22:20,584 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-27 06:22:20,585 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-27 06:22:20,585 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-27 06:22:20,585 - __main__ - INFO - --- Processing State: KY ---
2025-10-27 06:22:29,922 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-27 06:22:30,057 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-27 06:22:30,862 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-27 06:22:30,862 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-27 06:22:30,872 - __main__ - INFO - Processing ratingstable for KY...
2025-10-27 06:22:30,874 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-27 06:22:30,874 - __main__ - INFO - --- Processing State: MD ---
2025-10-27 06:22:39,089 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-27 06:22:39,217 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-27 06:22:40,061 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-27 06:22:40,062 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-27 06:22:40,072 - __main__ - INFO - Processing ratingstable for MD...
2025-10-27 06:22:40,073 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-27 06:22:40,073 - __main__ - INFO - --- Processing State: MO ---
2025-10-27 06:22:40,295 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-27 06:22:40,297 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-27 06:22:40,298 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-27 06:22:40,298 - __main__ - INFO - --- Processing State: NC ---
2025-10-27 06:23:28,269 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-27 06:23:28,414 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-27 06:23:29,176 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-27 06:23:29,177 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-27 06:23:29,186 - __main__ - INFO - Processing ratingstable for NC...
2025-10-27 06:23:29,187 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-27 06:23:29,188 - __main__ - INFO - --- Processing State: NM ---
2025-10-27 06:23:37,187 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-27 06:23:37,190 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-27 06:23:37,190 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-27 06:23:37,191 - __main__ - INFO - --- Processing State: NY ---
2025-10-27 06:24:37,059 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-27 06:24:37,389 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-27 06:24:39,333 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-27 06:24:39,334 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-27 06:24:39,344 - __main__ - INFO - Processing ratingstable for NY...
2025-10-27 06:24:39,345 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-27 06:24:39,345 - __main__ - INFO - --- Processing State: OK ---
2025-10-27 06:24:39,349 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-27 06:24:39 UTC
2025-10-27 06:24:46,112 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-27 06:24:46,245 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-27 06:24:47,099 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-27 06:24:47,099 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-27 06:24:47,108 - __main__ - INFO - Processing ratingstable for OK...
2025-10-27 06:24:47,109 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-27 06:24:47,109 - __main__ - INFO - --- Processing State: OR ---
2025-10-27 06:24:56,293 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-27 06:24:56,425 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-27 06:24:57,114 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-27 06:24:57,115 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-27 06:24:57,124 - __main__ - INFO - Processing ratingstable for OR...
2025-10-27 06:24:57,126 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-27 06:24:57,126 - __main__ - INFO - --- Processing State: TX ---
2025-10-27 06:25:19,638 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-27 06:25:19,769 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-27 06:25:20,576 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-27 06:25:20,577 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-27 06:25:20,586 - __main__ - INFO - Processing ratingstable for TX...
2025-10-27 06:25:20,587 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-27 06:25:20,588 - __main__ - INFO - --- Processing State: VA ---
2025-10-27 06:26:25,021 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-27 06:26:25,163 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-27 06:26:25,965 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-27 06:26:25,965 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-27 06:26:25,975 - __main__ - INFO - Processing ratingstable for VA...
2025-10-27 06:26:25,976 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-27 06:26:25,976 - __main__ - INFO - --- Processing State: WA ---
2025-10-27 06:26:35,551 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-27 06:26:35,553 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-27 06:26:35,553 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-27 06:26:35,553 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-27 06:26:35,555 - __main__ - INFO - Combined scratchertables shape: (10950, 11)
2025-10-27 06:26:35,556 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-27 06:26:35,562 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-27 06:26:35,568 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-27 06:26:35,574 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-27 06:26:35,581 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-27 06:26:35,587 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-27 06:26:35,593 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-27 06:26:35,600 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-27 06:26:35,606 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-27 06:26:35,612 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-27 06:26:35,618 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-27 06:26:35,624 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-27 06:26:35,624 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-27 06:26:36,400 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-27 06:26:36,583 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-27 06:26:43,012 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-27 06:26:43,012 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-27 06:26:43,016 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-27 06:26:43,018 - __main__ - INFO - Combined ratingstable shape after reindex: (860, 51)
2025-10-27 06:26:43,019 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-27 06:26:43,019 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-27 06:26:43,021 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,022 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,023 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,024 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,025 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,026 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,027 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,028 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,029 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,030 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,031 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,032 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,034 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,048 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,051 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,052 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,055 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,056 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,057 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,058 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,059 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,060 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,061 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,062 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-27 06:26:43,062 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-27 06:26:44,040 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-27 06:26:44,040 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-27 06:26:44,197 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-27 06:26:44,202 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-27 06:26:46,163 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-27 06:26:46,164 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-27 06:26:46 UTC
2025-10-27 06:26:46,164 - __main__ - INFO - Total execution time: 0:05:44.920454
2025-10-28 06:20:10,101 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-28 06:20:10 UTC
2025-10-28 06:20:10,103 - __main__ - INFO - --- Processing State: AZ ---
2025-10-28 06:20:11,958 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-28 06:20:11,960 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-28 06:20:11,960 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-28 06:20:11,960 - __main__ - INFO - --- Processing State: CA ---
2025-10-28 06:20:11,964 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-28 06:20:11 UTC
2025-10-28 06:20:29,014 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-28 06:20:29,379 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-28 06:20:32,147 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-28 06:20:32,147 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-28 06:20:32,157 - __main__ - INFO - Processing ratingstable for CA...
2025-10-28 06:20:32,158 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-28 06:20:32,158 - __main__ - INFO - --- Processing State: DC ---
2025-10-28 06:21:21,609 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-28 06:21:21,783 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-28 06:21:22,848 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-28 06:21:22,849 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-28 06:21:22,858 - __main__ - INFO - Processing ratingstable for DC...
2025-10-28 06:21:22,859 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-28 06:21:22,859 - __main__ - INFO - --- Processing State: KS ---
2025-10-28 06:21:23,682 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-28 06:21:23,682 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-28 06:21:23,682 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-28 06:21:23,682 - __main__ - INFO - --- Processing State: KY ---
2025-10-28 06:21:32,847 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-28 06:21:33,143 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-28 06:21:34,277 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-28 06:21:34,277 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-28 06:21:34,287 - __main__ - INFO - Processing ratingstable for KY...
2025-10-28 06:21:34,288 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-28 06:21:34,288 - __main__ - INFO - --- Processing State: MD ---
2025-10-28 06:21:42,912 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-28 06:21:43,081 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-28 06:21:43,958 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-28 06:21:43,958 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-28 06:21:43,968 - __main__ - INFO - Processing ratingstable for MD...
2025-10-28 06:21:43,969 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-28 06:21:43,969 - __main__ - INFO - --- Processing State: MO ---
2025-10-28 06:21:44,169 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-28 06:21:44,171 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-28 06:21:44,172 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-28 06:21:44,172 - __main__ - INFO - --- Processing State: NC ---
2025-10-28 06:22:13,130 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-28 06:22:13,314 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-28 06:22:14,360 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-28 06:22:14,361 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-28 06:22:14,370 - __main__ - INFO - Processing ratingstable for NC...
2025-10-28 06:22:14,371 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-28 06:22:14,371 - __main__ - INFO - --- Processing State: NM ---
2025-10-28 06:22:19,674 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-28 06:22:19,677 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-28 06:22:19,678 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-28 06:22:19,678 - __main__ - INFO - --- Processing State: NY ---
2025-10-28 06:23:14,296 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-28 06:23:14,528 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-28 06:23:15,490 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-28 06:23:15,491 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-28 06:23:15,501 - __main__ - INFO - Processing ratingstable for NY...
2025-10-28 06:23:15,502 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-28 06:23:15,502 - __main__ - INFO - --- Processing State: OK ---
2025-10-28 06:23:15,506 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-28 06:23:15 UTC
2025-10-28 06:23:22,302 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-28 06:23:22,498 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-28 06:23:23,378 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-28 06:23:23,378 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-28 06:23:23,387 - __main__ - INFO - Processing ratingstable for OK...
2025-10-28 06:23:23,388 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-28 06:23:23,388 - __main__ - INFO - --- Processing State: OR ---
2025-10-28 06:23:36,684 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-28 06:23:36,916 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-28 06:23:37,830 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-28 06:23:37,831 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-28 06:23:37,841 - __main__ - INFO - Processing ratingstable for OR...
2025-10-28 06:23:37,842 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-28 06:23:37,842 - __main__ - INFO - --- Processing State: TX ---
2025-10-28 06:23:56,656 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-28 06:23:56,880 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-28 06:23:57,892 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-28 06:23:57,892 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-28 06:23:57,902 - __main__ - INFO - Processing ratingstable for TX...
2025-10-28 06:23:57,903 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-28 06:23:57,903 - __main__ - INFO - --- Processing State: VA ---
2025-10-28 06:24:52,653 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-28 06:24:52,971 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-28 06:24:54,022 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-28 06:24:54,023 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-28 06:24:54,033 - __main__ - INFO - Processing ratingstable for VA...
2025-10-28 06:24:54,034 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-28 06:24:54,034 - __main__ - INFO - --- Processing State: WA ---
2025-10-28 06:24:54,735 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-28 06:24:54,737 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-28 06:24:54,737 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-28 06:24:54,737 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-28 06:24:54,740 - __main__ - INFO - Combined scratchertables shape: (10962, 11)
2025-10-28 06:24:54,740 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-28 06:24:54,747 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-28 06:24:54,753 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-28 06:24:54,759 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-28 06:24:54,766 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-28 06:24:54,772 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-28 06:24:54,778 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-28 06:24:54,785 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-28 06:24:54,791 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-28 06:24:54,797 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-28 06:24:54,804 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-28 06:24:54,810 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-28 06:24:54,810 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-28 06:24:55,812 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-28 06:24:56,028 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-28 06:25:00,540 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-28 06:25:00,541 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-28 06:25:00,545 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-28 06:25:00,547 - __main__ - INFO - Combined ratingstable shape after reindex: (861, 51)
2025-10-28 06:25:00,547 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-28 06:25:00,547 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-28 06:25:00,549 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,550 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,551 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,552 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,553 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,553 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,554 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,555 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,556 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,557 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,558 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,559 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,560 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,575 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,578 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,579 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,582 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,583 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,583 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,584 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,585 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,586 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,587 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,588 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-28 06:25:00,588 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-28 06:25:01,793 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-28 06:25:01,793 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-28 06:25:02,000 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-28 06:25:02,004 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-28 06:25:03,955 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-28 06:25:03,955 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-28 06:25:03 UTC
2025-10-28 06:25:03,955 - __main__ - INFO - Total execution time: 0:04:53.854080
2025-10-29 06:20:06,716 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-29 06:20:06 UTC
2025-10-29 06:20:06,718 - __main__ - INFO - --- Processing State: AZ ---
2025-10-29 06:20:08,495 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-29 06:20:08,497 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-29 06:20:08,497 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-29 06:20:08,497 - __main__ - INFO - --- Processing State: CA ---
2025-10-29 06:20:08,502 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-29 06:20:08 UTC
2025-10-29 06:20:18,401 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-29 06:20:18,679 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-29 06:20:19,983 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-29 06:20:19,984 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-29 06:20:19,994 - __main__ - INFO - Processing ratingstable for CA...
2025-10-29 06:20:19,994 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-29 06:20:19,995 - __main__ - INFO - --- Processing State: DC ---
2025-10-29 06:21:15,154 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-29 06:21:15,397 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-29 06:21:16,316 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-29 06:21:16,316 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-29 06:21:16,326 - __main__ - INFO - Processing ratingstable for DC...
2025-10-29 06:21:16,327 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-29 06:21:16,327 - __main__ - INFO - --- Processing State: KS ---
2025-10-29 06:21:17,188 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-29 06:21:17,189 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-29 06:21:17,189 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-29 06:21:17,189 - __main__ - INFO - --- Processing State: KY ---
2025-10-29 06:21:26,449 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-29 06:21:26,586 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-29 06:21:27,457 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-29 06:21:27,458 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-29 06:21:27,468 - __main__ - INFO - Processing ratingstable for KY...
2025-10-29 06:21:27,469 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-29 06:21:27,469 - __main__ - INFO - --- Processing State: MD ---
2025-10-29 06:21:36,128 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-29 06:21:36,268 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-29 06:21:37,399 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-29 06:21:37,400 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-29 06:21:37,410 - __main__ - INFO - Processing ratingstable for MD...
2025-10-29 06:21:37,411 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-29 06:21:37,411 - __main__ - INFO - --- Processing State: MO ---
2025-10-29 06:21:37,551 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-29 06:21:37,554 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-29 06:21:37,554 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-29 06:21:37,554 - __main__ - INFO - --- Processing State: NC ---
2025-10-29 06:22:06,845 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-29 06:22:06,990 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-29 06:22:07,891 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-29 06:22:07,891 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-29 06:22:07,901 - __main__ - INFO - Processing ratingstable for NC...
2025-10-29 06:22:07,903 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-29 06:22:07,903 - __main__ - INFO - --- Processing State: NM ---
2025-10-29 06:22:10,766 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-29 06:22:10,769 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-29 06:22:10,769 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-29 06:22:10,769 - __main__ - INFO - --- Processing State: NY ---
2025-10-29 06:22:58,511 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-29 06:22:58,660 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-29 06:22:59,660 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-29 06:22:59,660 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-29 06:22:59,670 - __main__ - INFO - Processing ratingstable for NY...
2025-10-29 06:22:59,671 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-29 06:22:59,671 - __main__ - INFO - --- Processing State: OK ---
2025-10-29 06:22:59,675 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-29 06:22:59 UTC
2025-10-29 06:23:06,615 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-29 06:23:06,775 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-29 06:23:07,683 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-29 06:23:07,683 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-29 06:23:07,693 - __main__ - INFO - Processing ratingstable for OK...
2025-10-29 06:23:07,694 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-29 06:23:07,694 - __main__ - INFO - --- Processing State: OR ---
2025-10-29 06:23:21,976 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-29 06:23:22,117 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-29 06:23:22,918 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-29 06:23:22,918 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-29 06:23:22,928 - __main__ - INFO - Processing ratingstable for OR...
2025-10-29 06:23:22,930 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-29 06:23:22,930 - __main__ - INFO - --- Processing State: TX ---
2025-10-29 06:23:43,833 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-29 06:23:43,968 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-29 06:23:45,006 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-29 06:23:45,007 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-29 06:23:45,016 - __main__ - INFO - Processing ratingstable for TX...
2025-10-29 06:23:45,018 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-29 06:23:45,018 - __main__ - INFO - --- Processing State: VA ---
2025-10-29 06:24:39,989 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-29 06:24:40,134 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-29 06:24:41,278 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-29 06:24:41,279 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-29 06:24:41,289 - __main__ - INFO - Processing ratingstable for VA...
2025-10-29 06:24:41,290 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-29 06:24:41,290 - __main__ - INFO - --- Processing State: WA ---
2025-10-29 06:24:42,119 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-29 06:24:42,121 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-29 06:24:42,121 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-29 06:24:42,121 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-29 06:24:42,125 - __main__ - INFO - Combined scratchertables shape: (10962, 11)
2025-10-29 06:24:42,125 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-29 06:24:42,131 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-29 06:24:42,138 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-29 06:24:42,144 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-29 06:24:42,150 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-29 06:24:42,157 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-29 06:24:42,163 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-29 06:24:42,169 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-29 06:24:42,176 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-29 06:24:42,182 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-29 06:24:42,188 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-29 06:24:42,194 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-29 06:24:42,195 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-29 06:24:43,333 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-29 06:24:43,527 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-29 06:24:48,031 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-29 06:24:48,032 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-29 06:24:48,035 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-29 06:24:48,037 - __main__ - INFO - Combined ratingstable shape after reindex: (861, 51)
2025-10-29 06:24:48,037 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-29 06:24:48,037 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-29 06:24:48,040 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,041 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,042 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,043 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,044 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,045 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,046 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,047 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,048 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,049 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,050 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,051 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,052 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,067 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,070 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,072 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,075 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,076 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,077 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,078 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,079 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,079 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,080 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,081 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-29 06:24:48,082 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-29 06:24:49,419 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-29 06:24:49,419 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-29 06:24:49,612 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-29 06:24:49,617 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-29 06:24:51,525 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-29 06:24:51,525 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-29 06:24:51 UTC
2025-10-29 06:24:51,525 - __main__ - INFO - Total execution time: 0:04:44.808902
2025-10-30 06:18:54,215 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-30 06:18:54 UTC
2025-10-30 06:18:54,216 - __main__ - INFO - --- Processing State: AZ ---
2025-10-30 06:18:56,039 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-30 06:18:56,041 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-30 06:18:56,041 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-30 06:18:56,041 - __main__ - INFO - --- Processing State: CA ---
2025-10-30 06:18:56,046 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-30 06:18:56 UTC
2025-10-30 06:19:15,822 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-30 06:19:16,161 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-30 06:19:19,597 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-30 06:19:19,598 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-30 06:19:19,609 - __main__ - INFO - Processing ratingstable for CA...
2025-10-30 06:19:19,610 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-30 06:19:19,610 - __main__ - INFO - --- Processing State: DC ---
2025-10-30 06:19:56,278 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-30 06:19:56,451 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-30 06:19:57,354 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-30 06:19:57,355 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-30 06:19:57,365 - __main__ - INFO - Processing ratingstable for DC...
2025-10-30 06:19:57,366 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-30 06:19:57,366 - __main__ - INFO - --- Processing State: KS ---
2025-10-30 06:19:58,362 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-30 06:19:58,363 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-30 06:19:58,363 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-30 06:19:58,363 - __main__ - INFO - --- Processing State: KY ---
2025-10-30 06:20:07,990 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-30 06:20:08,170 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-30 06:20:09,153 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-30 06:20:09,154 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-30 06:20:09,164 - __main__ - INFO - Processing ratingstable for KY...
2025-10-30 06:20:09,165 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-30 06:20:09,165 - __main__ - INFO - --- Processing State: MD ---
2025-10-30 06:20:17,812 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-30 06:20:17,997 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-30 06:20:18,879 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-30 06:20:18,880 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-30 06:20:18,890 - __main__ - INFO - Processing ratingstable for MD...
2025-10-30 06:20:18,891 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-30 06:20:18,891 - __main__ - INFO - --- Processing State: MO ---
2025-10-30 06:20:19,078 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-30 06:20:19,081 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-30 06:20:19,081 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-30 06:20:19,081 - __main__ - INFO - --- Processing State: NC ---
2025-10-30 06:20:41,833 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-30 06:20:42,006 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-30 06:20:43,146 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-30 06:20:43,146 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-30 06:20:43,156 - __main__ - INFO - Processing ratingstable for NC...
2025-10-30 06:20:43,157 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-30 06:20:43,157 - __main__ - INFO - --- Processing State: NM ---
2025-10-30 06:20:51,388 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-30 06:20:51,391 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-30 06:20:51,391 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-30 06:20:51,391 - __main__ - INFO - --- Processing State: NY ---
2025-10-30 06:21:39,159 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-30 06:21:39,487 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-30 06:21:40,424 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-30 06:21:40,425 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-30 06:21:40,438 - __main__ - INFO - Processing ratingstable for NY...
2025-10-30 06:21:40,440 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-30 06:21:40,440 - __main__ - INFO - --- Processing State: OK ---
2025-10-30 06:21:40,444 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-30 06:21:40 UTC
2025-10-30 06:21:47,775 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-30 06:21:47,940 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-30 06:21:48,787 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-30 06:21:48,788 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-30 06:21:48,798 - __main__ - INFO - Processing ratingstable for OK...
2025-10-30 06:21:48,798 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-30 06:21:48,799 - __main__ - INFO - --- Processing State: OR ---
2025-10-30 06:22:08,815 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-30 06:22:08,977 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-30 06:22:09,852 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-30 06:22:09,853 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-30 06:22:09,863 - __main__ - INFO - Processing ratingstable for OR...
2025-10-30 06:22:09,864 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-30 06:22:09,864 - __main__ - INFO - --- Processing State: TX ---
2025-10-30 06:22:27,859 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-30 06:22:28,036 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-30 06:22:28,972 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-30 06:22:28,972 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-30 06:22:28,982 - __main__ - INFO - Processing ratingstable for TX...
2025-10-30 06:22:28,984 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-30 06:22:28,984 - __main__ - INFO - --- Processing State: VA ---
2025-10-30 06:23:20,157 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-30 06:23:20,358 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-30 06:23:21,378 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-30 06:23:21,378 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-30 06:23:21,388 - __main__ - INFO - Processing ratingstable for VA...
2025-10-30 06:23:21,390 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-30 06:23:21,390 - __main__ - INFO - --- Processing State: WA ---
2025-10-30 06:23:22,456 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-30 06:23:22,458 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-30 06:23:22,458 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-30 06:23:22,458 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-30 06:23:22,462 - __main__ - INFO - Combined scratchertables shape: (10962, 11)
2025-10-30 06:23:22,462 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-30 06:23:22,468 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-30 06:23:22,475 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-30 06:23:22,481 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-30 06:23:22,487 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-30 06:23:22,493 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-30 06:23:22,499 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-30 06:23:22,505 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-30 06:23:22,512 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-30 06:23:22,518 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-30 06:23:22,524 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-30 06:23:22,530 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-30 06:23:22,530 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-30 06:23:23,669 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-30 06:23:23,871 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-30 06:23:27,366 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-30 06:23:27,367 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-30 06:23:27,370 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-30 06:23:27,372 - __main__ - INFO - Combined ratingstable shape after reindex: (861, 51)
2025-10-30 06:23:27,373 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-30 06:23:27,373 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-30 06:23:27,375 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,376 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,376 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,377 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,378 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,379 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,380 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,381 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,382 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,383 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,384 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,384 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,386 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,400 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,403 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,404 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,407 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,408 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,409 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,410 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,411 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,412 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,413 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,414 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-30 06:23:27,414 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-30 06:23:28,806 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-30 06:23:28,806 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-30 06:23:28,991 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-30 06:23:28,996 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-30 06:23:30,619 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-30 06:23:30,619 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-30 06:23:30 UTC
2025-10-30 06:23:30,619 - __main__ - INFO - Total execution time: 0:04:36.404501
2025-10-31 06:19:16,282 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-10-31 06:19:16 UTC
2025-10-31 06:19:16,283 - __main__ - INFO - --- Processing State: AZ ---
2025-10-31 06:19:18,016 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-10-31 06:19:18,018 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-10-31 06:19:18,019 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-10-31 06:19:18,019 - __main__ - INFO - --- Processing State: CA ---
2025-10-31 06:19:18,023 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-31 06:19:18 UTC
2025-10-31 06:19:36,793 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-10-31 06:19:37,086 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-10-31 06:19:39,777 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-10-31 06:19:39,778 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-10-31 06:19:39,788 - __main__ - INFO - Processing ratingstable for CA...
2025-10-31 06:19:39,789 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-10-31 06:19:39,789 - __main__ - INFO - --- Processing State: DC ---
2025-10-31 06:20:27,546 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-10-31 06:20:27,693 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-10-31 06:20:28,928 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-10-31 06:20:28,928 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-10-31 06:20:28,938 - __main__ - INFO - Processing ratingstable for DC...
2025-10-31 06:20:28,939 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-10-31 06:20:28,939 - __main__ - INFO - --- Processing State: KS ---
2025-10-31 06:20:29,963 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-10-31 06:20:29,963 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-10-31 06:20:29,964 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-10-31 06:20:29,964 - __main__ - INFO - --- Processing State: KY ---
2025-10-31 06:20:39,599 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-10-31 06:20:39,764 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-10-31 06:20:40,883 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-10-31 06:20:40,884 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-10-31 06:20:40,894 - __main__ - INFO - Processing ratingstable for KY...
2025-10-31 06:20:40,895 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-10-31 06:20:40,895 - __main__ - INFO - --- Processing State: MD ---
2025-10-31 06:20:49,609 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-10-31 06:20:49,760 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-10-31 06:20:50,866 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-10-31 06:20:50,866 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-10-31 06:20:50,876 - __main__ - INFO - Processing ratingstable for MD...
2025-10-31 06:20:50,877 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-10-31 06:20:50,877 - __main__ - INFO - --- Processing State: MO ---
2025-10-31 06:20:51,078 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-10-31 06:20:51,080 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-10-31 06:20:51,081 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-10-31 06:20:51,081 - __main__ - INFO - --- Processing State: NC ---
2025-10-31 06:21:19,823 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-10-31 06:21:19,959 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-10-31 06:21:20,838 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-10-31 06:21:20,839 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-10-31 06:21:20,848 - __main__ - INFO - Processing ratingstable for NC...
2025-10-31 06:21:20,850 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-10-31 06:21:20,850 - __main__ - INFO - --- Processing State: NM ---
2025-10-31 06:21:25,890 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-10-31 06:21:25,893 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-10-31 06:21:25,893 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-10-31 06:21:25,893 - __main__ - INFO - --- Processing State: NY ---
2025-10-31 06:22:10,331 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-10-31 06:22:10,604 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-10-31 06:22:11,502 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-10-31 06:22:11,503 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-10-31 06:22:11,513 - __main__ - INFO - Processing ratingstable for NY...
2025-10-31 06:22:11,514 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-10-31 06:22:11,514 - __main__ - INFO - --- Processing State: OK ---
2025-10-31 06:22:11,518 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-10-31 06:22:11 UTC
2025-10-31 06:22:18,387 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-10-31 06:22:18,545 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-10-31 06:22:19,462 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-10-31 06:22:19,462 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-10-31 06:22:19,471 - __main__ - INFO - Processing ratingstable for OK...
2025-10-31 06:22:19,472 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-10-31 06:22:19,472 - __main__ - INFO - --- Processing State: OR ---
2025-10-31 06:22:33,503 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-10-31 06:22:33,641 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-10-31 06:22:34,541 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-10-31 06:22:34,542 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-10-31 06:22:34,551 - __main__ - INFO - Processing ratingstable for OR...
2025-10-31 06:22:34,553 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-10-31 06:22:34,553 - __main__ - INFO - --- Processing State: TX ---
2025-10-31 06:22:53,485 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-10-31 06:22:53,659 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-10-31 06:22:54,718 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-10-31 06:22:54,718 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-10-31 06:22:54,728 - __main__ - INFO - Processing ratingstable for TX...
2025-10-31 06:22:54,729 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-10-31 06:22:54,729 - __main__ - INFO - --- Processing State: VA ---
2025-10-31 06:23:50,528 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-10-31 06:23:50,703 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-10-31 06:23:51,892 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-10-31 06:23:51,893 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-10-31 06:23:51,902 - __main__ - INFO - Processing ratingstable for VA...
2025-10-31 06:23:51,904 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-10-31 06:23:51,904 - __main__ - INFO - --- Processing State: WA ---
2025-10-31 06:23:52,632 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-10-31 06:23:52,634 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-10-31 06:23:52,634 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-10-31 06:23:52,634 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-10-31 06:23:52,636 - __main__ - INFO - Combined scratchertables shape: (10948, 11)
2025-10-31 06:23:52,636 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-10-31 06:23:52,643 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-31 06:23:52,649 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-10-31 06:23:52,655 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-10-31 06:23:52,661 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-10-31 06:23:52,668 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-10-31 06:23:52,674 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-10-31 06:23:52,680 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-10-31 06:23:52,686 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-10-31 06:23:52,692 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-10-31 06:23:52,698 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-10-31 06:23:52,704 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-10-31 06:23:52,704 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-10-31 06:23:53,831 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-10-31 06:23:54,007 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-10-31 06:23:57,374 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-10-31 06:23:57,375 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-10-31 06:23:57,379 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-31 06:23:57,381 - __main__ - INFO - Combined ratingstable shape after reindex: (860, 51)
2025-10-31 06:23:57,381 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-10-31 06:23:57,381 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-10-31 06:23:57,383 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,384 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,385 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,386 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,386 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,387 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,388 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,389 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,390 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,391 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,392 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,393 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,394 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,409 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,412 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,413 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,416 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,417 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,418 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,419 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,420 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,421 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,422 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,423 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-10-31 06:23:57,423 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-10-31 06:23:58,925 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-10-31 06:23:58,925 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-10-31 06:23:59,089 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-10-31 06:23:59,094 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-10-31 06:24:00,903 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-10-31 06:24:00,904 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-10-31 06:24:00 UTC
2025-10-31 06:24:00,904 - __main__ - INFO - Total execution time: 0:04:44.622023
2025-11-01 06:16:52,290 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-01 06:16:52 UTC
2025-11-01 06:16:52,291 - __main__ - INFO - --- Processing State: AZ ---
2025-11-01 06:16:53,694 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-01 06:16:53,696 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-01 06:16:53,696 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-01 06:16:53,696 - __main__ - INFO - --- Processing State: CA ---
2025-11-01 06:16:53,701 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-01 06:16:53 UTC
2025-11-01 06:17:10,233 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-01 06:17:10,685 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-01 06:17:13,499 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-01 06:17:13,500 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-01 06:17:13,510 - __main__ - INFO - Processing ratingstable for CA...
2025-11-01 06:17:13,511 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-01 06:17:13,511 - __main__ - INFO - --- Processing State: DC ---
2025-11-01 06:18:23,413 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-01 06:18:23,697 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-01 06:18:24,680 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-01 06:18:24,681 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-01 06:18:24,691 - __main__ - INFO - Processing ratingstable for DC...
2025-11-01 06:18:24,692 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-01 06:18:24,692 - __main__ - INFO - --- Processing State: KS ---
2025-11-01 06:18:25,532 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-01 06:18:25,533 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-01 06:18:25,533 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-01 06:18:25,533 - __main__ - INFO - --- Processing State: KY ---
2025-11-01 06:18:34,540 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-01 06:18:34,725 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-01 06:18:35,605 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-01 06:18:35,606 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-01 06:18:35,617 - __main__ - INFO - Processing ratingstable for KY...
2025-11-01 06:18:35,618 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-01 06:18:35,618 - __main__ - INFO - --- Processing State: MD ---
2025-11-01 06:18:44,594 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-01 06:18:44,770 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-01 06:18:45,681 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-01 06:18:45,682 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-01 06:18:45,692 - __main__ - INFO - Processing ratingstable for MD...
2025-11-01 06:18:45,694 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-01 06:18:45,694 - __main__ - INFO - --- Processing State: MO ---
2025-11-01 06:18:45,912 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-01 06:18:45,916 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-01 06:18:45,916 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-01 06:18:45,916 - __main__ - INFO - --- Processing State: NC ---
2025-11-01 06:19:33,970 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-01 06:19:34,187 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-01 06:19:34,988 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-01 06:19:34,988 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-01 06:19:34,998 - __main__ - INFO - Processing ratingstable for NC...
2025-11-01 06:19:34,999 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-01 06:19:34,999 - __main__ - INFO - --- Processing State: NM ---
2025-11-01 06:19:40,054 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-01 06:19:40,058 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-01 06:19:40,058 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-01 06:19:40,058 - __main__ - INFO - --- Processing State: NY ---
2025-11-01 06:20:36,242 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-01 06:20:36,465 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-01 06:20:37,354 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-01 06:20:37,355 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-01 06:20:37,366 - __main__ - INFO - Processing ratingstable for NY...
2025-11-01 06:20:37,368 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-01 06:20:37,368 - __main__ - INFO - --- Processing State: OK ---
2025-11-01 06:20:37,376 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-01 06:20:37 UTC
2025-11-01 06:20:44,547 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-01 06:20:44,743 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-01 06:20:45,519 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-01 06:20:45,520 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-01 06:20:45,529 - __main__ - INFO - Processing ratingstable for OK...
2025-11-01 06:20:45,530 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-01 06:20:45,530 - __main__ - INFO - --- Processing State: OR ---
2025-11-01 06:20:55,285 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-01 06:20:55,469 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-01 06:20:56,238 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-01 06:20:56,239 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-01 06:20:56,249 - __main__ - INFO - Processing ratingstable for OR...
2025-11-01 06:20:56,250 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-01 06:20:56,250 - __main__ - INFO - --- Processing State: TX ---
2025-11-01 06:21:18,893 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-01 06:21:19,088 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-01 06:21:19,865 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-01 06:21:19,866 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-01 06:21:19,876 - __main__ - INFO - Processing ratingstable for TX...
2025-11-01 06:21:19,877 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-01 06:21:19,877 - __main__ - INFO - --- Processing State: VA ---
2025-11-01 06:22:27,019 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-01 06:22:27,227 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-01 06:22:28,058 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-01 06:22:28,059 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-01 06:22:28,069 - __main__ - INFO - Processing ratingstable for VA...
2025-11-01 06:22:28,070 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-01 06:22:28,070 - __main__ - INFO - --- Processing State: WA ---
2025-11-01 06:22:37,148 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-01 06:22:37,150 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-01 06:22:37,150 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-01 06:22:37,150 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-01 06:22:37,153 - __main__ - INFO - Combined scratchertables shape: (10822, 11)
2025-11-01 06:22:37,153 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-01 06:22:37,159 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-01 06:22:37,166 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-01 06:22:37,172 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-01 06:22:37,178 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-01 06:22:37,184 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-01 06:22:37,191 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-01 06:22:37,197 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-01 06:22:37,203 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-01 06:22:37,209 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-01 06:22:37,215 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-01 06:22:37,221 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-01 06:22:37,221 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-01 06:22:38,218 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-01 06:22:38,429 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-01 06:22:42,409 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-01 06:22:42,410 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-01 06:22:42,413 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-01 06:22:42,416 - __main__ - INFO - Combined ratingstable shape after reindex: (849, 51)
2025-11-01 06:22:42,416 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-01 06:22:42,416 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-01 06:22:42,418 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,419 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,419 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,420 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,421 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,422 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,423 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,424 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,425 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,426 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,427 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,427 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,429 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,443 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,446 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,447 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,450 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,451 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,452 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,453 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,454 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,454 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,455 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,456 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-01 06:22:42,456 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-01 06:22:43,737 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-01 06:22:43,737 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-01 06:22:43,948 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-01 06:22:43,952 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-01 06:22:45,626 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-01 06:22:45,627 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-01 06:22:45 UTC
2025-11-01 06:22:45,627 - __main__ - INFO - Total execution time: 0:05:53.337019
2025-11-02 06:17:45,807 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-02 06:17:45 UTC
2025-11-02 06:17:45,809 - __main__ - INFO - --- Processing State: AZ ---
2025-11-02 06:17:47,626 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-02 06:17:47,627 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-02 06:17:47,628 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-02 06:17:47,628 - __main__ - INFO - --- Processing State: CA ---
2025-11-02 06:17:47,632 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-02 06:17:47 UTC
2025-11-02 06:18:04,117 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-02 06:18:04,330 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-02 06:18:06,393 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-02 06:18:06,394 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-02 06:18:06,404 - __main__ - INFO - Processing ratingstable for CA...
2025-11-02 06:18:06,405 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-02 06:18:06,405 - __main__ - INFO - --- Processing State: DC ---
2025-11-02 06:19:03,748 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-02 06:19:03,887 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-02 06:19:04,945 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-02 06:19:04,946 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-02 06:19:04,956 - __main__ - INFO - Processing ratingstable for DC...
2025-11-02 06:19:04,957 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-02 06:19:04,957 - __main__ - INFO - --- Processing State: KS ---
2025-11-02 06:19:05,963 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-02 06:19:05,964 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-02 06:19:05,964 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-02 06:19:05,964 - __main__ - INFO - --- Processing State: KY ---
2025-11-02 06:19:14,230 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-02 06:19:14,379 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-02 06:19:15,337 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-02 06:19:15,338 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-02 06:19:15,348 - __main__ - INFO - Processing ratingstable for KY...
2025-11-02 06:19:15,349 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-02 06:19:15,349 - __main__ - INFO - --- Processing State: MD ---
2025-11-02 06:19:23,684 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-02 06:19:23,811 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-02 06:19:24,716 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-02 06:19:24,717 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-02 06:19:24,727 - __main__ - INFO - Processing ratingstable for MD...
2025-11-02 06:19:24,728 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-02 06:19:24,728 - __main__ - INFO - --- Processing State: MO ---
2025-11-02 06:19:24,921 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-02 06:19:24,923 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-02 06:19:24,923 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-02 06:19:24,923 - __main__ - INFO - --- Processing State: NC ---
2025-11-02 06:19:53,700 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-02 06:19:53,830 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-02 06:19:54,704 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-02 06:19:54,705 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-02 06:19:54,715 - __main__ - INFO - Processing ratingstable for NC...
2025-11-02 06:19:54,716 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-02 06:19:54,716 - __main__ - INFO - --- Processing State: NM ---
2025-11-02 06:19:59,493 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-02 06:19:59,496 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-02 06:19:59,496 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-02 06:19:59,496 - __main__ - INFO - --- Processing State: NY ---
2025-11-02 06:20:40,622 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-02 06:20:40,769 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-02 06:20:41,636 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-02 06:20:41,637 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-02 06:20:41,646 - __main__ - INFO - Processing ratingstable for NY...
2025-11-02 06:20:41,647 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-02 06:20:41,648 - __main__ - INFO - --- Processing State: OK ---
2025-11-02 06:20:41,652 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-02 06:20:41 UTC
2025-11-02 06:20:48,308 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-02 06:20:48,438 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-02 06:20:49,337 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-02 06:20:49,337 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-02 06:20:49,347 - __main__ - INFO - Processing ratingstable for OK...
2025-11-02 06:20:49,347 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-02 06:20:49,347 - __main__ - INFO - --- Processing State: OR ---
2025-11-02 06:21:03,337 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-02 06:21:03,472 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-02 06:21:04,434 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-02 06:21:04,435 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-02 06:21:04,445 - __main__ - INFO - Processing ratingstable for OR...
2025-11-02 06:21:04,446 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-02 06:21:04,446 - __main__ - INFO - --- Processing State: TX ---
2025-11-02 06:21:23,141 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-02 06:21:23,269 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-02 06:21:24,028 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-02 06:21:24,028 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-02 06:21:24,038 - __main__ - INFO - Processing ratingstable for TX...
2025-11-02 06:21:24,039 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-02 06:21:24,039 - __main__ - INFO - --- Processing State: VA ---
2025-11-02 06:21:24,483 - __main__ - ERROR - Error occurred during VA processing (after import): Expecting value: line 1 column 1 (char 0)
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/requests/models.py", line 965, in json
    return complexjson.loads(self.content.decode(encoding), **kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 757, in run_va_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/valotteryscrape.py", line 65, in exportScratcherRecs
    tixlist = response.json()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/requests/models.py", line 973, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2025-11-02 06:21:24,561 - __main__ - WARNING - Function run_va_scratcher_recs did not return valid scratchertables data.
2025-11-02 06:21:24,562 - __main__ - WARNING - Function run_va_scratcher_recs did not return valid ratingstable data.
2025-11-02 06:21:24,562 - __main__ - INFO - --- Processing State: WA ---
2025-11-02 06:21:25,330 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-02 06:21:25,331 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-02 06:21:25,331 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-02 06:21:25,331 - __main__ - INFO - Combining scratchertables data from 9 states.
2025-11-02 06:21:25,334 - __main__ - INFO - Combined scratchertables shape: (9723, 11)
2025-11-02 06:21:25,334 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-02 06:21:25,339 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-02 06:21:25,345 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-02 06:21:25,350 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-02 06:21:25,356 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-02 06:21:25,361 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-02 06:21:25,367 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-02 06:21:25,373 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-02 06:21:25,378 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-02 06:21:25,383 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-02 06:21:25,389 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-02 06:21:25,394 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-02 06:21:25,394 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-02 06:21:26,542 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-02 06:21:26,953 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-02 06:21:31,177 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-02 06:21:31,178 - __main__ - INFO - Combining ratingstable data from 9 states.
2025-11-02 06:21:31,181 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-02 06:21:31,183 - __main__ - INFO - Combined ratingstable shape after reindex: (755, 51)
2025-11-02 06:21:31,184 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-02 06:21:31,184 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-02 06:21:31,186 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,187 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,188 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,189 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,190 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,191 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,191 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,192 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,193 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,194 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,195 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,196 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,198 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,211 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,214 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,215 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,217 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,218 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,219 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,220 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,221 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,222 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,223 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,224 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-02 06:21:31,224 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-02 06:21:32,534 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-02 06:21:32,534 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-02 06:21:32,677 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-02 06:21:32,682 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-02 06:21:33,936 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-02 06:21:33,936 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-02 06:21:33 UTC
2025-11-02 06:21:33,937 - __main__ - INFO - Total execution time: 0:03:48.129333
2025-11-03 06:20:09,268 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-03 06:20:09 UTC
2025-11-03 06:20:09,270 - __main__ - INFO - --- Processing State: AZ ---
2025-11-03 06:20:11,172 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-03 06:20:11,175 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-03 06:20:11,175 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-03 06:20:11,175 - __main__ - INFO - --- Processing State: CA ---
2025-11-03 06:20:11,179 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-03 06:20:11 UTC
2025-11-03 06:20:29,791 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-03 06:20:30,189 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-03 06:20:32,248 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-03 06:20:32,249 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-03 06:20:32,259 - __main__ - INFO - Processing ratingstable for CA...
2025-11-03 06:20:32,260 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-03 06:20:32,260 - __main__ - INFO - --- Processing State: DC ---
2025-11-03 06:21:05,684 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-03 06:21:05,869 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-03 06:21:06,737 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-03 06:21:06,737 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-03 06:21:06,747 - __main__ - INFO - Processing ratingstable for DC...
2025-11-03 06:21:06,748 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-03 06:21:06,748 - __main__ - INFO - --- Processing State: KS ---
2025-11-03 06:21:07,588 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-03 06:21:07,588 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-03 06:21:07,588 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-03 06:21:07,589 - __main__ - INFO - --- Processing State: KY ---
2025-11-03 06:21:15,698 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-03 06:21:15,893 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-03 06:21:16,741 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-03 06:21:16,742 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-03 06:21:16,752 - __main__ - INFO - Processing ratingstable for KY...
2025-11-03 06:21:16,753 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-03 06:21:16,753 - __main__ - INFO - --- Processing State: MD ---
2025-11-03 06:21:16,896 - __main__ - ERROR - Error occurred during MD processing (after import): "Only a column name can be used for the key in a dtype mappings argument. 'Winning Tickets At Start' not found in columns."
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 523, in run_md_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/mdlotteryscrape.py", line 142, in exportScratcherRecs
    tixtables = tixtables.astype(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6627, in astype
    raise KeyError(
KeyError: "Only a column name can be used for the key in a dtype mappings argument. 'Winning Tickets At Start' not found in columns."
2025-11-03 06:21:16,898 - __main__ - WARNING - Function run_md_scratcher_recs did not return valid scratchertables data.
2025-11-03 06:21:16,899 - __main__ - WARNING - Function run_md_scratcher_recs did not return valid ratingstable data.
2025-11-03 06:21:16,899 - __main__ - INFO - --- Processing State: MO ---
2025-11-03 06:21:17,093 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-03 06:21:17,096 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-03 06:21:17,096 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-03 06:21:17,096 - __main__ - INFO - --- Processing State: NC ---
2025-11-03 06:21:42,278 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-03 06:21:42,466 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-03 06:21:43,283 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-03 06:21:43,283 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-03 06:21:43,293 - __main__ - INFO - Processing ratingstable for NC...
2025-11-03 06:21:43,294 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-03 06:21:43,294 - __main__ - INFO - --- Processing State: NM ---
2025-11-03 06:21:46,348 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-03 06:21:46,350 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-03 06:21:46,350 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-03 06:21:46,350 - __main__ - INFO - --- Processing State: NY ---
2025-11-03 06:22:29,594 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-03 06:22:29,755 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-03 06:22:30,690 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-03 06:22:30,691 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-03 06:22:30,700 - __main__ - INFO - Processing ratingstable for NY...
2025-11-03 06:22:30,701 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-03 06:22:30,702 - __main__ - INFO - --- Processing State: OK ---
2025-11-03 06:22:30,706 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-03 06:22:30 UTC
2025-11-03 06:22:37,578 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-03 06:22:37,750 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-03 06:22:38,604 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-03 06:22:38,605 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-03 06:22:38,614 - __main__ - INFO - Processing ratingstable for OK...
2025-11-03 06:22:38,615 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-03 06:22:38,615 - __main__ - INFO - --- Processing State: OR ---
2025-11-03 06:22:56,737 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-03 06:22:56,897 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-03 06:22:57,733 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-03 06:22:57,733 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-03 06:22:57,743 - __main__ - INFO - Processing ratingstable for OR...
2025-11-03 06:22:57,745 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-03 06:22:57,745 - __main__ - INFO - --- Processing State: TX ---
2025-11-03 06:23:15,977 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-03 06:23:16,134 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-03 06:23:16,905 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-03 06:23:16,906 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-03 06:23:16,916 - __main__ - INFO - Processing ratingstable for TX...
2025-11-03 06:23:16,917 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-03 06:23:16,917 - __main__ - INFO - --- Processing State: VA ---
2025-11-03 06:24:07,583 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-03 06:24:07,782 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-03 06:24:08,603 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-03 06:24:08,604 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-03 06:24:08,613 - __main__ - INFO - Processing ratingstable for VA...
2025-11-03 06:24:08,615 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-03 06:24:08,615 - __main__ - INFO - --- Processing State: WA ---
2025-11-03 06:24:09,435 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-03 06:24:09,437 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-03 06:24:09,437 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-03 06:24:09,437 - __main__ - INFO - Combining scratchertables data from 9 states.
2025-11-03 06:24:09,440 - __main__ - INFO - Combined scratchertables shape: (9627, 11)
2025-11-03 06:24:09,440 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-03 06:24:09,445 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-03 06:24:09,451 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-03 06:24:09,457 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-03 06:24:09,462 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-03 06:24:09,468 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-03 06:24:09,474 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-03 06:24:09,479 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-03 06:24:09,485 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-03 06:24:09,490 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-03 06:24:09,496 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-03 06:24:09,501 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-03 06:24:09,502 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-03 06:24:10,404 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-03 06:24:10,610 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-03 06:24:13,547 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-03 06:24:13,548 - __main__ - INFO - Combining ratingstable data from 9 states.
2025-11-03 06:24:13,552 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-03 06:24:13,554 - __main__ - INFO - Combined ratingstable shape after reindex: (750, 51)
2025-11-03 06:24:13,554 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-03 06:24:13,554 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-03 06:24:13,556 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,557 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,558 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,559 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,560 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,561 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,562 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,563 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,564 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,565 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,566 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,567 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,568 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,581 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,584 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,585 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,588 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,589 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,590 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,591 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,592 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,592 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,593 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,594 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-03 06:24:13,594 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-03 06:24:14,815 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-03 06:24:14,816 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-03 06:24:15,000 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-03 06:24:15,004 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-03 06:24:17,776 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-03 06:24:17,777 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-03 06:24:17 UTC
2025-11-03 06:24:17,777 - __main__ - INFO - Total execution time: 0:04:08.508708
2025-11-04 06:19:53,973 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-04 06:19:53 UTC
2025-11-04 06:19:53,975 - __main__ - INFO - --- Processing State: AZ ---
2025-11-04 06:19:55,868 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-04 06:19:55,870 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-04 06:19:55,871 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-04 06:19:55,871 - __main__ - INFO - --- Processing State: CA ---
2025-11-04 06:19:55,876 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-04 06:19:55 UTC
2025-11-04 06:20:09,847 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-04 06:20:10,011 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-04 06:20:12,892 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-04 06:20:12,893 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-04 06:20:12,903 - __main__ - INFO - Processing ratingstable for CA...
2025-11-04 06:20:12,904 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-04 06:20:12,904 - __main__ - INFO - --- Processing State: DC ---
2025-11-04 06:21:32,841 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-04 06:21:32,993 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-04 06:21:33,815 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-04 06:21:33,816 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-04 06:21:33,826 - __main__ - INFO - Processing ratingstable for DC...
2025-11-04 06:21:33,827 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-04 06:21:33,827 - __main__ - INFO - --- Processing State: KS ---
2025-11-04 06:21:34,679 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-04 06:21:34,679 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-04 06:21:34,679 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-04 06:21:34,680 - __main__ - INFO - --- Processing State: KY ---
2025-11-04 06:21:43,191 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-04 06:21:43,336 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-04 06:21:44,123 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-04 06:21:44,124 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-04 06:21:44,134 - __main__ - INFO - Processing ratingstable for KY...
2025-11-04 06:21:44,135 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-04 06:21:44,135 - __main__ - INFO - --- Processing State: MD ---
2025-11-04 06:21:52,232 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-04 06:21:52,372 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-04 06:21:53,172 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-04 06:21:53,173 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-04 06:21:53,182 - __main__ - INFO - Processing ratingstable for MD...
2025-11-04 06:21:53,184 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-04 06:21:53,184 - __main__ - INFO - --- Processing State: MO ---
2025-11-04 06:21:53,451 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-04 06:21:53,453 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-04 06:21:53,454 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-04 06:21:53,454 - __main__ - INFO - --- Processing State: NC ---
2025-11-04 06:22:45,961 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-04 06:22:46,118 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-04 06:22:46,889 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-04 06:22:46,890 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-04 06:22:46,899 - __main__ - INFO - Processing ratingstable for NC...
2025-11-04 06:22:46,901 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-04 06:22:46,901 - __main__ - INFO - --- Processing State: NM ---
2025-11-04 06:22:51,879 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-04 06:22:51,882 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-04 06:22:51,882 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-04 06:22:51,882 - __main__ - INFO - --- Processing State: NY ---
2025-11-04 06:23:46,884 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-04 06:23:47,046 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-04 06:23:47,947 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-04 06:23:47,948 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-04 06:23:47,958 - __main__ - INFO - Processing ratingstable for NY...
2025-11-04 06:23:47,959 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-04 06:23:47,959 - __main__ - INFO - --- Processing State: OK ---
2025-11-04 06:23:47,963 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-04 06:23:47 UTC
2025-11-04 06:23:55,094 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-04 06:23:55,287 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-04 06:23:56,020 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-04 06:23:56,021 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-04 06:23:56,030 - __main__ - INFO - Processing ratingstable for OK...
2025-11-04 06:23:56,031 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-04 06:23:56,031 - __main__ - INFO - --- Processing State: OR ---
2025-11-04 06:24:05,611 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-04 06:24:05,748 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-04 06:24:06,461 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-04 06:24:06,461 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-04 06:24:06,471 - __main__ - INFO - Processing ratingstable for OR...
2025-11-04 06:24:06,472 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-04 06:24:06,473 - __main__ - INFO - --- Processing State: TX ---
2025-11-04 06:24:29,888 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-04 06:24:30,043 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-04 06:24:30,890 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-04 06:24:30,890 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-04 06:24:30,900 - __main__ - INFO - Processing ratingstable for TX...
2025-11-04 06:24:30,901 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-04 06:24:30,901 - __main__ - INFO - --- Processing State: VA ---
2025-11-04 06:25:37,536 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-04 06:25:37,693 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-04 06:25:38,504 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-04 06:25:38,504 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-04 06:25:38,514 - __main__ - INFO - Processing ratingstable for VA...
2025-11-04 06:25:38,515 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-04 06:25:38,515 - __main__ - INFO - --- Processing State: WA ---
2025-11-04 06:25:39,086 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-04 06:25:39,088 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-04 06:25:39,089 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-04 06:25:39,089 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-04 06:25:39,092 - __main__ - INFO - Combined scratchertables shape: (10860, 11)
2025-11-04 06:25:39,092 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-04 06:25:39,098 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-04 06:25:39,104 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-04 06:25:39,109 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-04 06:25:39,115 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-04 06:25:39,121 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-04 06:25:39,127 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-04 06:25:39,133 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-04 06:25:39,139 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-04 06:25:39,145 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-04 06:25:39,151 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-04 06:25:39,156 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-04 06:25:39,156 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-04 06:25:40,140 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-04 06:25:40,309 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-04 06:25:43,924 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-04 06:25:43,925 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-04 06:25:43,928 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-04 06:25:43,930 - __main__ - INFO - Combined ratingstable shape after reindex: (853, 51)
2025-11-04 06:25:43,931 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-04 06:25:43,931 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-04 06:25:43,932 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,933 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,934 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,935 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,936 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,937 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,938 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,939 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,939 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,940 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,941 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,942 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,944 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,958 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,960 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,961 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,964 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,965 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,966 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,967 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,968 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,968 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,969 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,970 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-04 06:25:43,970 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-04 06:25:45,118 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-04 06:25:45,118 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-04 06:25:45,320 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-04 06:25:45,324 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-04 06:25:47,024 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-04 06:25:47,025 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-04 06:25:47 UTC
2025-11-04 06:25:47,025 - __main__ - INFO - Total execution time: 0:05:53.051303
2025-11-05 06:19:30,527 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-05 06:19:30 UTC
2025-11-05 06:19:30,529 - __main__ - INFO - --- Processing State: AZ ---
2025-11-05 06:19:31,891 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-05 06:19:31,893 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-05 06:19:31,893 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-05 06:19:31,893 - __main__ - INFO - --- Processing State: CA ---
2025-11-05 06:19:31,898 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-05 06:19:31 UTC
2025-11-05 06:19:46,229 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-05 06:19:46,449 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-05 06:19:59,931 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-05 06:19:59,932 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-05 06:19:59,942 - __main__ - INFO - Processing ratingstable for CA...
2025-11-05 06:19:59,943 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-05 06:19:59,943 - __main__ - INFO - --- Processing State: DC ---
2025-11-05 06:21:12,851 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-05 06:21:13,045 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-05 06:21:24,222 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-05 06:21:24,223 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-05 06:21:24,233 - __main__ - INFO - Processing ratingstable for DC...
2025-11-05 06:21:24,234 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-05 06:21:24,234 - __main__ - INFO - --- Processing State: KS ---
2025-11-05 06:21:25,146 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-05 06:21:25,147 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-05 06:21:25,147 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-05 06:21:25,147 - __main__ - INFO - --- Processing State: KY ---
2025-11-05 06:21:33,865 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-05 06:21:34,025 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-05 06:21:45,394 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-05 06:21:45,395 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-05 06:21:45,405 - __main__ - INFO - Processing ratingstable for KY...
2025-11-05 06:21:45,407 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-05 06:21:45,407 - __main__ - INFO - --- Processing State: MD ---
2025-11-05 06:21:53,525 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-05 06:21:53,685 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-05 06:22:06,538 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-05 06:22:06,539 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-05 06:22:06,549 - __main__ - INFO - Processing ratingstable for MD...
2025-11-05 06:22:06,550 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-05 06:22:06,550 - __main__ - INFO - --- Processing State: MO ---
2025-11-05 06:22:06,837 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-05 06:22:06,840 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-05 06:22:06,840 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-05 06:22:06,840 - __main__ - INFO - --- Processing State: NC ---
2025-11-05 06:22:59,840 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-05 06:23:00,004 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-05 06:23:10,935 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-05 06:23:10,936 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-05 06:23:10,946 - __main__ - INFO - Processing ratingstable for NC...
2025-11-05 06:23:10,947 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-05 06:23:10,947 - __main__ - INFO - --- Processing State: NM ---
2025-11-05 06:23:16,265 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-05 06:23:16,269 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-05 06:23:16,269 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-05 06:23:16,269 - __main__ - INFO - --- Processing State: NY ---
2025-11-05 06:24:11,245 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-05 06:24:11,447 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-05 06:24:22,521 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-05 06:24:22,522 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-05 06:24:22,531 - __main__ - INFO - Processing ratingstable for NY...
2025-11-05 06:24:22,533 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-05 06:24:22,533 - __main__ - INFO - --- Processing State: OK ---
2025-11-05 06:24:22,537 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-05 06:24:22 UTC
2025-11-05 06:24:30,023 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-05 06:24:30,179 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-05 06:24:44,043 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-05 06:24:44,044 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-05 06:24:44,053 - __main__ - INFO - Processing ratingstable for OK...
2025-11-05 06:24:44,054 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-05 06:24:44,054 - __main__ - INFO - --- Processing State: OR ---
2025-11-05 06:24:53,753 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-05 06:24:53,917 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-05 06:25:05,173 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-05 06:25:05,174 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-05 06:25:05,184 - __main__ - INFO - Processing ratingstable for OR...
2025-11-05 06:25:05,185 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-05 06:25:05,185 - __main__ - INFO - --- Processing State: TX ---
2025-11-05 06:25:29,845 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-05 06:25:30,003 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-05 06:25:40,985 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-05 06:25:40,985 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-05 06:25:40,995 - __main__ - INFO - Processing ratingstable for TX...
2025-11-05 06:25:40,996 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-05 06:25:40,996 - __main__ - INFO - --- Processing State: VA ---
2025-11-05 06:26:47,120 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-05 06:26:47,283 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-05 06:26:58,179 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-05 06:26:58,180 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-05 06:26:58,189 - __main__ - INFO - Processing ratingstable for VA...
2025-11-05 06:26:58,191 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-05 06:26:58,191 - __main__ - INFO - --- Processing State: WA ---
2025-11-05 06:27:06,833 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-05 06:27:06,835 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-05 06:27:06,835 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-05 06:27:06,835 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-05 06:27:06,838 - __main__ - INFO - Combined scratchertables shape: (10882, 11)
2025-11-05 06:27:06,838 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-05 06:27:06,844 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-05 06:27:06,850 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-05 06:27:06,856 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-05 06:27:06,862 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-05 06:27:06,868 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-05 06:27:06,874 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-05 06:27:06,881 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-05 06:27:06,887 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-05 06:27:06,893 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-05 06:27:06,899 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-05 06:27:06,905 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-05 06:27:06,905 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-05 06:27:08,257 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-05 06:27:08,460 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-05 06:27:22,588 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-05 06:27:22,588 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-05 06:27:22,592 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-05 06:27:22,594 - __main__ - INFO - Combined ratingstable shape after reindex: (856, 51)
2025-11-05 06:27:22,594 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-05 06:27:22,594 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-05 06:27:22,596 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,597 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,598 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,599 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,600 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,601 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,602 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,602 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,603 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,604 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,605 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,606 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,607 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,622 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,625 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,625 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,628 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,629 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,630 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,631 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,632 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,633 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,634 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,634 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-05 06:27:22,634 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-05 06:27:23,853 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-05 06:27:23,853 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-05 06:27:24,029 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-05 06:27:24,034 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-05 06:27:41,691 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-05 06:27:41,692 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-05 06:27:41 UTC
2025-11-05 06:27:41,692 - __main__ - INFO - Total execution time: 0:08:11.164116
2025-11-06 06:20:04,286 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-06 06:20:04 UTC
2025-11-06 06:20:04,288 - __main__ - INFO - --- Processing State: AZ ---
2025-11-06 06:20:07,001 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-06 06:20:07,003 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-06 06:20:07,003 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-06 06:20:07,003 - __main__ - INFO - --- Processing State: CA ---
2025-11-06 06:20:07,007 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-06 06:20:07 UTC
2025-11-06 06:20:17,056 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-06 06:20:17,429 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-06 06:20:18,789 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-06 06:20:18,790 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-06 06:20:18,800 - __main__ - INFO - Processing ratingstable for CA...
2025-11-06 06:20:18,801 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-06 06:20:18,801 - __main__ - INFO - --- Processing State: DC ---
2025-11-06 06:21:13,032 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-06 06:21:13,172 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-06 06:21:14,024 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-06 06:21:14,025 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-06 06:21:14,035 - __main__ - INFO - Processing ratingstable for DC...
2025-11-06 06:21:14,036 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-06 06:21:14,036 - __main__ - INFO - --- Processing State: KS ---
2025-11-06 06:21:14,876 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-06 06:21:14,876 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-06 06:21:14,877 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-06 06:21:14,877 - __main__ - INFO - --- Processing State: KY ---
2025-11-06 06:21:23,091 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-06 06:21:23,319 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-06 06:21:24,239 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-06 06:21:24,240 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-06 06:21:24,250 - __main__ - INFO - Processing ratingstable for KY...
2025-11-06 06:21:24,251 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-06 06:21:24,251 - __main__ - INFO - --- Processing State: MD ---
2025-11-06 06:21:32,120 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-06 06:21:32,265 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-06 06:21:33,042 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-06 06:21:33,043 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-06 06:21:33,053 - __main__ - INFO - Processing ratingstable for MD...
2025-11-06 06:21:33,054 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-06 06:21:33,054 - __main__ - INFO - --- Processing State: MO ---
2025-11-06 06:21:33,150 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-06 06:21:33,153 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-06 06:21:33,153 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-06 06:21:33,153 - __main__ - INFO - --- Processing State: NC ---
2025-11-06 06:22:04,022 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-06 06:22:04,247 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-06 06:22:04,977 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-06 06:22:04,978 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-06 06:22:04,988 - __main__ - INFO - Processing ratingstable for NC...
2025-11-06 06:22:04,989 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-06 06:22:04,989 - __main__ - INFO - --- Processing State: NM ---
2025-11-06 06:22:10,001 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-06 06:22:10,005 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-06 06:22:10,006 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-06 06:22:10,006 - __main__ - INFO - --- Processing State: NY ---
2025-11-06 06:22:56,584 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-06 06:22:56,732 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-06 06:22:57,499 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-06 06:22:57,499 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-06 06:22:57,509 - __main__ - INFO - Processing ratingstable for NY...
2025-11-06 06:22:57,510 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-06 06:22:57,510 - __main__ - INFO - --- Processing State: OK ---
2025-11-06 06:22:57,515 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-06 06:22:57 UTC
2025-11-06 06:23:04,549 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-06 06:23:04,697 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-06 06:23:05,567 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-06 06:23:05,568 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-06 06:23:05,577 - __main__ - INFO - Processing ratingstable for OK...
2025-11-06 06:23:05,578 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-06 06:23:05,578 - __main__ - INFO - --- Processing State: OR ---
2025-11-06 06:23:19,511 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-06 06:23:19,669 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-06 06:23:20,266 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-06 06:23:20,266 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-06 06:23:20,276 - __main__ - INFO - Processing ratingstable for OR...
2025-11-06 06:23:20,277 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-06 06:23:20,278 - __main__ - INFO - --- Processing State: TX ---
2025-11-06 06:23:39,677 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-06 06:23:40,853 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-06 06:23:41,618 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-06 06:23:41,619 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-06 06:23:41,628 - __main__ - INFO - Processing ratingstable for TX...
2025-11-06 06:23:41,629 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-06 06:23:41,629 - __main__ - INFO - --- Processing State: VA ---
2025-11-06 06:24:34,568 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-06 06:24:34,720 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-06 06:24:35,480 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-06 06:24:35,481 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-06 06:24:35,491 - __main__ - INFO - Processing ratingstable for VA...
2025-11-06 06:24:35,492 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-06 06:24:35,492 - __main__ - INFO - --- Processing State: WA ---
2025-11-06 06:24:36,187 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-06 06:24:36,190 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-06 06:24:36,190 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-06 06:24:36,190 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-06 06:24:36,192 - __main__ - INFO - Combined scratchertables shape: (10882, 11)
2025-11-06 06:24:36,193 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-06 06:24:36,199 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-06 06:24:36,205 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-06 06:24:36,212 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-06 06:24:36,218 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-06 06:24:36,224 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-06 06:24:36,231 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-06 06:24:36,237 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-06 06:24:36,243 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-06 06:24:36,249 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-06 06:24:36,255 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-06 06:24:36,261 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-06 06:24:36,262 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-06 06:24:37,076 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-06 06:24:37,231 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-06 06:24:41,276 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-06 06:24:41,277 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-06 06:24:41,281 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-06 06:24:41,283 - __main__ - INFO - Combined ratingstable shape after reindex: (856, 51)
2025-11-06 06:24:41,283 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-06 06:24:41,283 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-06 06:24:41,285 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,286 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,287 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,288 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,288 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,289 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,290 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,291 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,292 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,293 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,294 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,294 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,296 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,311 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,314 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,314 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,317 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,318 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,319 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,320 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,321 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,322 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,323 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,324 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-06 06:24:41,324 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-06 06:24:42,236 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-06 06:24:42,236 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-06 06:24:42,415 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-06 06:24:42,419 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-06 06:24:44,297 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-06 06:24:44,297 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-06 06:24:44 UTC
2025-11-06 06:24:44,298 - __main__ - INFO - Total execution time: 0:04:40.011204
2025-11-07 06:19:58,574 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-07 06:19:58 UTC
2025-11-07 06:19:58,576 - __main__ - INFO - --- Processing State: AZ ---
2025-11-07 06:20:00,340 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-07 06:20:00,342 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-07 06:20:00,342 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-07 06:20:00,342 - __main__ - INFO - --- Processing State: CA ---
2025-11-07 06:20:00,347 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-07 06:20:00 UTC
2025-11-07 06:20:14,417 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-07 06:20:14,599 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-07 06:20:17,675 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-07 06:20:17,676 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-07 06:20:17,686 - __main__ - INFO - Processing ratingstable for CA...
2025-11-07 06:20:17,687 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-07 06:20:17,687 - __main__ - INFO - --- Processing State: DC ---
2025-11-07 06:21:13,659 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-07 06:21:13,771 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-07 06:21:14,531 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-07 06:21:14,532 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-07 06:21:14,542 - __main__ - INFO - Processing ratingstable for DC...
2025-11-07 06:21:14,543 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-07 06:21:14,543 - __main__ - INFO - --- Processing State: KS ---
2025-11-07 06:21:15,469 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-07 06:21:15,470 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-07 06:21:15,470 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-07 06:21:15,470 - __main__ - INFO - --- Processing State: KY ---
2025-11-07 06:21:24,226 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-07 06:21:24,349 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-07 06:21:25,106 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-07 06:21:25,107 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-07 06:21:25,117 - __main__ - INFO - Processing ratingstable for KY...
2025-11-07 06:21:25,118 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-07 06:21:25,118 - __main__ - INFO - --- Processing State: MD ---
2025-11-07 06:21:32,965 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-07 06:21:33,084 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-07 06:21:33,838 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-07 06:21:33,839 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-07 06:21:33,849 - __main__ - INFO - Processing ratingstable for MD...
2025-11-07 06:21:33,850 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-07 06:21:33,850 - __main__ - INFO - --- Processing State: MO ---
2025-11-07 06:21:34,113 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-07 06:21:34,115 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-07 06:21:34,116 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-07 06:21:34,116 - __main__ - INFO - --- Processing State: NC ---
2025-11-07 06:22:13,857 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-07 06:22:13,977 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-07 06:22:14,691 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-07 06:22:14,692 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-07 06:22:14,701 - __main__ - INFO - Processing ratingstable for NC...
2025-11-07 06:22:14,703 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-07 06:22:14,703 - __main__ - INFO - --- Processing State: NM ---
2025-11-07 06:22:20,030 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-07 06:22:20,034 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-07 06:22:20,034 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-07 06:22:20,034 - __main__ - INFO - --- Processing State: NY ---
2025-11-07 06:23:10,677 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-07 06:23:10,793 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-07 06:23:11,648 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-07 06:23:11,649 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-07 06:23:11,658 - __main__ - INFO - Processing ratingstable for NY...
2025-11-07 06:23:11,660 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-07 06:23:11,660 - __main__ - INFO - --- Processing State: OK ---
2025-11-07 06:23:11,664 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-07 06:23:11 UTC
2025-11-07 06:23:18,380 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-07 06:23:18,502 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-07 06:23:19,231 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-07 06:23:19,232 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-07 06:23:19,241 - __main__ - INFO - Processing ratingstable for OK...
2025-11-07 06:23:19,242 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-07 06:23:19,242 - __main__ - INFO - --- Processing State: OR ---
2025-11-07 06:23:31,288 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-07 06:23:31,405 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-07 06:23:32,076 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-07 06:23:32,076 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-07 06:23:32,086 - __main__ - INFO - Processing ratingstable for OR...
2025-11-07 06:23:32,087 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-07 06:23:32,087 - __main__ - INFO - --- Processing State: TX ---
2025-11-07 06:23:54,810 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-07 06:23:54,922 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-07 06:23:55,667 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-07 06:23:55,667 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-07 06:23:55,677 - __main__ - INFO - Processing ratingstable for TX...
2025-11-07 06:23:55,678 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-07 06:23:55,678 - __main__ - INFO - --- Processing State: VA ---
2025-11-07 06:24:59,377 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-07 06:24:59,506 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-07 06:25:00,340 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-07 06:25:00,340 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-07 06:25:00,350 - __main__ - INFO - Processing ratingstable for VA...
2025-11-07 06:25:00,351 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-07 06:25:00,351 - __main__ - INFO - --- Processing State: WA ---
2025-11-07 06:25:01,117 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-07 06:25:01,119 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-07 06:25:01,119 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-07 06:25:01,120 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-07 06:25:01,122 - __main__ - INFO - Combined scratchertables shape: (10882, 11)
2025-11-07 06:25:01,122 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-07 06:25:01,129 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-07 06:25:01,135 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-07 06:25:01,141 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-07 06:25:01,147 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-07 06:25:01,154 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-07 06:25:01,160 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-07 06:25:01,167 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-07 06:25:01,173 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-07 06:25:01,179 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-07 06:25:01,185 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-07 06:25:01,191 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-07 06:25:01,192 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-07 06:25:02,065 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-07 06:25:02,219 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-07 06:25:05,116 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-07 06:25:05,117 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-07 06:25:05,121 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-07 06:25:05,123 - __main__ - INFO - Combined ratingstable shape after reindex: (856, 51)
2025-11-07 06:25:05,123 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-07 06:25:05,123 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-07 06:25:05,125 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,126 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,126 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,127 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,128 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,129 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,130 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,131 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,132 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,133 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,134 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,135 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,136 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,151 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,154 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,155 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,158 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,158 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,159 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,160 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,161 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,162 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,163 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,164 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-07 06:25:05,164 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-07 06:25:06,141 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-07 06:25:06,141 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-07 06:25:06,288 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-07 06:25:06,292 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-07 06:25:07,680 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-07 06:25:07,681 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-07 06:25:07 UTC
2025-11-07 06:25:07,681 - __main__ - INFO - Total execution time: 0:05:09.106622
2025-11-08 06:17:05,627 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-08 06:17:05 UTC
2025-11-08 06:17:05,628 - __main__ - INFO - --- Processing State: AZ ---
2025-11-08 06:17:07,521 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-08 06:17:07,523 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-08 06:17:07,523 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-08 06:17:07,523 - __main__ - INFO - --- Processing State: CA ---
2025-11-08 06:17:07,528 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-08 06:17:07 UTC
2025-11-08 06:17:25,247 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-08 06:17:25,555 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-08 06:17:28,483 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-08 06:17:28,484 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-08 06:17:28,494 - __main__ - INFO - Processing ratingstable for CA...
2025-11-08 06:17:28,494 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-08 06:17:28,495 - __main__ - INFO - --- Processing State: DC ---
2025-11-08 06:18:05,096 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-08 06:18:05,272 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-08 06:18:06,306 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-08 06:18:06,307 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-08 06:18:06,316 - __main__ - INFO - Processing ratingstable for DC...
2025-11-08 06:18:06,317 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-08 06:18:06,317 - __main__ - INFO - --- Processing State: KS ---
2025-11-08 06:18:07,391 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-08 06:18:07,392 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-08 06:18:07,392 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-08 06:18:07,392 - __main__ - INFO - --- Processing State: KY ---
2025-11-08 06:18:16,091 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-08 06:18:16,247 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-08 06:18:17,295 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-08 06:18:17,296 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-08 06:18:17,306 - __main__ - INFO - Processing ratingstable for KY...
2025-11-08 06:18:17,307 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-08 06:18:17,307 - __main__ - INFO - --- Processing State: MD ---
2025-11-08 06:18:17,551 - __main__ - ERROR - Error occurred during MD processing (after import): "Only a column name can be used for the key in a dtype mappings argument. 'Winning Tickets At Start' not found in columns."
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 523, in run_md_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/mdlotteryscrape.py", line 142, in exportScratcherRecs
    tixtables = tixtables.astype(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6627, in astype
    raise KeyError(
KeyError: "Only a column name can be used for the key in a dtype mappings argument. 'Winning Tickets At Start' not found in columns."
2025-11-08 06:18:17,553 - __main__ - WARNING - Function run_md_scratcher_recs did not return valid scratchertables data.
2025-11-08 06:18:17,553 - __main__ - WARNING - Function run_md_scratcher_recs did not return valid ratingstable data.
2025-11-08 06:18:17,554 - __main__ - INFO - --- Processing State: MO ---
2025-11-08 06:18:17,807 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-08 06:18:17,810 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-08 06:18:17,810 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-08 06:18:17,810 - __main__ - INFO - --- Processing State: NC ---
2025-11-08 06:18:44,037 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-08 06:18:44,235 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-08 06:18:45,228 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-08 06:18:45,229 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-08 06:18:45,239 - __main__ - INFO - Processing ratingstable for NC...
2025-11-08 06:18:45,240 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-08 06:18:45,240 - __main__ - INFO - --- Processing State: NM ---
2025-11-08 06:18:48,249 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-08 06:18:48,252 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-08 06:18:48,252 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-08 06:18:48,252 - __main__ - INFO - --- Processing State: NY ---
2025-11-08 06:22:53,944 - __main__ - ERROR - gspread API Error saving to NYRatingsTable: APIError: [503]: The service is currently unavailable.
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 231, in save_dataframe_to_gsheet
    worksheet = gsheet.worksheet(worksheet_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/spreadsheet.py", line 325, in worksheet
    sheet_data = self.fetch_sheet_metadata()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/spreadsheet.py", line 230, in fetch_sheet_metadata
    return self.client.fetch_sheet_metadata(self.id, params=params)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/http_client.py", line 305, in fetch_sheet_metadata
    r = self.request("get", url, params=params)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/http_client.py", line 128, in request
    raise APIError(response)
gspread.exceptions.APIError: APIError: [503]: The service is currently unavailable.
2025-11-08 06:22:53,945 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-08 06:22:53,955 - __main__ - INFO - Processing ratingstable for NY...
2025-11-08 06:22:53,956 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-08 06:22:53,956 - __main__ - INFO - --- Processing State: OK ---
2025-11-08 06:22:53,961 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-08 06:22:53 UTC
2025-11-08 06:26:05,052 - __main__ - ERROR - gspread API Error saving to OKRatingsTable: APIError: [503]: The service is currently unavailable.
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 229, in save_dataframe_to_gsheet
    gsheet = gspread_client.open_by_key(GSHEET_KEY)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/client.py", line 174, in open_by_key
    raise ex
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/client.py", line 168, in open_by_key
    spreadsheet = Spreadsheet(self.http_client, {"id": key})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/spreadsheet.py", line 29, in __init__
    metadata = self.fetch_sheet_metadata()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/spreadsheet.py", line 230, in fetch_sheet_metadata
    return self.client.fetch_sheet_metadata(self.id, params=params)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/http_client.py", line 305, in fetch_sheet_metadata
    r = self.request("get", url, params=params)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/gspread/http_client.py", line 128, in request
    raise APIError(response)
gspread.exceptions.APIError: APIError: [503]: The service is currently unavailable.
2025-11-08 06:26:05,053 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-08 06:26:05,063 - __main__ - INFO - Processing ratingstable for OK...
2025-11-08 06:26:05,064 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-08 06:26:05,064 - __main__ - INFO - --- Processing State: OR ---
2025-11-08 06:26:23,650 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-08 06:26:23,985 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-08 06:26:24,781 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-08 06:26:24,782 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-08 06:26:24,792 - __main__ - INFO - Processing ratingstable for OR...
2025-11-08 06:26:24,793 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-08 06:26:24,793 - __main__ - INFO - --- Processing State: TX ---
2025-11-08 06:26:43,803 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-08 06:26:44,122 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-08 06:26:45,000 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-08 06:26:45,000 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-08 06:26:45,010 - __main__ - INFO - Processing ratingstable for TX...
2025-11-08 06:26:45,011 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-08 06:26:45,011 - __main__ - INFO - --- Processing State: VA ---
2025-11-08 06:27:35,930 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-08 06:27:36,131 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-08 06:27:36,957 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-08 06:27:36,958 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-08 06:27:36,968 - __main__ - INFO - Processing ratingstable for VA...
2025-11-08 06:27:36,969 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-08 06:27:36,969 - __main__ - INFO - --- Processing State: WA ---
2025-11-08 06:27:37,888 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-08 06:27:37,890 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-08 06:27:37,891 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-08 06:27:37,891 - __main__ - INFO - Combining scratchertables data from 9 states.
2025-11-08 06:27:37,893 - __main__ - INFO - Combined scratchertables shape: (9771, 11)
2025-11-08 06:27:37,893 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-08 06:27:37,899 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-08 06:27:37,905 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-08 06:27:37,910 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-08 06:27:37,916 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-08 06:27:37,922 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-08 06:27:37,928 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-08 06:27:37,934 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-08 06:27:37,939 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-08 06:27:37,945 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-08 06:27:37,951 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-08 06:27:37,957 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-08 06:27:37,957 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-08 06:27:38,976 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-08 06:27:39,187 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-08 06:27:42,978 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-08 06:27:42,979 - __main__ - INFO - Combining ratingstable data from 9 states.
2025-11-08 06:27:42,982 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-08 06:27:42,984 - __main__ - INFO - Combined ratingstable shape after reindex: (764, 51)
2025-11-08 06:27:42,984 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-08 06:27:42,984 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-08 06:27:42,986 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,987 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,988 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,989 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,990 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,990 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,991 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,992 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,993 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,994 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,995 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,996 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-08 06:27:42,997 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,011 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,013 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,014 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,017 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,018 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,019 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,020 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,021 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,021 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,022 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,023 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-08 06:27:43,023 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-08 06:27:44,029 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-08 06:27:44,029 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-08 06:27:44,212 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-08 06:27:44,216 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-08 06:27:45,833 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-08 06:27:45,833 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-08 06:27:45 UTC
2025-11-08 06:27:45,834 - __main__ - INFO - Total execution time: 0:10:40.206670
2025-11-09 06:17:41,610 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-09 06:17:41 UTC
2025-11-09 06:17:41,612 - __main__ - INFO - --- Processing State: AZ ---
2025-11-09 06:17:43,496 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-09 06:17:43,499 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-09 06:17:43,499 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-09 06:17:43,499 - __main__ - INFO - --- Processing State: CA ---
2025-11-09 06:17:43,504 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-09 06:17:43 UTC
2025-11-09 06:18:00,450 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-09 06:18:00,656 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-09 06:18:03,178 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-09 06:18:03,178 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-09 06:18:03,188 - __main__ - INFO - Processing ratingstable for CA...
2025-11-09 06:18:03,189 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-09 06:18:03,189 - __main__ - INFO - --- Processing State: DC ---
2025-11-09 06:18:59,945 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-09 06:19:00,055 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-09 06:19:00,937 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-09 06:19:00,938 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-09 06:19:00,948 - __main__ - INFO - Processing ratingstable for DC...
2025-11-09 06:19:00,949 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-09 06:19:00,949 - __main__ - INFO - --- Processing State: KS ---
2025-11-09 06:19:01,939 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-09 06:19:01,940 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-09 06:19:01,940 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-09 06:19:01,940 - __main__ - INFO - --- Processing State: KY ---
2025-11-09 06:19:10,593 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-09 06:19:10,714 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-09 06:19:11,571 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-09 06:19:11,571 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-09 06:19:11,582 - __main__ - INFO - Processing ratingstable for KY...
2025-11-09 06:19:11,583 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-09 06:19:11,583 - __main__ - INFO - --- Processing State: MD ---
2025-11-09 06:19:19,864 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-09 06:19:19,978 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-09 06:19:20,662 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-09 06:19:20,663 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-09 06:19:20,673 - __main__ - INFO - Processing ratingstable for MD...
2025-11-09 06:19:20,674 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-09 06:19:20,674 - __main__ - INFO - --- Processing State: MO ---
2025-11-09 06:19:20,960 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-09 06:19:20,963 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-09 06:19:20,963 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-09 06:19:20,963 - __main__ - INFO - --- Processing State: NC ---
2025-11-09 06:19:52,388 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-09 06:19:52,499 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-09 06:19:53,184 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-09 06:19:53,184 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-09 06:19:53,194 - __main__ - INFO - Processing ratingstable for NC...
2025-11-09 06:19:53,196 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-09 06:19:53,196 - __main__ - INFO - --- Processing State: NM ---
2025-11-09 06:19:58,014 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-09 06:19:58,017 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-09 06:19:58,017 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-09 06:19:58,017 - __main__ - INFO - --- Processing State: NY ---
2025-11-09 06:20:58,171 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-09 06:20:58,308 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-09 06:20:59,247 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-09 06:20:59,248 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-09 06:20:59,258 - __main__ - INFO - Processing ratingstable for NY...
2025-11-09 06:20:59,259 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-09 06:20:59,259 - __main__ - INFO - --- Processing State: OK ---
2025-11-09 06:20:59,264 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-09 06:20:59 UTC
2025-11-09 06:21:06,395 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-09 06:21:06,526 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-09 06:21:07,273 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-09 06:21:07,274 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-09 06:21:07,283 - __main__ - INFO - Processing ratingstable for OK...
2025-11-09 06:21:07,284 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-09 06:21:07,284 - __main__ - INFO - --- Processing State: OR ---
2025-11-09 06:21:22,343 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-09 06:21:22,463 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-09 06:21:23,249 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-09 06:21:23,249 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-09 06:21:23,259 - __main__ - INFO - Processing ratingstable for OR...
2025-11-09 06:21:23,261 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-09 06:21:23,261 - __main__ - INFO - --- Processing State: TX ---
2025-11-09 06:21:43,393 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-09 06:21:43,504 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-09 06:21:44,212 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-09 06:21:44,212 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-09 06:21:44,222 - __main__ - INFO - Processing ratingstable for TX...
2025-11-09 06:21:44,223 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-09 06:21:44,223 - __main__ - INFO - --- Processing State: VA ---
2025-11-09 06:22:39,049 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-09 06:22:39,179 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-09 06:22:40,101 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-09 06:22:40,102 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-09 06:22:40,112 - __main__ - INFO - Processing ratingstable for VA...
2025-11-09 06:22:40,113 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-09 06:22:40,113 - __main__ - INFO - --- Processing State: WA ---
2025-11-09 06:22:40,730 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-09 06:22:40,733 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-09 06:22:40,733 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-09 06:22:40,733 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-09 06:22:40,736 - __main__ - INFO - Combined scratchertables shape: (10882, 11)
2025-11-09 06:22:40,736 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-09 06:22:40,743 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-09 06:22:40,749 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-09 06:22:40,755 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-09 06:22:40,761 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-09 06:22:40,768 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-09 06:22:40,774 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-09 06:22:40,780 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-09 06:22:40,787 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-09 06:22:40,793 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-09 06:22:40,799 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-09 06:22:40,805 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-09 06:22:40,805 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-09 06:22:41,846 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-09 06:22:41,998 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-09 06:22:45,334 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-09 06:22:45,335 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-09 06:22:45,339 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-09 06:22:45,341 - __main__ - INFO - Combined ratingstable shape after reindex: (856, 51)
2025-11-09 06:22:45,341 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-09 06:22:45,341 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-09 06:22:45,343 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,344 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,345 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,346 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,347 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,347 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,348 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,349 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,350 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,351 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,352 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,353 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,355 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,370 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,373 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,374 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,377 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,378 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,379 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,380 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,381 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,382 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,383 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,384 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-09 06:22:45,384 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-09 06:22:46,678 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-09 06:22:46,679 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-09 06:22:46,813 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-09 06:22:46,818 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-09 06:22:48,340 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-09 06:22:48,341 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-09 06:22:48 UTC
2025-11-09 06:22:48,341 - __main__ - INFO - Total execution time: 0:05:06.730572
2025-11-10 06:21:00,390 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-10 06:21:00 UTC
2025-11-10 06:21:00,391 - __main__ - INFO - --- Processing State: AZ ---
2025-11-10 06:21:02,110 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-10 06:21:02,113 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-10 06:21:02,113 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-10 06:21:02,113 - __main__ - INFO - --- Processing State: CA ---
2025-11-10 06:21:02,117 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-10 06:21:02 UTC
2025-11-10 06:21:15,182 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-10 06:21:15,339 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-10 06:21:17,689 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-10 06:21:17,690 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-10 06:21:17,700 - __main__ - INFO - Processing ratingstable for CA...
2025-11-10 06:21:17,701 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-10 06:21:17,701 - __main__ - INFO - --- Processing State: DC ---
2025-11-10 06:22:15,005 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-10 06:22:15,148 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-10 06:22:15,857 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-10 06:22:15,857 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-10 06:22:15,867 - __main__ - INFO - Processing ratingstable for DC...
2025-11-10 06:22:15,868 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-10 06:22:15,868 - __main__ - INFO - --- Processing State: KS ---
2025-11-10 06:22:16,922 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-10 06:22:16,923 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-10 06:22:16,923 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-10 06:22:16,923 - __main__ - INFO - --- Processing State: KY ---
2025-11-10 06:22:25,353 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-10 06:22:25,491 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-10 06:22:26,107 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-10 06:22:26,108 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-10 06:22:26,118 - __main__ - INFO - Processing ratingstable for KY...
2025-11-10 06:22:26,119 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-10 06:22:26,119 - __main__ - INFO - --- Processing State: MD ---
2025-11-10 06:22:33,799 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-10 06:22:33,951 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-10 06:22:34,723 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-10 06:22:34,724 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-10 06:22:34,734 - __main__ - INFO - Processing ratingstable for MD...
2025-11-10 06:22:34,735 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-10 06:22:34,735 - __main__ - INFO - --- Processing State: MO ---
2025-11-10 06:22:35,043 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-10 06:22:35,045 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-10 06:22:35,046 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-10 06:22:35,046 - __main__ - INFO - --- Processing State: NC ---
2025-11-10 06:23:25,369 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-10 06:23:25,515 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-10 06:23:26,183 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-10 06:23:26,184 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-10 06:23:26,194 - __main__ - INFO - Processing ratingstable for NC...
2025-11-10 06:23:26,195 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-10 06:23:26,195 - __main__ - INFO - --- Processing State: NM ---
2025-11-10 06:23:31,356 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-10 06:23:31,359 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-10 06:23:31,359 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-10 06:23:31,359 - __main__ - INFO - --- Processing State: NY ---
2025-11-10 06:24:31,805 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-10 06:24:32,712 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-10 06:24:35,995 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-10 06:24:35,995 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-10 06:24:36,005 - __main__ - INFO - Processing ratingstable for NY...
2025-11-10 06:24:36,006 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-10 06:24:36,006 - __main__ - INFO - --- Processing State: OK ---
2025-11-10 06:24:36,011 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-10 06:24:36 UTC
2025-11-10 06:24:42,885 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-10 06:24:43,025 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-10 06:24:43,637 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-10 06:24:43,638 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-10 06:24:43,647 - __main__ - INFO - Processing ratingstable for OK...
2025-11-10 06:24:43,648 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-10 06:24:43,648 - __main__ - INFO - --- Processing State: OR ---
2025-11-10 06:24:53,674 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-10 06:24:53,800 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-10 06:24:54,362 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-10 06:24:54,362 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-10 06:24:54,372 - __main__ - INFO - Processing ratingstable for OR...
2025-11-10 06:24:54,373 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-10 06:24:54,373 - __main__ - INFO - --- Processing State: TX ---
2025-11-10 06:25:17,085 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-10 06:25:17,224 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-10 06:25:17,827 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-10 06:25:17,827 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-10 06:25:17,837 - __main__ - INFO - Processing ratingstable for TX...
2025-11-10 06:25:17,838 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-10 06:25:17,838 - __main__ - INFO - --- Processing State: VA ---
2025-11-10 06:26:24,918 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-10 06:26:25,062 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-10 06:26:25,690 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-10 06:26:25,690 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-10 06:26:25,700 - __main__ - INFO - Processing ratingstable for VA...
2025-11-10 06:26:25,702 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-10 06:26:25,702 - __main__ - INFO - --- Processing State: WA ---
2025-11-10 06:26:26,219 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-10 06:26:26,221 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-10 06:26:26,221 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-10 06:26:26,222 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-10 06:26:26,224 - __main__ - INFO - Combined scratchertables shape: (10882, 11)
2025-11-10 06:26:26,224 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-10 06:26:26,231 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-10 06:26:26,237 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-10 06:26:26,243 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-10 06:26:26,250 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-10 06:26:26,256 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-10 06:26:26,263 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-10 06:26:26,269 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-10 06:26:26,275 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-10 06:26:26,281 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-10 06:26:26,287 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-10 06:26:26,294 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-10 06:26:26,294 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-10 06:26:26,998 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-10 06:26:27,158 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-10 06:26:30,642 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-10 06:26:30,643 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-10 06:26:30,647 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-10 06:26:30,649 - __main__ - INFO - Combined ratingstable shape after reindex: (856, 51)
2025-11-10 06:26:30,650 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-10 06:26:30,650 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-10 06:26:30,652 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,653 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,654 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,655 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,656 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,657 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,658 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,659 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,660 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,661 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,662 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,663 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,665 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,679 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,682 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,683 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,686 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,687 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,688 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,689 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,690 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,691 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,692 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,693 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-10 06:26:30,693 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-10 06:26:31,580 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-10 06:26:31,580 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-10 06:26:31,730 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-10 06:26:31,735 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-10 06:26:33,681 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-10 06:26:33,681 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-10 06:26:33 UTC
2025-11-10 06:26:33,681 - __main__ - INFO - Total execution time: 0:05:33.291681
2025-11-11 06:20:05,098 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-11 06:20:05 UTC
2025-11-11 06:20:05,100 - __main__ - INFO - --- Processing State: AZ ---
2025-11-11 06:20:06,607 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-11 06:20:06,609 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-11 06:20:06,609 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-11 06:20:06,609 - __main__ - INFO - --- Processing State: CA ---
2025-11-11 06:20:06,614 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-11 06:20:06 UTC
2025-11-11 06:20:18,529 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-11 06:20:18,659 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-11 06:20:20,397 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-11 06:20:20,398 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-11 06:20:20,408 - __main__ - INFO - Processing ratingstable for CA...
2025-11-11 06:20:20,409 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-11 06:20:20,409 - __main__ - INFO - --- Processing State: DC ---
2025-11-11 06:21:37,611 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-11 06:21:37,735 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-11 06:21:38,295 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-11 06:21:38,296 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-11 06:21:38,306 - __main__ - INFO - Processing ratingstable for DC...
2025-11-11 06:21:38,307 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-11 06:21:38,307 - __main__ - INFO - --- Processing State: KS ---
2025-11-11 06:21:39,212 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-11 06:21:39,213 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-11 06:21:39,213 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-11 06:21:39,213 - __main__ - INFO - --- Processing State: KY ---
2025-11-11 06:21:47,862 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-11 06:21:47,985 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-11 06:21:48,500 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-11 06:21:48,501 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-11 06:21:48,511 - __main__ - INFO - Processing ratingstable for KY...
2025-11-11 06:21:48,512 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-11 06:21:48,512 - __main__ - INFO - --- Processing State: MD ---
2025-11-11 06:21:56,730 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-11 06:21:56,847 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-11 06:21:57,438 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-11 06:21:57,439 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-11 06:21:57,449 - __main__ - INFO - Processing ratingstable for MD...
2025-11-11 06:21:57,451 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-11 06:21:57,451 - __main__ - INFO - --- Processing State: MO ---
2025-11-11 06:21:57,745 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-11 06:21:57,747 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-11 06:21:57,748 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-11 06:21:57,748 - __main__ - INFO - --- Processing State: NC ---
2025-11-11 06:22:50,986 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-11 06:22:51,126 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-11 06:22:51,613 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-11 06:22:51,614 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-11 06:22:51,626 - __main__ - INFO - Processing ratingstable for NC...
2025-11-11 06:22:51,627 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-11 06:22:51,628 - __main__ - INFO - --- Processing State: NM ---
2025-11-11 06:22:57,575 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-11 06:22:57,579 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-11 06:22:57,579 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-11 06:22:57,579 - __main__ - INFO - --- Processing State: NY ---
2025-11-11 06:23:50,446 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-11 06:23:50,580 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-11 06:23:51,100 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-11 06:23:51,101 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-11 06:23:51,110 - __main__ - INFO - Processing ratingstable for NY...
2025-11-11 06:23:51,112 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-11 06:23:51,112 - __main__ - INFO - --- Processing State: OK ---
2025-11-11 06:23:51,117 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-11 06:23:51 UTC
2025-11-11 06:23:57,931 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-11 06:23:58,048 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-11 06:23:58,499 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-11 06:23:58,499 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-11 06:23:58,508 - __main__ - INFO - Processing ratingstable for OK...
2025-11-11 06:23:58,509 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-11 06:23:58,509 - __main__ - INFO - --- Processing State: OR ---
2025-11-11 06:24:08,195 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-11 06:24:08,313 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-11 06:24:08,786 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-11 06:24:08,787 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-11 06:24:08,797 - __main__ - INFO - Processing ratingstable for OR...
2025-11-11 06:24:08,798 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-11 06:24:08,798 - __main__ - INFO - --- Processing State: TX ---
2025-11-11 06:24:32,005 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-11 06:24:32,160 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-11 06:24:32,683 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-11 06:24:32,684 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-11 06:24:32,694 - __main__ - INFO - Processing ratingstable for TX...
2025-11-11 06:24:32,695 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-11 06:24:32,695 - __main__ - INFO - --- Processing State: VA ---
2025-11-11 06:25:50,004 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-11 06:25:50,134 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-11 06:25:50,645 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-11 06:25:50,646 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-11 06:25:50,656 - __main__ - INFO - Processing ratingstable for VA...
2025-11-11 06:25:50,657 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-11 06:25:50,657 - __main__ - INFO - --- Processing State: WA ---
2025-11-11 06:26:00,399 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-11 06:26:00,401 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-11 06:26:00,401 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-11 06:26:00,401 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-11 06:26:00,404 - __main__ - INFO - Combined scratchertables shape: (10865, 11)
2025-11-11 06:26:00,404 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-11 06:26:00,410 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-11 06:26:00,417 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-11 06:26:00,423 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-11 06:26:00,430 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-11 06:26:00,436 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-11 06:26:00,442 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-11 06:26:00,449 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-11 06:26:00,455 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-11 06:26:00,461 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-11 06:26:00,467 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-11 06:26:00,473 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-11 06:26:00,473 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-11 06:26:01,022 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-11 06:26:01,165 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-11 06:26:03,664 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-11 06:26:03,665 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-11 06:26:03,668 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-11 06:26:03,671 - __main__ - INFO - Combined ratingstable shape after reindex: (855, 51)
2025-11-11 06:26:03,671 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-11 06:26:03,671 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-11 06:26:03,673 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,674 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,675 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,676 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,676 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,677 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,678 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,679 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,680 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,681 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,682 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,683 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,684 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,699 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,702 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,703 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,706 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,707 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,707 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,708 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,709 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,710 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,711 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,712 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-11 06:26:03,712 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-11 06:26:04,295 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-11 06:26:04,296 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-11 06:26:04,431 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-11 06:26:04,436 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-11 06:26:05,570 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-11 06:26:05,571 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-11 06:26:05 UTC
2025-11-11 06:26:05,571 - __main__ - INFO - Total execution time: 0:06:00.472769
2025-11-12 06:20:14,352 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-12 06:20:14 UTC
2025-11-12 06:20:14,353 - __main__ - INFO - --- Processing State: AZ ---
2025-11-12 06:20:16,701 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-12 06:20:16,702 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-12 06:20:16,703 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-12 06:20:16,703 - __main__ - INFO - --- Processing State: CA ---
2025-11-12 06:20:16,706 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-12 06:20:16 UTC
2025-11-12 06:20:29,806 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-12 06:20:30,185 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-12 06:20:32,751 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-12 06:20:32,751 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-12 06:20:32,760 - __main__ - INFO - Processing ratingstable for CA...
2025-11-12 06:20:32,761 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-12 06:20:32,761 - __main__ - INFO - --- Processing State: DC ---
2025-11-12 06:21:24,809 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-12 06:21:25,002 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-12 06:21:25,675 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-12 06:21:25,676 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-12 06:21:25,685 - __main__ - INFO - Processing ratingstable for DC...
2025-11-12 06:21:25,685 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-12 06:21:25,686 - __main__ - INFO - --- Processing State: KS ---
2025-11-12 06:21:26,971 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-12 06:21:26,971 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-12 06:21:26,971 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-12 06:21:26,971 - __main__ - INFO - --- Processing State: KY ---
2025-11-12 06:21:35,907 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-12 06:21:36,099 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-12 06:21:36,810 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-12 06:21:36,811 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-12 06:21:36,819 - __main__ - INFO - Processing ratingstable for KY...
2025-11-12 06:21:36,820 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-12 06:21:36,821 - __main__ - INFO - --- Processing State: MD ---
2025-11-12 06:21:44,025 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-12 06:21:44,225 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-12 06:21:45,095 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-12 06:21:45,096 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-12 06:21:45,104 - __main__ - INFO - Processing ratingstable for MD...
2025-11-12 06:21:45,106 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-12 06:21:45,106 - __main__ - INFO - --- Processing State: MO ---
2025-11-12 06:21:45,385 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-12 06:21:45,388 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-12 06:21:45,388 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-12 06:21:45,388 - __main__ - INFO - --- Processing State: NC ---
2025-11-12 06:22:26,013 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-12 06:22:26,194 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-12 06:22:26,986 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-12 06:22:26,987 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-12 06:22:26,995 - __main__ - INFO - Processing ratingstable for NC...
2025-11-12 06:22:26,997 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-12 06:22:26,997 - __main__ - INFO - --- Processing State: NM ---
2025-11-12 06:22:32,064 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-12 06:22:32,067 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-12 06:22:32,067 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-12 06:22:32,067 - __main__ - INFO - --- Processing State: NY ---
2025-11-12 06:23:21,656 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-12 06:23:21,863 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-12 06:23:22,624 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-12 06:23:22,625 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-12 06:23:22,633 - __main__ - INFO - Processing ratingstable for NY...
2025-11-12 06:23:22,635 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-12 06:23:22,635 - __main__ - INFO - --- Processing State: OK ---
2025-11-12 06:23:22,638 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-12 06:23:22 UTC
2025-11-12 06:23:28,649 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-12 06:23:28,822 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-12 06:23:29,426 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-12 06:23:29,427 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-12 06:23:29,435 - __main__ - INFO - Processing ratingstable for OK...
2025-11-12 06:23:29,436 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-12 06:23:29,436 - __main__ - INFO - --- Processing State: OR ---
2025-11-12 06:23:38,592 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-12 06:23:38,765 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-12 06:23:39,470 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-12 06:23:39,471 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-12 06:23:39,480 - __main__ - INFO - Processing ratingstable for OR...
2025-11-12 06:23:39,481 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-12 06:23:39,481 - __main__ - INFO - --- Processing State: TX ---
2025-11-12 06:24:08,671 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-12 06:24:08,841 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-12 06:24:09,502 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-12 06:24:09,503 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-12 06:24:09,511 - __main__ - INFO - Processing ratingstable for TX...
2025-11-12 06:24:09,512 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-12 06:24:09,512 - __main__ - INFO - --- Processing State: VA ---
2025-11-12 06:25:10,738 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-12 06:25:10,932 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-12 06:25:11,600 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-12 06:25:11,601 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-12 06:25:11,609 - __main__ - INFO - Processing ratingstable for VA...
2025-11-12 06:25:11,610 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-12 06:25:11,610 - __main__ - INFO - --- Processing State: WA ---
2025-11-12 06:25:12,016 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-12 06:25:12,018 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-12 06:25:12,018 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-12 06:25:12,018 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-12 06:25:12,021 - __main__ - INFO - Combined scratchertables shape: (10865, 11)
2025-11-12 06:25:12,021 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-12 06:25:12,027 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-12 06:25:12,033 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-12 06:25:12,039 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-12 06:25:12,046 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-12 06:25:12,053 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-12 06:25:12,059 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-12 06:25:12,065 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-12 06:25:12,071 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-12 06:25:12,077 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-12 06:25:12,083 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-12 06:25:12,089 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-12 06:25:12,089 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-12 06:25:12,775 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-12 06:25:12,961 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-12 06:25:15,458 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-12 06:25:15,458 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-12 06:25:15,462 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-12 06:25:15,464 - __main__ - INFO - Combined ratingstable shape after reindex: (855, 51)
2025-11-12 06:25:15,465 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-12 06:25:15,465 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-12 06:25:15,467 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,468 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,469 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,470 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,471 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,472 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,473 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,474 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,475 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,476 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,477 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,478 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,479 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,492 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,495 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,496 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,499 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,500 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,501 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,502 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,503 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,504 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,505 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,506 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-12 06:25:15,506 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-12 06:25:16,428 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-12 06:25:16,429 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-12 06:25:16,633 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-12 06:25:16,638 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-12 06:25:17,948 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-12 06:25:17,949 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-12 06:25:17 UTC
2025-11-12 06:25:17,949 - __main__ - INFO - Total execution time: 0:05:03.597074
2025-11-13 06:20:25,174 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-13 06:20:25 UTC
2025-11-13 06:20:25,175 - __main__ - INFO - --- Processing State: AZ ---
2025-11-13 06:20:26,758 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-13 06:20:26,760 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-13 06:20:26,760 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-13 06:20:26,760 - __main__ - INFO - --- Processing State: CA ---
2025-11-13 06:20:26,765 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-13 06:20:26 UTC
2025-11-13 06:20:44,901 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-13 06:20:45,142 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-13 06:20:47,578 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-13 06:20:47,579 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-13 06:20:47,589 - __main__ - INFO - Processing ratingstable for CA...
2025-11-13 06:20:47,589 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-13 06:20:47,589 - __main__ - INFO - --- Processing State: DC ---
2025-11-13 06:21:39,215 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-13 06:21:39,411 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-13 06:21:40,816 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-13 06:21:40,817 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-13 06:21:40,826 - __main__ - INFO - Processing ratingstable for DC...
2025-11-13 06:21:40,827 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-13 06:21:40,827 - __main__ - INFO - --- Processing State: KS ---
2025-11-13 06:21:41,791 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-13 06:21:41,792 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-13 06:21:41,792 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-13 06:21:41,792 - __main__ - INFO - --- Processing State: KY ---
2025-11-13 06:21:50,547 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-13 06:21:50,737 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-13 06:21:51,665 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-13 06:21:51,666 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-13 06:21:51,676 - __main__ - INFO - Processing ratingstable for KY...
2025-11-13 06:21:51,677 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-13 06:21:51,677 - __main__ - INFO - --- Processing State: MD ---
2025-11-13 06:21:59,947 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-13 06:22:00,142 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-13 06:22:01,154 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-13 06:22:01,154 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-13 06:22:01,164 - __main__ - INFO - Processing ratingstable for MD...
2025-11-13 06:22:01,165 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-13 06:22:01,165 - __main__ - INFO - --- Processing State: MO ---
2025-11-13 06:22:01,374 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-13 06:22:01,377 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-13 06:22:01,377 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-13 06:22:01,377 - __main__ - INFO - --- Processing State: NC ---
2025-11-13 06:22:33,100 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-13 06:22:33,256 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-13 06:22:34,155 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-13 06:22:34,155 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-13 06:22:34,165 - __main__ - INFO - Processing ratingstable for NC...
2025-11-13 06:22:34,166 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-13 06:22:34,167 - __main__ - INFO - --- Processing State: NM ---
2025-11-13 06:22:39,042 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-13 06:22:39,045 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-13 06:22:39,045 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-13 06:22:39,045 - __main__ - INFO - --- Processing State: NY ---
2025-11-13 06:23:25,408 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-13 06:23:25,588 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-13 06:23:26,767 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-13 06:23:26,767 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-13 06:23:26,777 - __main__ - INFO - Processing ratingstable for NY...
2025-11-13 06:23:26,778 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-13 06:23:26,778 - __main__ - INFO - --- Processing State: OK ---
2025-11-13 06:23:26,782 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-13 06:23:26 UTC
2025-11-13 06:23:35,446 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-13 06:23:35,826 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-13 06:23:38,327 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-13 06:23:38,328 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-13 06:23:38,337 - __main__ - INFO - Processing ratingstable for OK...
2025-11-13 06:23:38,337 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-13 06:23:38,338 - __main__ - INFO - --- Processing State: OR ---
2025-11-13 06:23:53,229 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-13 06:23:53,400 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-13 06:23:54,262 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-13 06:23:54,263 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-13 06:23:54,272 - __main__ - INFO - Processing ratingstable for OR...
2025-11-13 06:23:54,274 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-13 06:23:54,274 - __main__ - INFO - --- Processing State: TX ---
2025-11-13 06:24:14,161 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-13 06:24:14,733 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-13 06:24:17,027 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-13 06:24:17,028 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-13 06:24:17,038 - __main__ - INFO - Processing ratingstable for TX...
2025-11-13 06:24:17,039 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-13 06:24:17,039 - __main__ - INFO - --- Processing State: VA ---
2025-11-13 06:25:12,822 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-13 06:25:12,983 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-13 06:25:13,978 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-13 06:25:13,979 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-13 06:25:13,988 - __main__ - INFO - Processing ratingstable for VA...
2025-11-13 06:25:13,990 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-13 06:25:13,990 - __main__ - INFO - --- Processing State: WA ---
2025-11-13 06:25:14,730 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-13 06:25:14,732 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-13 06:25:14,732 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-13 06:25:14,732 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-13 06:25:14,735 - __main__ - INFO - Combined scratchertables shape: (10784, 11)
2025-11-13 06:25:14,735 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-13 06:25:14,742 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-13 06:25:14,748 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-13 06:25:14,754 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-13 06:25:14,760 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-13 06:25:14,766 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-13 06:25:14,773 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-13 06:25:14,779 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-13 06:25:14,785 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-13 06:25:14,791 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-13 06:25:14,797 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-13 06:25:14,803 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-13 06:25:14,803 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-13 06:25:16,014 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-13 06:25:16,212 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-13 06:25:20,208 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-13 06:25:20,209 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-13 06:25:20,213 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-13 06:25:20,215 - __main__ - INFO - Combined ratingstable shape after reindex: (849, 51)
2025-11-13 06:25:20,215 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-13 06:25:20,215 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-13 06:25:20,217 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,218 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,219 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,220 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,220 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,221 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,222 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,223 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,224 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,225 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,226 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,227 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,228 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,243 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,246 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,247 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,250 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,251 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,252 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,253 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,254 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,255 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,256 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,257 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-13 06:25:20,257 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-13 06:25:21,979 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-13 06:25:21,979 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-13 06:25:22,186 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-13 06:25:22,191 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-13 06:25:23,795 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-13 06:25:23,796 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-13 06:25:23 UTC
2025-11-13 06:25:23,796 - __main__ - INFO - Total execution time: 0:04:58.621666
2025-11-14 06:20:03,125 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-14 06:20:03 UTC
2025-11-14 06:20:03,126 - __main__ - INFO - --- Processing State: AZ ---
2025-11-14 06:20:04,971 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-14 06:20:04,973 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-14 06:20:04,973 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-14 06:20:04,973 - __main__ - INFO - --- Processing State: CA ---
2025-11-14 06:20:04,978 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-14 06:20:04 UTC
2025-11-14 06:20:20,859 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-14 06:20:21,336 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-14 06:20:23,231 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-14 06:20:23,231 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-14 06:20:23,241 - __main__ - INFO - Processing ratingstable for CA...
2025-11-14 06:20:23,242 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-14 06:20:23,242 - __main__ - INFO - --- Processing State: DC ---
2025-11-14 06:21:15,191 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-14 06:21:15,542 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-14 06:21:16,338 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-14 06:21:16,339 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-14 06:21:16,349 - __main__ - INFO - Processing ratingstable for DC...
2025-11-14 06:21:16,350 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-14 06:21:16,350 - __main__ - INFO - --- Processing State: KS ---
2025-11-14 06:21:17,202 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-14 06:21:17,202 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-14 06:21:17,202 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-14 06:21:17,202 - __main__ - INFO - --- Processing State: KY ---
2025-11-14 06:21:25,339 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-14 06:21:25,543 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-14 06:21:26,487 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-14 06:21:26,487 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-14 06:21:26,498 - __main__ - INFO - Processing ratingstable for KY...
2025-11-14 06:21:26,499 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-14 06:21:26,499 - __main__ - INFO - --- Processing State: MD ---
2025-11-14 06:21:34,203 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-14 06:21:34,374 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-14 06:21:35,131 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-14 06:21:35,132 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-14 06:21:35,142 - __main__ - INFO - Processing ratingstable for MD...
2025-11-14 06:21:35,143 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-14 06:21:35,143 - __main__ - INFO - --- Processing State: MO ---
2025-11-14 06:21:35,430 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-14 06:21:35,432 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-14 06:21:35,433 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-14 06:21:35,433 - __main__ - INFO - --- Processing State: NC ---
2025-11-14 06:22:18,058 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-14 06:22:18,243 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-14 06:22:19,069 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-14 06:22:19,070 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-14 06:22:19,080 - __main__ - INFO - Processing ratingstable for NC...
2025-11-14 06:22:19,081 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-14 06:22:19,081 - __main__ - INFO - --- Processing State: NM ---
2025-11-14 06:22:24,528 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-14 06:22:24,531 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-14 06:22:24,531 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-14 06:22:24,531 - __main__ - INFO - --- Processing State: NY ---
2025-11-14 06:23:15,815 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-14 06:23:16,026 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-14 06:23:16,947 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-14 06:23:16,947 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-14 06:23:16,957 - __main__ - INFO - Processing ratingstable for NY...
2025-11-14 06:23:16,958 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-14 06:23:16,959 - __main__ - INFO - --- Processing State: OK ---
2025-11-14 06:23:16,965 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-14 06:23:16 UTC
2025-11-14 06:23:23,980 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-14 06:23:24,208 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-14 06:23:24,995 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-14 06:23:24,996 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-14 06:23:25,005 - __main__ - INFO - Processing ratingstable for OK...
2025-11-14 06:23:25,006 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-14 06:23:25,006 - __main__ - INFO - --- Processing State: OR ---
2025-11-14 06:23:38,118 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-14 06:23:38,392 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-14 06:23:40,182 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-14 06:23:40,182 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-14 06:23:40,192 - __main__ - INFO - Processing ratingstable for OR...
2025-11-14 06:23:40,193 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-14 06:23:40,193 - __main__ - INFO - --- Processing State: TX ---
2025-11-14 06:24:01,435 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-14 06:24:01,607 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-14 06:24:02,369 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-14 06:24:02,370 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-14 06:24:02,380 - __main__ - INFO - Processing ratingstable for TX...
2025-11-14 06:24:02,381 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-14 06:24:02,381 - __main__ - INFO - --- Processing State: VA ---
2025-11-14 06:25:06,017 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-14 06:25:06,254 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-14 06:25:07,129 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-14 06:25:07,130 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-14 06:25:07,140 - __main__ - INFO - Processing ratingstable for VA...
2025-11-14 06:25:07,141 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-14 06:25:07,141 - __main__ - INFO - --- Processing State: WA ---
2025-11-14 06:25:07,915 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.24/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-14 06:25:07,917 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-14 06:25:07,917 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-14 06:25:07,917 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-14 06:25:07,919 - __main__ - INFO - Combined scratchertables shape: (10809, 11)
2025-11-14 06:25:07,919 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-14 06:25:07,926 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-14 06:25:07,932 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-14 06:25:07,938 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-14 06:25:07,944 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-14 06:25:07,950 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-14 06:25:07,956 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-14 06:25:07,962 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-14 06:25:07,968 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-14 06:25:07,974 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-14 06:25:07,980 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-14 06:25:07,986 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-14 06:25:07,986 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-14 06:25:08,836 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-14 06:25:09,044 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-14 06:25:12,981 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-14 06:25:12,982 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-14 06:25:12,986 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-14 06:25:12,988 - __main__ - INFO - Combined ratingstable shape after reindex: (851, 51)
2025-11-14 06:25:12,988 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-14 06:25:12,989 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-14 06:25:12,991 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,992 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,993 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,994 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,995 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,996 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,997 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,998 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-14 06:25:12,999 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,000 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,001 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,002 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,003 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,017 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,021 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,022 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,025 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,025 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,026 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,027 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,028 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,029 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,030 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,031 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-14 06:25:13,031 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-14 06:25:14,033 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-14 06:25:14,033 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-14 06:25:14,405 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-14 06:25:14,409 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-14 06:25:16,194 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-14 06:25:16,195 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-14 06:25:16 UTC
2025-11-14 06:25:16,195 - __main__ - INFO - Total execution time: 0:05:13.069898
2025-11-15 06:17:47,510 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-15 06:17:47 UTC
2025-11-15 06:17:47,512 - __main__ - INFO - --- Processing State: AZ ---
2025-11-15 06:17:50,357 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-15 06:17:50,359 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-15 06:17:50,360 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-15 06:17:50,360 - __main__ - INFO - --- Processing State: CA ---
2025-11-15 06:17:50,365 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-15 06:17:50 UTC
2025-11-15 06:18:00,634 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-15 06:18:00,906 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-15 06:18:01,709 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-15 06:18:01,710 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-15 06:18:01,720 - __main__ - INFO - Processing ratingstable for CA...
2025-11-15 06:18:01,721 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-15 06:18:01,721 - __main__ - INFO - --- Processing State: DC ---
2025-11-15 06:18:39,126 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-15 06:18:39,308 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-15 06:18:39,992 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-15 06:18:39,993 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-15 06:18:40,003 - __main__ - INFO - Processing ratingstable for DC...
2025-11-15 06:18:40,004 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-15 06:18:40,004 - __main__ - INFO - --- Processing State: KS ---
2025-11-15 06:18:40,226 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-15 06:18:40,226 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-15 06:18:40,226 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-15 06:18:40,226 - __main__ - INFO - --- Processing State: KY ---
2025-11-15 06:18:48,463 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-15 06:18:48,617 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-15 06:18:49,269 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-15 06:18:49,270 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-15 06:18:49,281 - __main__ - INFO - Processing ratingstable for KY...
2025-11-15 06:18:49,282 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-15 06:18:49,282 - __main__ - INFO - --- Processing State: MD ---
2025-11-15 06:18:57,275 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-15 06:18:57,422 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-15 06:18:58,084 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-15 06:18:58,084 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-15 06:18:58,095 - __main__ - INFO - Processing ratingstable for MD...
2025-11-15 06:18:58,096 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-15 06:18:58,096 - __main__ - INFO - --- Processing State: MO ---
2025-11-15 06:18:58,344 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-15 06:18:58,347 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-15 06:18:58,348 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-15 06:18:58,348 - __main__ - INFO - --- Processing State: NC ---
2025-11-15 06:19:23,114 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-15 06:19:23,295 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-15 06:19:23,911 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-15 06:19:23,912 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-15 06:19:23,922 - __main__ - INFO - Processing ratingstable for NC...
2025-11-15 06:19:23,923 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-15 06:19:23,923 - __main__ - INFO - --- Processing State: NM ---
2025-11-15 06:19:28,806 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-15 06:19:28,810 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-15 06:19:28,810 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-15 06:19:28,810 - __main__ - INFO - --- Processing State: NY ---
2025-11-15 06:20:12,154 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-15 06:20:12,321 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-15 06:20:13,000 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-15 06:20:13,000 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-15 06:20:13,010 - __main__ - INFO - Processing ratingstable for NY...
2025-11-15 06:20:13,012 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-15 06:20:13,012 - __main__ - INFO - --- Processing State: OK ---
2025-11-15 06:20:13,017 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-15 06:20:13 UTC
2025-11-15 06:20:19,685 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-15 06:20:19,837 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-15 06:20:20,396 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-15 06:20:20,397 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-15 06:20:20,407 - __main__ - INFO - Processing ratingstable for OK...
2025-11-15 06:20:20,408 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-15 06:20:20,408 - __main__ - INFO - --- Processing State: OR ---
2025-11-15 06:20:38,959 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-15 06:20:39,111 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-15 06:20:39,659 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-15 06:20:39,659 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-15 06:20:39,669 - __main__ - INFO - Processing ratingstable for OR...
2025-11-15 06:20:39,671 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-15 06:20:39,671 - __main__ - INFO - --- Processing State: TX ---
2025-11-15 06:20:56,311 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-15 06:20:56,462 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-15 06:20:57,019 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-15 06:20:57,020 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-15 06:20:57,030 - __main__ - INFO - Processing ratingstable for TX...
2025-11-15 06:20:57,031 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-15 06:20:57,031 - __main__ - INFO - --- Processing State: VA ---
2025-11-15 06:21:53,946 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-15 06:21:54,142 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-15 06:21:54,777 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-15 06:21:54,778 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-15 06:21:54,788 - __main__ - INFO - Processing ratingstable for VA...
2025-11-15 06:21:54,789 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-15 06:21:54,789 - __main__ - INFO - --- Processing State: WA ---
2025-11-15 06:21:55,586 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-15 06:21:55,588 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-15 06:21:55,588 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-15 06:21:55,588 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-15 06:21:55,591 - __main__ - INFO - Combined scratchertables shape: (10809, 11)
2025-11-15 06:21:55,591 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-15 06:21:55,598 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-15 06:21:55,604 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-15 06:21:55,610 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-15 06:21:55,617 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-15 06:21:55,623 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-15 06:21:55,630 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-15 06:21:55,636 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-15 06:21:55,643 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-15 06:21:55,649 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-15 06:21:55,655 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-15 06:21:55,661 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-15 06:21:55,662 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-15 06:21:56,455 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-15 06:21:56,630 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-15 06:21:59,337 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-15 06:21:59,338 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-15 06:21:59,342 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-15 06:21:59,344 - __main__ - INFO - Combined ratingstable shape after reindex: (851, 51)
2025-11-15 06:21:59,344 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-15 06:21:59,344 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-15 06:21:59,346 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,347 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,348 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,349 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,350 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,351 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,352 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,353 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,353 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,354 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,355 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,356 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,358 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,372 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,376 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,376 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,380 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,380 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,381 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,382 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,383 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,384 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,385 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,386 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-15 06:21:59,386 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-15 06:22:00,191 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-15 06:22:00,192 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-15 06:22:00,362 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-15 06:22:00,367 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-15 06:22:01,703 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-15 06:22:01,704 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-15 06:22:01 UTC
2025-11-15 06:22:01,704 - __main__ - INFO - Total execution time: 0:04:14.193594
2025-11-16 06:17:59,326 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-16 06:17:59 UTC
2025-11-16 06:17:59,327 - __main__ - INFO - --- Processing State: AZ ---
2025-11-16 06:18:00,872 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-16 06:18:00,874 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-16 06:18:00,874 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-16 06:18:00,874 - __main__ - INFO - --- Processing State: CA ---
2025-11-16 06:18:00,878 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-16 06:18:00 UTC
2025-11-16 06:18:19,301 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-16 06:18:19,526 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-16 06:18:21,315 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-16 06:18:21,316 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-16 06:18:21,325 - __main__ - INFO - Processing ratingstable for CA...
2025-11-16 06:18:21,326 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-16 06:18:21,326 - __main__ - INFO - --- Processing State: DC ---
2025-11-16 06:19:11,019 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-16 06:19:11,203 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-16 06:19:12,618 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-16 06:19:12,619 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-16 06:19:12,628 - __main__ - INFO - Processing ratingstable for DC...
2025-11-16 06:19:12,629 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-16 06:19:12,629 - __main__ - INFO - --- Processing State: KS ---
2025-11-16 06:19:13,803 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-16 06:19:13,804 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-16 06:19:13,804 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-16 06:19:13,804 - __main__ - INFO - --- Processing State: KY ---
2025-11-16 06:19:22,720 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-16 06:19:22,957 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-16 06:19:24,175 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-16 06:19:24,175 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-16 06:19:24,184 - __main__ - INFO - Processing ratingstable for KY...
2025-11-16 06:19:24,185 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-16 06:19:24,186 - __main__ - INFO - --- Processing State: MD ---
2025-11-16 06:19:32,044 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-16 06:19:32,458 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-16 06:19:33,780 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-16 06:19:33,781 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-16 06:19:33,790 - __main__ - INFO - Processing ratingstable for MD...
2025-11-16 06:19:33,791 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-16 06:19:33,791 - __main__ - INFO - --- Processing State: MO ---
2025-11-16 06:19:33,927 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-16 06:19:33,929 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-16 06:19:33,930 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-16 06:19:33,930 - __main__ - INFO - --- Processing State: NC ---
2025-11-16 06:20:03,846 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-16 06:20:04,040 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-16 06:20:05,319 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-16 06:20:05,320 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-16 06:20:05,329 - __main__ - INFO - Processing ratingstable for NC...
2025-11-16 06:20:05,330 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-16 06:20:05,330 - __main__ - INFO - --- Processing State: NM ---
2025-11-16 06:20:10,139 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-16 06:20:10,142 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-16 06:20:10,142 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-16 06:20:10,142 - __main__ - INFO - --- Processing State: NY ---
2025-11-16 06:20:55,667 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-16 06:20:56,071 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-16 06:20:57,114 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-16 06:20:57,114 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-16 06:20:57,123 - __main__ - INFO - Processing ratingstable for NY...
2025-11-16 06:20:57,124 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-16 06:20:57,124 - __main__ - INFO - --- Processing State: OK ---
2025-11-16 06:20:57,128 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-16 06:20:57 UTC
2025-11-16 06:21:03,725 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-16 06:21:03,917 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-16 06:21:04,833 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-16 06:21:04,834 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-16 06:21:04,842 - __main__ - INFO - Processing ratingstable for OK...
2025-11-16 06:21:04,843 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-16 06:21:04,843 - __main__ - INFO - --- Processing State: OR ---
2025-11-16 06:21:19,778 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-16 06:21:19,991 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-16 06:21:20,932 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-16 06:21:20,933 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-16 06:21:20,942 - __main__ - INFO - Processing ratingstable for OR...
2025-11-16 06:21:20,943 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-16 06:21:20,943 - __main__ - INFO - --- Processing State: TX ---
2025-11-16 06:21:38,949 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-16 06:21:39,128 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-16 06:21:40,272 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-16 06:21:40,273 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-16 06:21:40,281 - __main__ - INFO - Processing ratingstable for TX...
2025-11-16 06:21:40,283 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-16 06:21:40,283 - __main__ - INFO - --- Processing State: VA ---
2025-11-16 06:22:33,893 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-16 06:22:34,116 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-16 06:22:35,175 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-16 06:22:35,175 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-16 06:22:35,184 - __main__ - INFO - Processing ratingstable for VA...
2025-11-16 06:22:35,185 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-16 06:22:35,185 - __main__ - INFO - --- Processing State: WA ---
2025-11-16 06:22:35,811 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-16 06:22:35,813 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-16 06:22:35,813 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-16 06:22:35,813 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-16 06:22:35,816 - __main__ - INFO - Combined scratchertables shape: (10809, 11)
2025-11-16 06:22:35,816 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-16 06:22:35,822 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-16 06:22:35,828 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-16 06:22:35,835 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-16 06:22:35,841 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-16 06:22:35,847 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-16 06:22:35,854 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-16 06:22:35,860 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-16 06:22:35,866 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-16 06:22:35,872 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-16 06:22:35,878 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-16 06:22:35,884 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-16 06:22:35,884 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-16 06:22:37,148 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-16 06:22:37,368 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-16 06:22:42,444 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-16 06:22:42,445 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-16 06:22:42,448 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-16 06:22:42,451 - __main__ - INFO - Combined ratingstable shape after reindex: (851, 51)
2025-11-16 06:22:42,451 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-16 06:22:42,451 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-16 06:22:42,454 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,455 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,456 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,457 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,458 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,458 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,459 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,460 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,461 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,462 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,463 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,464 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,466 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,479 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,482 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,483 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,486 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,487 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,488 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,489 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,490 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,491 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,491 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,492 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-16 06:22:42,493 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-16 06:22:43,815 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-16 06:22:43,815 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-16 06:22:44,010 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-16 06:22:44,015 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-16 06:22:46,472 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-16 06:22:46,472 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-16 06:22:46 UTC
2025-11-16 06:22:46,472 - __main__ - INFO - Total execution time: 0:04:47.146258
2025-11-17 06:20:43,990 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-17 06:20:43 UTC
2025-11-17 06:20:43,992 - __main__ - INFO - --- Processing State: AZ ---
2025-11-17 06:20:45,778 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-17 06:20:45,780 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-17 06:20:45,781 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-17 06:20:45,781 - __main__ - INFO - --- Processing State: CA ---
2025-11-17 06:20:45,785 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-17 06:20:45 UTC
2025-11-17 06:20:56,370 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-17 06:20:56,699 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-17 06:20:57,677 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-17 06:20:57,677 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-17 06:20:57,688 - __main__ - INFO - Processing ratingstable for CA...
2025-11-17 06:20:57,689 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-17 06:20:57,689 - __main__ - INFO - --- Processing State: DC ---
2025-11-17 06:21:54,034 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-17 06:21:54,223 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-17 06:21:55,223 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-17 06:21:55,224 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-17 06:21:55,234 - __main__ - INFO - Processing ratingstable for DC...
2025-11-17 06:21:55,235 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-17 06:21:55,235 - __main__ - INFO - --- Processing State: KS ---
2025-11-17 06:21:56,088 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-17 06:21:56,088 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-17 06:21:56,088 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-17 06:21:56,088 - __main__ - INFO - --- Processing State: KY ---
2025-11-17 06:22:05,267 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-17 06:22:05,447 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-17 06:22:06,333 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-17 06:22:06,334 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-17 06:22:06,345 - __main__ - INFO - Processing ratingstable for KY...
2025-11-17 06:22:06,346 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-17 06:22:06,346 - __main__ - INFO - --- Processing State: MD ---
2025-11-17 06:22:14,598 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-17 06:22:14,755 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-17 06:22:15,600 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-17 06:22:15,600 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-17 06:22:15,611 - __main__ - INFO - Processing ratingstable for MD...
2025-11-17 06:22:15,612 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-17 06:22:15,612 - __main__ - INFO - --- Processing State: MO ---
2025-11-17 06:22:15,792 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-17 06:22:15,795 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-17 06:22:15,795 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-17 06:22:15,795 - __main__ - INFO - --- Processing State: NC ---
2025-11-17 06:22:47,916 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-17 06:22:48,065 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-17 06:22:49,032 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-17 06:22:49,033 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-17 06:22:49,043 - __main__ - INFO - Processing ratingstable for NC...
2025-11-17 06:22:49,044 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-17 06:22:49,044 - __main__ - INFO - --- Processing State: NM ---
2025-11-17 06:22:54,306 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-17 06:22:54,310 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-17 06:22:54,310 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-17 06:22:54,310 - __main__ - INFO - --- Processing State: NY ---
2025-11-17 06:23:38,506 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-17 06:23:38,699 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-17 06:23:39,542 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-17 06:23:39,542 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-17 06:23:39,552 - __main__ - INFO - Processing ratingstable for NY...
2025-11-17 06:23:39,554 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-17 06:23:39,554 - __main__ - INFO - --- Processing State: OK ---
2025-11-17 06:23:39,559 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-17 06:23:39 UTC
2025-11-17 06:23:46,507 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-17 06:23:46,671 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-17 06:23:47,517 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-17 06:23:47,518 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-17 06:23:47,528 - __main__ - INFO - Processing ratingstable for OK...
2025-11-17 06:23:47,529 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-17 06:23:47,529 - __main__ - INFO - --- Processing State: OR ---
2025-11-17 06:24:03,053 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-17 06:24:03,244 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-17 06:24:04,033 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-17 06:24:04,034 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-17 06:24:04,044 - __main__ - INFO - Processing ratingstable for OR...
2025-11-17 06:24:04,046 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-17 06:24:04,046 - __main__ - INFO - --- Processing State: TX ---
2025-11-17 06:24:22,527 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-17 06:24:22,695 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-17 06:24:23,540 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-17 06:24:23,541 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-17 06:24:23,551 - __main__ - INFO - Processing ratingstable for TX...
2025-11-17 06:24:23,553 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-17 06:24:23,553 - __main__ - INFO - --- Processing State: VA ---
2025-11-17 06:25:21,472 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-17 06:25:21,651 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-17 06:25:22,512 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-17 06:25:22,513 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-17 06:25:22,523 - __main__ - INFO - Processing ratingstable for VA...
2025-11-17 06:25:22,525 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-17 06:25:22,525 - __main__ - INFO - --- Processing State: WA ---
2025-11-17 06:25:23,473 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-17 06:25:23,475 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-17 06:25:23,475 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-17 06:25:23,475 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-17 06:25:23,478 - __main__ - INFO - Combined scratchertables shape: (10809, 11)
2025-11-17 06:25:23,478 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-17 06:25:23,485 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-17 06:25:23,491 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-17 06:25:23,497 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-17 06:25:23,503 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-17 06:25:23,510 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-17 06:25:23,516 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-17 06:25:23,522 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-17 06:25:23,528 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-17 06:25:23,534 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-17 06:25:23,540 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-17 06:25:23,547 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-17 06:25:23,547 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-17 06:25:24,237 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-17 06:25:24,410 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-17 06:25:27,617 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-17 06:25:27,618 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-17 06:25:27,622 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-17 06:25:27,625 - __main__ - INFO - Combined ratingstable shape after reindex: (851, 51)
2025-11-17 06:25:27,625 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-17 06:25:27,625 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-17 06:25:27,627 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,628 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,629 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,630 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,631 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,632 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,633 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,634 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,635 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,636 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,637 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,638 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,640 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,654 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,657 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,658 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,661 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,662 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,663 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,664 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,665 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,666 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,667 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,668 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-17 06:25:27,668 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-17 06:25:28,499 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-17 06:25:28,500 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-17 06:25:28,679 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-17 06:25:28,684 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-17 06:25:30,206 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-17 06:25:30,206 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-17 06:25:30 UTC
2025-11-17 06:25:30,206 - __main__ - INFO - Total execution time: 0:04:46.215980
2025-11-18 06:19:44,763 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-18 06:19:44 UTC
2025-11-18 06:19:44,765 - __main__ - INFO - --- Processing State: AZ ---
2025-11-18 06:19:46,576 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-18 06:19:46,578 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-18 06:19:46,578 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-18 06:19:46,578 - __main__ - INFO - --- Processing State: CA ---
2025-11-18 06:19:46,583 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-18 06:19:46 UTC
2025-11-18 06:19:57,324 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-18 06:19:57,834 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-18 06:19:58,811 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-18 06:19:58,812 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-18 06:19:58,821 - __main__ - INFO - Processing ratingstable for CA...
2025-11-18 06:19:58,822 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-18 06:19:58,822 - __main__ - INFO - --- Processing State: DC ---
2025-11-18 06:20:52,206 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-18 06:20:52,386 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-18 06:20:53,134 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-18 06:20:53,135 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-18 06:20:53,145 - __main__ - INFO - Processing ratingstable for DC...
2025-11-18 06:20:53,146 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-18 06:20:53,146 - __main__ - INFO - --- Processing State: KS ---
2025-11-18 06:20:54,100 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-18 06:20:54,101 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-18 06:20:54,101 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-18 06:20:54,101 - __main__ - INFO - --- Processing State: KY ---
2025-11-18 06:21:02,591 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-18 06:21:02,955 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-18 06:21:03,845 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-18 06:21:03,846 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-18 06:21:03,856 - __main__ - INFO - Processing ratingstable for KY...
2025-11-18 06:21:03,857 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-18 06:21:03,857 - __main__ - INFO - --- Processing State: MD ---
2025-11-18 06:21:11,696 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-18 06:21:11,871 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-18 06:21:12,514 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-18 06:21:12,515 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-18 06:21:12,525 - __main__ - INFO - Processing ratingstable for MD...
2025-11-18 06:21:12,526 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-18 06:21:12,526 - __main__ - INFO - --- Processing State: MO ---
2025-11-18 06:21:12,772 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-18 06:21:12,774 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-18 06:21:12,775 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-18 06:21:12,775 - __main__ - INFO - --- Processing State: NC ---
2025-11-18 06:21:55,588 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-18 06:21:55,810 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-18 06:21:56,661 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-18 06:21:56,661 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-18 06:21:56,671 - __main__ - INFO - Processing ratingstable for NC...
2025-11-18 06:21:56,672 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-18 06:21:56,672 - __main__ - INFO - --- Processing State: NM ---
2025-11-18 06:22:00,257 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-18 06:22:00,260 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-18 06:22:00,261 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-18 06:22:00,261 - __main__ - INFO - --- Processing State: NY ---
2025-11-18 06:22:53,296 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-18 06:22:53,549 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-18 06:22:54,471 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-18 06:22:54,472 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-18 06:22:54,482 - __main__ - INFO - Processing ratingstable for NY...
2025-11-18 06:22:54,483 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-18 06:22:54,483 - __main__ - INFO - --- Processing State: OK ---
2025-11-18 06:22:54,488 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-18 06:22:54 UTC
2025-11-18 06:23:02,032 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-18 06:23:02,258 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-18 06:23:03,087 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-18 06:23:03,088 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-18 06:23:03,097 - __main__ - INFO - Processing ratingstable for OK...
2025-11-18 06:23:03,098 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-18 06:23:03,098 - __main__ - INFO - --- Processing State: OR ---
2025-11-18 06:23:13,929 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-18 06:23:15,306 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-18 06:23:15,974 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-18 06:23:15,975 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-18 06:23:15,985 - __main__ - INFO - Processing ratingstable for OR...
2025-11-18 06:23:15,986 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-18 06:23:15,986 - __main__ - INFO - --- Processing State: TX ---
2025-11-18 06:23:48,769 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-18 06:23:49,009 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-18 06:23:50,174 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-18 06:23:50,174 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-18 06:23:50,184 - __main__ - INFO - Processing ratingstable for TX...
2025-11-18 06:23:50,185 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-18 06:23:50,185 - __main__ - INFO - --- Processing State: VA ---
2025-11-18 06:24:56,032 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-18 06:24:56,324 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-18 06:24:57,335 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-18 06:24:57,336 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-18 06:24:57,346 - __main__ - INFO - Processing ratingstable for VA...
2025-11-18 06:24:57,347 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-18 06:24:57,347 - __main__ - INFO - --- Processing State: WA ---
2025-11-18 06:24:57,703 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-18 06:24:57,705 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-18 06:24:57,705 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-18 06:24:57,705 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-18 06:24:57,709 - __main__ - INFO - Combined scratchertables shape: (10911, 11)
2025-11-18 06:24:57,709 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-18 06:24:57,715 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-18 06:24:57,722 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-18 06:24:57,728 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-18 06:24:57,735 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-18 06:24:57,741 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-18 06:24:57,748 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-18 06:24:57,754 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-18 06:24:57,761 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-18 06:24:57,767 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-18 06:24:57,773 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-18 06:24:57,779 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-18 06:24:57,779 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-18 06:24:58,753 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-18 06:24:59,003 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-18 06:25:03,664 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-18 06:25:03,665 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-18 06:25:03,669 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-18 06:25:03,671 - __main__ - INFO - Combined ratingstable shape after reindex: (859, 51)
2025-11-18 06:25:03,671 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-18 06:25:03,671 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-18 06:25:03,673 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,674 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,675 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,676 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,676 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,677 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,678 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,679 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,680 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,681 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,682 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,683 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,684 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,699 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,702 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,703 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,706 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,707 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,707 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,708 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,709 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,710 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,711 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,712 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-18 06:25:03,712 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-18 06:25:05,042 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-18 06:25:05,043 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-18 06:25:05,255 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-18 06:25:05,260 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-18 06:25:07,192 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-18 06:25:07,193 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-18 06:25:07 UTC
2025-11-18 06:25:07,193 - __main__ - INFO - Total execution time: 0:05:22.429689
2025-11-19 06:19:24,596 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-19 06:19:24 UTC
2025-11-19 06:19:24,597 - __main__ - INFO - --- Processing State: AZ ---
2025-11-19 06:19:26,021 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-19 06:19:26,022 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-19 06:19:26,022 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-19 06:19:26,022 - __main__ - INFO - --- Processing State: CA ---
2025-11-19 06:19:26,026 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-19 06:19:26 UTC
2025-11-19 06:19:41,188 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-19 06:19:41,496 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-19 06:19:42,786 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-19 06:19:42,786 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-19 06:19:42,795 - __main__ - INFO - Processing ratingstable for CA...
2025-11-19 06:19:42,796 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-19 06:19:42,796 - __main__ - INFO - --- Processing State: DC ---
2025-11-19 06:20:47,925 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-19 06:20:48,230 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-19 06:20:49,098 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-19 06:20:49,099 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-19 06:20:49,112 - __main__ - INFO - Processing ratingstable for DC...
2025-11-19 06:20:49,113 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-19 06:20:49,113 - __main__ - INFO - --- Processing State: KS ---
2025-11-19 06:20:49,998 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-19 06:20:49,998 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-19 06:20:49,998 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-19 06:20:49,998 - __main__ - INFO - --- Processing State: KY ---
2025-11-19 06:20:57,853 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-19 06:20:58,139 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-19 06:20:59,078 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-19 06:20:59,079 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-19 06:20:59,087 - __main__ - INFO - Processing ratingstable for KY...
2025-11-19 06:20:59,089 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-19 06:20:59,089 - __main__ - INFO - --- Processing State: MD ---
2025-11-19 06:21:06,514 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-19 06:21:06,791 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-19 06:21:07,791 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-19 06:21:07,791 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-19 06:21:07,800 - __main__ - INFO - Processing ratingstable for MD...
2025-11-19 06:21:07,801 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-19 06:21:07,801 - __main__ - INFO - --- Processing State: MO ---
2025-11-19 06:21:08,077 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-19 06:21:08,080 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-19 06:21:08,080 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-19 06:21:08,081 - __main__ - INFO - --- Processing State: NC ---
2025-11-19 06:21:50,929 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-19 06:21:51,161 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-19 06:21:51,980 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-19 06:21:51,980 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-19 06:21:51,989 - __main__ - INFO - Processing ratingstable for NC...
2025-11-19 06:21:51,990 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-19 06:21:51,990 - __main__ - INFO - --- Processing State: NM ---
2025-11-19 06:21:55,006 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-19 06:21:55,009 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-19 06:21:55,009 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-19 06:21:55,010 - __main__ - INFO - --- Processing State: NY ---
2025-11-19 06:22:53,106 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-19 06:22:53,355 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-19 06:22:54,186 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-19 06:22:54,186 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-19 06:22:54,195 - __main__ - INFO - Processing ratingstable for NY...
2025-11-19 06:22:54,196 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-19 06:22:54,197 - __main__ - INFO - --- Processing State: OK ---
2025-11-19 06:22:54,202 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-19 06:22:54 UTC
2025-11-19 06:23:00,787 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-19 06:23:00,963 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-19 06:23:01,636 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-19 06:23:01,636 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-19 06:23:01,645 - __main__ - INFO - Processing ratingstable for OK...
2025-11-19 06:23:01,645 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-19 06:23:01,645 - __main__ - INFO - --- Processing State: OR ---
2025-11-19 06:23:15,243 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-19 06:23:15,441 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-19 06:23:16,158 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-19 06:23:16,159 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-19 06:23:16,170 - __main__ - INFO - Processing ratingstable for OR...
2025-11-19 06:23:16,171 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-19 06:23:16,172 - __main__ - INFO - --- Processing State: TX ---
2025-11-19 06:23:42,704 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-19 06:23:43,000 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-19 06:23:43,904 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-19 06:23:43,905 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-19 06:23:43,914 - __main__ - INFO - Processing ratingstable for TX...
2025-11-19 06:23:43,915 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-19 06:23:43,915 - __main__ - INFO - --- Processing State: VA ---
2025-11-19 06:24:46,551 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-19 06:24:46,855 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-19 06:24:47,665 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-19 06:24:47,666 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-19 06:24:47,674 - __main__ - INFO - Processing ratingstable for VA...
2025-11-19 06:24:47,675 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-19 06:24:47,675 - __main__ - INFO - --- Processing State: WA ---
2025-11-19 06:24:48,364 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-19 06:24:48,366 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-19 06:24:48,366 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-19 06:24:48,366 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-19 06:24:48,368 - __main__ - INFO - Combined scratchertables shape: (10911, 11)
2025-11-19 06:24:48,368 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-19 06:24:48,374 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-19 06:24:48,380 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-19 06:24:48,386 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-19 06:24:48,392 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-19 06:24:48,399 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-19 06:24:48,405 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-19 06:24:48,411 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-19 06:24:48,416 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-19 06:24:48,422 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-19 06:24:48,428 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-19 06:24:48,434 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-19 06:24:48,434 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-19 06:24:49,486 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-19 06:24:49,723 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-19 06:24:52,918 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-19 06:24:52,919 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-19 06:24:52,922 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-19 06:24:52,924 - __main__ - INFO - Combined ratingstable shape after reindex: (859, 51)
2025-11-19 06:24:52,925 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-19 06:24:52,925 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-19 06:24:52,926 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,927 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,928 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,929 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,930 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,931 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,931 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,932 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,933 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,934 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,935 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,936 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,937 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,950 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,953 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,953 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,956 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,957 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,958 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,959 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,959 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,960 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,961 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,962 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-19 06:24:52,962 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-19 06:24:53,990 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-19 06:24:53,991 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-19 06:24:54,185 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-19 06:24:54,190 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-19 06:24:55,658 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-19 06:24:55,658 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-19 06:24:55 UTC
2025-11-19 06:24:55,659 - __main__ - INFO - Total execution time: 0:05:31.062336
2025-11-20 06:19:01,406 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-20 06:19:01 UTC
2025-11-20 06:19:01,407 - __main__ - INFO - --- Processing State: AZ ---
2025-11-20 06:19:03,322 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-20 06:19:03,324 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-20 06:19:03,324 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-20 06:19:03,324 - __main__ - INFO - --- Processing State: CA ---
2025-11-20 06:19:03,328 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-20 06:19:03 UTC
2025-11-20 06:19:21,897 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-20 06:19:22,258 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-20 06:19:26,254 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-20 06:19:26,255 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-20 06:19:26,264 - __main__ - INFO - Processing ratingstable for CA...
2025-11-20 06:19:26,264 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-20 06:19:26,265 - __main__ - INFO - --- Processing State: DC ---
2025-11-20 06:20:24,347 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-20 06:20:24,580 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-20 06:20:25,581 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-20 06:20:25,581 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-20 06:20:25,590 - __main__ - INFO - Processing ratingstable for DC...
2025-11-20 06:20:25,591 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-20 06:20:25,591 - __main__ - INFO - --- Processing State: KS ---
2025-11-20 06:20:26,489 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-20 06:20:26,490 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-20 06:20:26,490 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-20 06:20:26,490 - __main__ - INFO - --- Processing State: KY ---
2025-11-20 06:20:34,638 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-20 06:20:34,829 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-20 06:20:35,798 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-20 06:20:35,799 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-20 06:20:35,808 - __main__ - INFO - Processing ratingstable for KY...
2025-11-20 06:20:35,809 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-20 06:20:35,809 - __main__ - INFO - --- Processing State: MD ---
2025-11-20 06:20:43,458 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-20 06:20:43,633 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-20 06:20:44,692 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-20 06:20:44,693 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-20 06:20:44,702 - __main__ - INFO - Processing ratingstable for MD...
2025-11-20 06:20:44,703 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-20 06:20:44,703 - __main__ - INFO - --- Processing State: MO ---
2025-11-20 06:20:45,015 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-20 06:20:45,018 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-20 06:20:45,018 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-20 06:20:45,018 - __main__ - INFO - --- Processing State: NC ---
2025-11-20 06:21:19,147 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-20 06:21:20,861 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-20 06:21:21,743 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-20 06:21:21,744 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-20 06:21:21,752 - __main__ - INFO - Processing ratingstable for NC...
2025-11-20 06:21:21,753 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-20 06:21:21,753 - __main__ - INFO - --- Processing State: NM ---
2025-11-20 06:21:27,182 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-20 06:21:27,185 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-20 06:21:27,185 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-20 06:21:27,185 - __main__ - INFO - --- Processing State: NY ---
2025-11-20 06:22:18,285 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-20 06:22:18,485 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-20 06:22:19,407 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-20 06:22:19,408 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-20 06:22:19,417 - __main__ - INFO - Processing ratingstable for NY...
2025-11-20 06:22:19,418 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-20 06:22:19,418 - __main__ - INFO - --- Processing State: OK ---
2025-11-20 06:22:19,422 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-20 06:22:19 UTC
2025-11-20 06:22:25,963 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-20 06:22:26,158 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-20 06:22:27,122 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-20 06:22:27,123 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-20 06:22:27,131 - __main__ - INFO - Processing ratingstable for OK...
2025-11-20 06:22:27,131 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-20 06:22:27,132 - __main__ - INFO - --- Processing State: OR ---
2025-11-20 06:22:37,566 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-20 06:22:37,742 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-20 06:22:38,647 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-20 06:22:38,647 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-20 06:22:38,656 - __main__ - INFO - Processing ratingstable for OR...
2025-11-20 06:22:38,657 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-20 06:22:38,657 - __main__ - INFO - --- Processing State: TX ---
2025-11-20 06:23:08,320 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-20 06:23:08,504 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-20 06:23:09,412 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-20 06:23:09,413 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-20 06:23:09,421 - __main__ - INFO - Processing ratingstable for TX...
2025-11-20 06:23:09,422 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-20 06:23:09,423 - __main__ - INFO - --- Processing State: VA ---
2025-11-20 06:24:12,223 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-20 06:24:12,494 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-20 06:24:13,432 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-20 06:24:13,433 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-20 06:24:13,442 - __main__ - INFO - Processing ratingstable for VA...
2025-11-20 06:24:13,443 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-20 06:24:13,443 - __main__ - INFO - --- Processing State: WA ---
2025-11-20 06:24:13,985 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-20 06:24:13,987 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-20 06:24:13,987 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-20 06:24:13,987 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-20 06:24:13,991 - __main__ - INFO - Combined scratchertables shape: (10706, 11)
2025-11-20 06:24:13,991 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-20 06:24:13,998 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-20 06:24:14,004 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-20 06:24:14,010 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-20 06:24:14,017 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-20 06:24:14,023 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-20 06:24:14,029 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-20 06:24:14,035 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-20 06:24:14,041 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-20 06:24:14,047 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-20 06:24:14,053 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-20 06:24:14,059 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-20 06:24:14,060 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-20 06:24:15,341 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-20 06:24:15,547 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-20 06:24:19,249 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-20 06:24:19,250 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-20 06:24:19,253 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-20 06:24:19,256 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-20 06:24:19,256 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-20 06:24:19,256 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-20 06:24:19,258 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,259 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,259 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,260 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,261 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,262 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,263 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,263 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,264 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,265 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,266 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,267 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,268 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,281 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,284 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,284 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,287 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,288 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,289 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,289 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,290 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,291 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,292 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,293 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-20 06:24:19,293 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-20 06:24:20,752 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-20 06:24:20,753 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-20 06:24:20,963 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-20 06:24:20,968 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-20 06:24:22,806 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-20 06:24:22,807 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-20 06:24:22 UTC
2025-11-20 06:24:22,807 - __main__ - INFO - Total execution time: 0:05:21.400570
2025-11-21 06:20:05,579 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-21 06:20:05 UTC
2025-11-21 06:20:05,581 - __main__ - INFO - --- Processing State: AZ ---
2025-11-21 06:20:07,120 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-21 06:20:07,122 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-21 06:20:07,122 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-21 06:20:07,122 - __main__ - INFO - --- Processing State: CA ---
2025-11-21 06:20:07,126 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-21 06:20:07 UTC
2025-11-21 06:20:19,926 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-21 06:20:20,093 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-21 06:20:23,301 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-21 06:20:23,302 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-21 06:20:23,312 - __main__ - INFO - Processing ratingstable for CA...
2025-11-21 06:20:23,313 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-21 06:20:23,313 - __main__ - INFO - --- Processing State: DC ---
2025-11-21 06:21:21,916 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-21 06:21:22,096 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-21 06:21:23,013 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-21 06:21:23,013 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-21 06:21:23,023 - __main__ - INFO - Processing ratingstable for DC...
2025-11-21 06:21:23,024 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-21 06:21:23,024 - __main__ - INFO - --- Processing State: KS ---
2025-11-21 06:21:23,954 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-21 06:21:23,954 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-21 06:21:23,954 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-21 06:21:23,954 - __main__ - INFO - --- Processing State: KY ---
2025-11-21 06:21:32,770 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-21 06:21:32,931 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-21 06:21:33,644 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-21 06:21:33,644 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-21 06:21:33,654 - __main__ - INFO - Processing ratingstable for KY...
2025-11-21 06:21:33,655 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-21 06:21:33,655 - __main__ - INFO - --- Processing State: MD ---
2025-11-21 06:21:41,587 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-21 06:21:41,734 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-21 06:21:42,549 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-21 06:21:42,550 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-21 06:21:42,559 - __main__ - INFO - Processing ratingstable for MD...
2025-11-21 06:21:42,560 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-21 06:21:42,560 - __main__ - INFO - --- Processing State: MO ---
2025-11-21 06:21:42,795 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-21 06:21:42,796 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-21 06:21:42,797 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-21 06:21:42,797 - __main__ - INFO - --- Processing State: NC ---
2025-11-21 06:22:28,279 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-21 06:22:28,448 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-21 06:22:29,174 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-21 06:22:29,175 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-21 06:22:29,185 - __main__ - INFO - Processing ratingstable for NC...
2025-11-21 06:22:29,186 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-21 06:22:29,186 - __main__ - INFO - --- Processing State: NM ---
2025-11-21 06:22:34,409 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-21 06:22:34,413 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-21 06:22:34,413 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-21 06:22:34,413 - __main__ - INFO - --- Processing State: NY ---
2025-11-21 06:23:22,045 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-21 06:23:22,203 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-21 06:23:22,932 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-21 06:23:22,932 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-21 06:23:22,941 - __main__ - INFO - Processing ratingstable for NY...
2025-11-21 06:23:22,942 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-21 06:23:22,942 - __main__ - INFO - --- Processing State: OK ---
2025-11-21 06:23:22,947 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-21 06:23:22 UTC
2025-11-21 06:23:29,529 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-21 06:23:29,699 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-21 06:23:30,373 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-21 06:23:30,373 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-21 06:23:30,382 - __main__ - INFO - Processing ratingstable for OK...
2025-11-21 06:23:30,383 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-21 06:23:30,383 - __main__ - INFO - --- Processing State: OR ---
2025-11-21 06:23:39,490 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-21 06:23:39,741 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-21 06:23:40,350 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-21 06:23:40,351 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-21 06:23:40,360 - __main__ - INFO - Processing ratingstable for OR...
2025-11-21 06:23:40,362 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-21 06:23:40,362 - __main__ - INFO - --- Processing State: TX ---
2025-11-21 06:24:03,605 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-21 06:24:03,762 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-21 06:24:04,524 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-21 06:24:04,525 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-21 06:24:04,534 - __main__ - INFO - Processing ratingstable for TX...
2025-11-21 06:24:04,535 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-21 06:24:04,535 - __main__ - INFO - --- Processing State: VA ---
2025-11-21 06:25:12,325 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-21 06:25:12,498 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-21 06:25:13,376 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-21 06:25:13,377 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-21 06:25:13,386 - __main__ - INFO - Processing ratingstable for VA...
2025-11-21 06:25:13,387 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-21 06:25:13,387 - __main__ - INFO - --- Processing State: WA ---
2025-11-21 06:25:28,710 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-21 06:25:28,712 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-21 06:25:28,712 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-21 06:25:28,712 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-21 06:25:28,715 - __main__ - INFO - Combined scratchertables shape: (10706, 11)
2025-11-21 06:25:28,715 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-21 06:25:28,721 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-21 06:25:28,727 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-21 06:25:28,733 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-21 06:25:28,739 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-21 06:25:28,745 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-21 06:25:28,751 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-21 06:25:28,757 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-21 06:25:28,762 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-21 06:25:28,768 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-21 06:25:28,774 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-21 06:25:28,780 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-21 06:25:28,780 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-21 06:25:29,588 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-21 06:25:29,763 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-21 06:25:34,057 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-21 06:25:34,058 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-21 06:25:34,062 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-21 06:25:34,064 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-21 06:25:34,064 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-21 06:25:34,064 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-21 06:25:34,066 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,067 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,068 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,069 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,070 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,071 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,072 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,073 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,074 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,075 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,076 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,076 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,078 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,092 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,095 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,096 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,099 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,099 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,100 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,101 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,102 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,103 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,104 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,105 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-21 06:25:34,105 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-21 06:25:34,977 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-21 06:25:34,977 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-21 06:25:35,150 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-21 06:25:35,155 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-21 06:25:36,867 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-21 06:25:36,867 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-21 06:25:36 UTC
2025-11-21 06:25:36,867 - __main__ - INFO - Total execution time: 0:05:31.287610
2025-11-22 06:17:22,574 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-22 06:17:22 UTC
2025-11-22 06:17:22,576 - __main__ - INFO - --- Processing State: AZ ---
2025-11-22 06:17:24,198 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-22 06:17:24,200 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-22 06:17:24,200 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-22 06:17:24,200 - __main__ - INFO - --- Processing State: CA ---
2025-11-22 06:17:24,205 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-22 06:17:24 UTC
2025-11-22 06:17:40,287 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-22 06:17:40,598 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-22 06:17:41,957 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-22 06:17:41,957 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-22 06:17:41,967 - __main__ - INFO - Processing ratingstable for CA...
2025-11-22 06:17:41,968 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-22 06:17:41,968 - __main__ - INFO - --- Processing State: DC ---
2025-11-22 06:18:32,172 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-22 06:18:32,313 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-22 06:18:32,988 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-22 06:18:32,989 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-22 06:18:32,999 - __main__ - INFO - Processing ratingstable for DC...
2025-11-22 06:18:33,000 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-22 06:18:33,000 - __main__ - INFO - --- Processing State: KS ---
2025-11-22 06:18:33,913 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-22 06:18:33,914 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-22 06:18:33,914 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-22 06:18:33,914 - __main__ - INFO - --- Processing State: KY ---
2025-11-22 06:18:43,066 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-22 06:18:43,242 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-22 06:18:43,938 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-22 06:18:43,939 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-22 06:18:43,949 - __main__ - INFO - Processing ratingstable for KY...
2025-11-22 06:18:43,951 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-22 06:18:43,951 - __main__ - INFO - --- Processing State: MD ---
2025-11-22 06:18:51,969 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-22 06:18:52,115 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-22 06:18:52,774 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-22 06:18:52,775 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-22 06:18:52,785 - __main__ - INFO - Processing ratingstable for MD...
2025-11-22 06:18:52,786 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-22 06:18:52,786 - __main__ - INFO - --- Processing State: MO ---
2025-11-22 06:18:53,003 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-22 06:18:53,006 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-22 06:18:53,006 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-22 06:18:53,006 - __main__ - INFO - --- Processing State: NC ---
2025-11-22 06:19:21,508 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-22 06:19:21,677 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-22 06:19:22,498 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-22 06:19:22,499 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-22 06:19:22,509 - __main__ - INFO - Processing ratingstable for NC...
2025-11-22 06:19:22,510 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-22 06:19:22,510 - __main__ - INFO - --- Processing State: NM ---
2025-11-22 06:19:26,819 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-22 06:19:26,823 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-22 06:19:26,823 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-22 06:19:26,823 - __main__ - INFO - --- Processing State: NY ---
2025-11-22 06:20:13,120 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-22 06:20:13,304 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-22 06:20:14,058 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-22 06:20:14,059 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-22 06:20:14,068 - __main__ - INFO - Processing ratingstable for NY...
2025-11-22 06:20:14,070 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-22 06:20:14,070 - __main__ - INFO - --- Processing State: OK ---
2025-11-22 06:20:14,074 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-22 06:20:14 UTC
2025-11-22 06:20:20,881 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-22 06:20:21,040 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-22 06:20:21,782 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-22 06:20:21,782 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-22 06:20:21,791 - __main__ - INFO - Processing ratingstable for OK...
2025-11-22 06:20:21,792 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-22 06:20:21,792 - __main__ - INFO - --- Processing State: OR ---
2025-11-22 06:20:35,692 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-22 06:20:35,861 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-22 06:20:36,552 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-22 06:20:36,553 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-22 06:20:36,563 - __main__ - INFO - Processing ratingstable for OR...
2025-11-22 06:20:36,564 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-22 06:20:36,564 - __main__ - INFO - --- Processing State: TX ---
2025-11-22 06:20:56,051 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-22 06:20:56,244 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-22 06:20:57,067 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-22 06:20:57,068 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-22 06:20:57,077 - __main__ - INFO - Processing ratingstable for TX...
2025-11-22 06:20:57,079 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-22 06:20:57,079 - __main__ - INFO - --- Processing State: VA ---
2025-11-22 06:21:52,645 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-22 06:21:52,859 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-22 06:21:53,534 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-22 06:21:53,535 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-22 06:21:53,545 - __main__ - INFO - Processing ratingstable for VA...
2025-11-22 06:21:53,547 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-22 06:21:53,547 - __main__ - INFO - --- Processing State: WA ---
2025-11-22 06:21:54,274 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-22 06:21:54,276 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-22 06:21:54,276 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-22 06:21:54,276 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-22 06:21:54,279 - __main__ - INFO - Combined scratchertables shape: (10706, 11)
2025-11-22 06:21:54,280 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-22 06:21:54,286 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-22 06:21:54,294 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-22 06:21:54,300 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-22 06:21:54,306 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-22 06:21:54,312 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-22 06:21:54,319 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-22 06:21:54,325 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-22 06:21:54,331 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-22 06:21:54,337 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-22 06:21:54,343 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-22 06:21:54,349 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-22 06:21:54,349 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-22 06:21:55,054 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-22 06:21:55,232 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-22 06:21:58,213 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-22 06:21:58,215 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-22 06:21:58,218 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-22 06:21:58,221 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-22 06:21:58,221 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-22 06:21:58,221 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-22 06:21:58,223 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,225 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,226 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,227 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,227 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,228 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,229 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,230 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,231 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,232 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,233 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,234 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,236 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,250 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,253 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,254 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,257 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,258 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,259 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,260 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,261 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,262 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,263 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,264 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-22 06:21:58,264 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-22 06:21:59,091 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-22 06:21:59,091 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-22 06:21:59,272 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-22 06:21:59,277 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-22 06:22:00,459 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-22 06:22:00,460 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-22 06:22:00 UTC
2025-11-22 06:22:00,460 - __main__ - INFO - Total execution time: 0:04:37.885381
2025-11-23 06:18:12,129 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-23 06:18:12 UTC
2025-11-23 06:18:12,130 - __main__ - INFO - --- Processing State: AZ ---
2025-11-23 06:18:13,541 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-23 06:18:13,543 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-23 06:18:13,543 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-23 06:18:13,543 - __main__ - INFO - --- Processing State: CA ---
2025-11-23 06:18:13,548 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-23 06:18:13 UTC
2025-11-23 06:18:27,739 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-23 06:18:27,961 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-23 06:18:30,925 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-23 06:18:30,926 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-23 06:18:30,936 - __main__ - INFO - Processing ratingstable for CA...
2025-11-23 06:18:30,937 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-23 06:18:30,938 - __main__ - INFO - --- Processing State: DC ---
2025-11-23 06:19:38,054 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-23 06:19:38,214 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-23 06:19:39,049 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-23 06:19:39,050 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-23 06:19:39,059 - __main__ - INFO - Processing ratingstable for DC...
2025-11-23 06:19:39,060 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-23 06:19:39,060 - __main__ - INFO - --- Processing State: KS ---
2025-11-23 06:19:40,195 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-23 06:19:40,195 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-23 06:19:40,195 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-23 06:19:40,195 - __main__ - INFO - --- Processing State: KY ---
2025-11-23 06:19:48,659 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-23 06:19:48,816 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-23 06:19:49,693 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-23 06:19:49,694 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-23 06:19:49,704 - __main__ - INFO - Processing ratingstable for KY...
2025-11-23 06:19:49,705 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-23 06:19:49,705 - __main__ - INFO - --- Processing State: MD ---
2025-11-23 06:19:58,162 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-23 06:19:58,316 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-23 06:19:59,145 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-23 06:19:59,146 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-23 06:19:59,155 - __main__ - INFO - Processing ratingstable for MD...
2025-11-23 06:19:59,157 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-23 06:19:59,157 - __main__ - INFO - --- Processing State: MO ---
2025-11-23 06:19:59,520 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-23 06:19:59,522 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-23 06:19:59,523 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-23 06:19:59,523 - __main__ - INFO - --- Processing State: NC ---
2025-11-23 06:20:39,800 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-23 06:20:39,974 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-23 06:20:40,838 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-23 06:20:40,839 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-23 06:20:40,848 - __main__ - INFO - Processing ratingstable for NC...
2025-11-23 06:20:40,849 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-23 06:20:40,850 - __main__ - INFO - --- Processing State: NM ---
2025-11-23 06:20:46,562 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-23 06:20:46,565 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-23 06:20:46,565 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-23 06:20:46,566 - __main__ - INFO - --- Processing State: NY ---
2025-11-23 06:21:42,671 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-23 06:21:42,868 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-23 06:21:43,806 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-23 06:21:43,806 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-23 06:21:43,816 - __main__ - INFO - Processing ratingstable for NY...
2025-11-23 06:21:43,817 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-23 06:21:43,817 - __main__ - INFO - --- Processing State: OK ---
2025-11-23 06:21:43,822 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-23 06:21:43 UTC
2025-11-23 06:21:51,122 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-23 06:21:51,285 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-23 06:21:52,150 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-23 06:21:52,151 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-23 06:21:52,160 - __main__ - INFO - Processing ratingstable for OK...
2025-11-23 06:21:52,161 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-23 06:21:52,161 - __main__ - INFO - --- Processing State: OR ---
2025-11-23 06:22:04,338 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-23 06:22:04,499 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-23 06:22:05,265 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-23 06:22:05,266 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-23 06:22:05,275 - __main__ - INFO - Processing ratingstable for OR...
2025-11-23 06:22:05,277 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-23 06:22:05,277 - __main__ - INFO - --- Processing State: TX ---
2025-11-23 06:22:34,429 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-23 06:22:34,596 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-23 06:22:35,611 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-23 06:22:35,611 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-23 06:22:35,621 - __main__ - INFO - Processing ratingstable for TX...
2025-11-23 06:22:35,622 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-23 06:22:35,622 - __main__ - INFO - --- Processing State: VA ---
2025-11-23 06:23:50,318 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-23 06:23:50,497 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-23 06:23:51,492 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-23 06:23:51,493 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-23 06:23:51,503 - __main__ - INFO - Processing ratingstable for VA...
2025-11-23 06:23:51,504 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-23 06:23:51,504 - __main__ - INFO - --- Processing State: WA ---
2025-11-23 06:23:52,306 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-23 06:23:52,308 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-23 06:23:52,308 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-23 06:23:52,308 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-23 06:23:52,311 - __main__ - INFO - Combined scratchertables shape: (10706, 11)
2025-11-23 06:23:52,311 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-23 06:23:52,317 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-23 06:23:52,323 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-23 06:23:52,329 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-23 06:23:52,335 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-23 06:23:52,342 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-23 06:23:52,348 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-23 06:23:52,354 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-23 06:23:52,360 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-23 06:23:52,365 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-23 06:23:52,371 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-23 06:23:52,377 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-23 06:23:52,377 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-23 06:23:53,441 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-23 06:23:53,638 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-23 06:23:56,955 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-23 06:23:56,956 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-23 06:23:56,959 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-23 06:23:56,961 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-23 06:23:56,961 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-23 06:23:56,961 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-23 06:23:56,964 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,965 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,966 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,967 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,968 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,969 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,970 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,971 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,972 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,973 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,974 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,975 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,976 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,991 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,994 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,995 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,998 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-23 06:23:56,999 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-23 06:23:57,000 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-23 06:23:57,001 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-23 06:23:57,002 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-23 06:23:57,003 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-23 06:23:57,004 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-23 06:23:57,005 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-23 06:23:57,005 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-23 06:23:58,226 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-23 06:23:58,226 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-23 06:23:58,422 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-23 06:23:58,427 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-23 06:24:00,108 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-23 06:24:00,108 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-23 06:24:00 UTC
2025-11-23 06:24:00,108 - __main__ - INFO - Total execution time: 0:05:47.979125
2025-11-24 06:20:47,440 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-24 06:20:47 UTC
2025-11-24 06:20:47,441 - __main__ - INFO - --- Processing State: AZ ---
2025-11-24 06:20:49,487 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-24 06:20:49,489 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-24 06:20:49,489 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-24 06:20:49,489 - __main__ - INFO - --- Processing State: CA ---
2025-11-24 06:20:49,493 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-24 06:20:49 UTC
2025-11-24 06:21:06,113 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-24 06:21:06,564 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-24 06:21:07,970 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-24 06:21:07,970 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-24 06:21:07,981 - __main__ - INFO - Processing ratingstable for CA...
2025-11-24 06:21:07,981 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-24 06:21:07,982 - __main__ - INFO - --- Processing State: DC ---
2025-11-24 06:21:51,852 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-24 06:21:52,010 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-24 06:21:52,821 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-24 06:21:52,822 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-24 06:21:52,832 - __main__ - INFO - Processing ratingstable for DC...
2025-11-24 06:21:52,832 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-24 06:21:52,833 - __main__ - INFO - --- Processing State: KS ---
2025-11-24 06:21:53,738 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-24 06:21:53,739 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-24 06:21:53,739 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-24 06:21:53,739 - __main__ - INFO - --- Processing State: KY ---
2025-11-24 06:22:02,035 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-24 06:22:02,206 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-24 06:22:02,950 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-24 06:22:02,950 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-24 06:22:02,964 - __main__ - INFO - Processing ratingstable for KY...
2025-11-24 06:22:02,966 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-24 06:22:02,966 - __main__ - INFO - --- Processing State: MD ---
2025-11-24 06:22:11,337 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-24 06:22:11,538 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-24 06:22:12,255 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-24 06:22:12,256 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-24 06:22:12,269 - __main__ - INFO - Processing ratingstable for MD...
2025-11-24 06:22:12,270 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-24 06:22:12,270 - __main__ - INFO - --- Processing State: MO ---
2025-11-24 06:22:12,555 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-24 06:22:12,558 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-24 06:22:12,559 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-24 06:22:12,559 - __main__ - INFO - --- Processing State: NC ---
2025-11-24 06:22:36,166 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-24 06:22:36,347 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-24 06:22:37,061 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-24 06:22:37,061 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-24 06:22:37,072 - __main__ - INFO - Processing ratingstable for NC...
2025-11-24 06:22:37,073 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-24 06:22:37,073 - __main__ - INFO - --- Processing State: NM ---
2025-11-24 06:22:42,318 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-24 06:22:42,322 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-24 06:22:42,322 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-24 06:22:42,322 - __main__ - INFO - --- Processing State: NY ---
2025-11-24 06:23:25,670 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-24 06:23:25,884 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-24 06:23:26,639 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-24 06:23:26,640 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-24 06:23:26,650 - __main__ - INFO - Processing ratingstable for NY...
2025-11-24 06:23:26,651 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-24 06:23:26,651 - __main__ - INFO - --- Processing State: OK ---
2025-11-24 06:23:26,655 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-24 06:23:26 UTC
2025-11-24 06:23:33,442 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-24 06:23:33,606 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-24 06:23:34,288 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-24 06:23:34,289 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-24 06:23:34,298 - __main__ - INFO - Processing ratingstable for OK...
2025-11-24 06:23:34,299 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-24 06:23:34,299 - __main__ - INFO - --- Processing State: OR ---
2025-11-24 06:23:51,297 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-24 06:23:51,448 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-24 06:23:52,169 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-24 06:23:52,169 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-24 06:23:52,179 - __main__ - INFO - Processing ratingstable for OR...
2025-11-24 06:23:52,180 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-24 06:23:52,180 - __main__ - INFO - --- Processing State: TX ---
2025-11-24 06:24:10,196 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-24 06:24:10,382 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-24 06:24:11,067 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-24 06:24:11,068 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-24 06:24:11,077 - __main__ - INFO - Processing ratingstable for TX...
2025-11-24 06:24:11,079 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-24 06:24:11,079 - __main__ - INFO - --- Processing State: VA ---
2025-11-24 06:25:01,972 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-24 06:25:02,166 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-24 06:25:02,840 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-24 06:25:02,841 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-24 06:25:02,850 - __main__ - INFO - Processing ratingstable for VA...
2025-11-24 06:25:02,852 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-24 06:25:02,852 - __main__ - INFO - --- Processing State: WA ---
2025-11-24 06:25:33,131 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-24 06:25:33,133 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-24 06:25:33,133 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-24 06:25:33,133 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-24 06:25:33,137 - __main__ - INFO - Combined scratchertables shape: (10706, 11)
2025-11-24 06:25:33,137 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-24 06:25:33,143 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-24 06:25:33,149 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-24 06:25:33,155 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-24 06:25:33,161 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-24 06:25:33,167 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-24 06:25:33,173 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-24 06:25:33,179 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-24 06:25:33,185 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-24 06:25:33,191 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-24 06:25:33,197 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-24 06:25:33,203 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-24 06:25:33,203 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-24 06:25:34,064 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-24 06:25:34,304 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-24 06:25:36,701 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-24 06:25:36,702 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-24 06:25:36,705 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-24 06:25:36,708 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-24 06:25:36,708 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-24 06:25:36,708 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-24 06:25:36,710 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,711 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,712 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,713 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,714 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,715 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,716 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,717 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,718 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,719 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,720 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,721 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,723 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,737 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,740 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,741 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,744 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,745 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,746 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,747 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,748 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,749 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,750 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,751 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-24 06:25:36,751 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-24 06:25:37,827 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-24 06:25:37,828 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-24 06:25:37,996 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-24 06:25:38,000 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-24 06:25:39,234 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-24 06:25:39,235 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-24 06:25:39 UTC
2025-11-24 06:25:39,235 - __main__ - INFO - Total execution time: 0:04:51.795419
2025-11-25 06:20:25,272 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-25 06:20:25 UTC
2025-11-25 06:20:25,273 - __main__ - INFO - --- Processing State: AZ ---
2025-11-25 06:20:26,915 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-25 06:20:26,917 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-25 06:20:26,917 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-25 06:20:26,917 - __main__ - INFO - --- Processing State: CA ---
2025-11-25 06:20:26,922 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-25 06:20:26 UTC
2025-11-25 06:20:37,992 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-25 06:20:38,469 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-25 06:20:39,694 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-25 06:20:39,695 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-25 06:20:39,705 - __main__ - INFO - Processing ratingstable for CA...
2025-11-25 06:20:39,706 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-25 06:20:39,706 - __main__ - INFO - --- Processing State: DC ---
2025-11-25 06:21:33,131 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-25 06:21:33,310 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-25 06:21:34,336 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-25 06:21:34,336 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-25 06:21:34,346 - __main__ - INFO - Processing ratingstable for DC...
2025-11-25 06:21:34,347 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-25 06:21:34,347 - __main__ - INFO - --- Processing State: KS ---
2025-11-25 06:21:35,179 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-25 06:21:35,180 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-25 06:21:35,180 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-25 06:21:35,180 - __main__ - INFO - --- Processing State: KY ---
2025-11-25 06:21:43,991 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-25 06:21:44,281 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-25 06:21:45,198 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-25 06:21:45,198 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-25 06:21:45,208 - __main__ - INFO - Processing ratingstable for KY...
2025-11-25 06:21:45,210 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-25 06:21:45,210 - __main__ - INFO - --- Processing State: MD ---
2025-11-25 06:21:53,554 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-25 06:21:53,792 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-25 06:21:54,794 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-25 06:21:54,795 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-25 06:21:54,805 - __main__ - INFO - Processing ratingstable for MD...
2025-11-25 06:21:54,806 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-25 06:21:54,807 - __main__ - INFO - --- Processing State: MO ---
2025-11-25 06:21:54,986 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-25 06:21:54,989 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-25 06:21:54,990 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-25 06:21:54,990 - __main__ - INFO - --- Processing State: NC ---
2025-11-25 06:22:22,420 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-25 06:22:22,593 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-25 06:22:23,460 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-25 06:22:23,460 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-25 06:22:23,470 - __main__ - INFO - Processing ratingstable for NC...
2025-11-25 06:22:23,471 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-25 06:22:23,471 - __main__ - INFO - --- Processing State: NM ---
2025-11-25 06:22:25,888 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-25 06:22:25,892 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-25 06:22:25,892 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-25 06:22:25,892 - __main__ - INFO - --- Processing State: NY ---
2025-11-25 06:23:10,571 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-25 06:23:10,791 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-25 06:23:11,786 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-25 06:23:11,787 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-25 06:23:11,797 - __main__ - INFO - Processing ratingstable for NY...
2025-11-25 06:23:11,798 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-25 06:23:11,798 - __main__ - INFO - --- Processing State: OK ---
2025-11-25 06:23:11,803 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-25 06:23:11 UTC
2025-11-25 06:23:18,717 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-25 06:23:18,897 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-25 06:23:19,716 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-25 06:23:19,717 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-25 06:23:19,726 - __main__ - INFO - Processing ratingstable for OK...
2025-11-25 06:23:19,727 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-25 06:23:19,727 - __main__ - INFO - --- Processing State: OR ---
2025-11-25 06:23:33,626 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-25 06:23:33,815 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-25 06:23:34,684 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-25 06:23:34,685 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-25 06:23:34,694 - __main__ - INFO - Processing ratingstable for OR...
2025-11-25 06:23:34,696 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-25 06:23:34,696 - __main__ - INFO - --- Processing State: TX ---
2025-11-25 06:23:53,954 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-25 06:23:55,416 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-25 06:23:56,428 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-25 06:23:56,429 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-25 06:23:56,439 - __main__ - INFO - Processing ratingstable for TX...
2025-11-25 06:23:56,440 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-25 06:23:56,440 - __main__ - INFO - --- Processing State: VA ---
2025-11-25 06:24:51,632 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-25 06:24:51,869 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-25 06:24:52,916 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-25 06:24:52,917 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-25 06:24:52,927 - __main__ - INFO - Processing ratingstable for VA...
2025-11-25 06:24:52,928 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-25 06:24:52,928 - __main__ - INFO - --- Processing State: WA ---
2025-11-25 06:25:19,558 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-25 06:25:19,560 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-25 06:25:19,560 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-25 06:25:19,560 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-25 06:25:19,563 - __main__ - INFO - Combined scratchertables shape: (10666, 11)
2025-11-25 06:25:19,563 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-25 06:25:19,569 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-25 06:25:19,575 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-25 06:25:19,581 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-25 06:25:19,587 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-25 06:25:19,593 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-25 06:25:19,598 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-25 06:25:19,604 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-25 06:25:19,610 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-25 06:25:19,616 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-25 06:25:19,621 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-25 06:25:19,627 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-25 06:25:19,627 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-25 06:25:20,799 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-25 06:25:21,014 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-25 06:25:25,090 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-25 06:25:25,091 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-25 06:25:25,094 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-25 06:25:25,096 - __main__ - INFO - Combined ratingstable shape after reindex: (841, 51)
2025-11-25 06:25:25,097 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-25 06:25:25,097 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-25 06:25:25,099 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,099 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,100 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,101 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,102 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,103 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,104 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,105 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,106 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,106 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,107 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,108 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,110 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,124 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,127 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,128 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,131 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,131 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,132 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,133 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,134 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,135 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,136 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,137 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-25 06:25:25,137 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-25 06:25:26,419 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-25 06:25:26,419 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-25 06:25:26,603 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-25 06:25:26,608 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-25 06:25:28,349 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-25 06:25:28,350 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-25 06:25:28 UTC
2025-11-25 06:25:28,350 - __main__ - INFO - Total execution time: 0:05:03.078283
2025-11-26 06:20:16,269 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-26 06:20:16 UTC
2025-11-26 06:20:16,270 - __main__ - INFO - --- Processing State: AZ ---
2025-11-26 06:20:18,220 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-26 06:20:18,222 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-26 06:20:18,223 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-26 06:20:18,223 - __main__ - INFO - --- Processing State: CA ---
2025-11-26 06:20:18,227 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-26 06:20:18 UTC
2025-11-26 06:20:36,227 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-26 06:20:36,404 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-26 06:20:41,107 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-26 06:20:41,108 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-26 06:20:41,117 - __main__ - INFO - Processing ratingstable for CA...
2025-11-26 06:20:41,118 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-26 06:20:41,118 - __main__ - INFO - --- Processing State: DC ---
2025-11-26 06:21:44,657 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-26 06:21:44,791 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-26 06:21:45,709 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-26 06:21:45,710 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-26 06:21:45,728 - __main__ - INFO - Processing ratingstable for DC...
2025-11-26 06:21:45,729 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-26 06:21:45,729 - __main__ - INFO - --- Processing State: KS ---
2025-11-26 06:21:46,699 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-26 06:21:46,700 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-26 06:21:46,700 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-26 06:21:46,701 - __main__ - INFO - --- Processing State: KY ---
2025-11-26 06:21:55,390 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-26 06:21:55,535 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-26 06:21:56,382 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-26 06:21:56,383 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-26 06:21:56,392 - __main__ - INFO - Processing ratingstable for KY...
2025-11-26 06:21:56,393 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-26 06:21:56,393 - __main__ - INFO - --- Processing State: MD ---
2025-11-26 06:22:04,938 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-26 06:22:05,085 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-26 06:22:05,999 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-26 06:22:05,999 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-26 06:22:06,009 - __main__ - INFO - Processing ratingstable for MD...
2025-11-26 06:22:06,011 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-26 06:22:06,011 - __main__ - INFO - --- Processing State: MO ---
2025-11-26 06:22:06,344 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-26 06:22:06,348 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-26 06:22:06,348 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-26 06:22:06,348 - __main__ - INFO - --- Processing State: NC ---
2025-11-26 06:22:45,928 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-26 06:22:46,085 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-26 06:22:46,997 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-26 06:22:46,998 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-26 06:22:47,009 - __main__ - INFO - Processing ratingstable for NC...
2025-11-26 06:22:47,010 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-26 06:22:47,011 - __main__ - INFO - --- Processing State: NM ---
2025-11-26 06:22:51,902 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-26 06:22:51,907 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-26 06:22:51,907 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-26 06:22:51,907 - __main__ - INFO - --- Processing State: NY ---
2025-11-26 06:23:43,554 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-26 06:23:43,760 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-26 06:23:44,960 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-26 06:23:44,960 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-26 06:23:44,971 - __main__ - INFO - Processing ratingstable for NY...
2025-11-26 06:23:44,972 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-26 06:23:44,972 - __main__ - INFO - --- Processing State: OK ---
2025-11-26 06:23:44,977 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-26 06:23:44 UTC
2025-11-26 06:23:51,763 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-26 06:23:51,904 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-26 06:24:04,807 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-26 06:24:04,808 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-26 06:24:04,816 - __main__ - INFO - Processing ratingstable for OK...
2025-11-26 06:24:04,817 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-26 06:24:04,817 - __main__ - INFO - --- Processing State: OR ---
2025-11-26 06:24:14,849 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-26 06:24:15,006 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-26 06:24:15,899 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-26 06:24:15,900 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-26 06:24:15,911 - __main__ - INFO - Processing ratingstable for OR...
2025-11-26 06:24:15,912 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-26 06:24:15,913 - __main__ - INFO - --- Processing State: TX ---
2025-11-26 06:24:40,736 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-26 06:24:40,871 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-26 06:24:41,803 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-26 06:24:41,804 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-26 06:24:41,813 - __main__ - INFO - Processing ratingstable for TX...
2025-11-26 06:24:41,814 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-26 06:24:41,814 - __main__ - INFO - --- Processing State: VA ---
2025-11-26 06:25:51,981 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-26 06:25:52,135 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-26 06:25:53,217 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-26 06:25:53,217 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-26 06:25:53,226 - __main__ - INFO - Processing ratingstable for VA...
2025-11-26 06:25:53,227 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-26 06:25:53,227 - __main__ - INFO - --- Processing State: WA ---
2025-11-26 06:25:53,617 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-26 06:25:53,619 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-26 06:25:53,619 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-26 06:25:53,620 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-26 06:25:53,622 - __main__ - INFO - Combined scratchertables shape: (10708, 11)
2025-11-26 06:25:53,622 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-26 06:25:53,629 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-26 06:25:53,635 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-26 06:25:53,641 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-26 06:25:53,648 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-26 06:25:53,654 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-26 06:25:53,661 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-26 06:25:53,667 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-26 06:25:53,674 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-26 06:25:53,680 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-26 06:25:53,686 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-26 06:25:53,692 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-26 06:25:53,692 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-26 06:25:54,943 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-26 06:25:55,162 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-26 06:25:59,663 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-26 06:25:59,664 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-26 06:25:59,667 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-26 06:25:59,669 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-26 06:25:59,669 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-26 06:25:59,670 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-26 06:25:59,671 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,672 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,673 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,674 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,675 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,676 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,676 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,677 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,678 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,679 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,680 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,681 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,682 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,695 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,698 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,699 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,702 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,702 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,703 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,704 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,705 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,706 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,707 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,707 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-26 06:25:59,708 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-26 06:26:01,665 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-26 06:26:01,665 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-26 06:26:01,828 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-26 06:26:01,834 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-26 06:26:03,887 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-26 06:26:03,887 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-26 06:26:03 UTC
2025-11-26 06:26:03,888 - __main__ - INFO - Total execution time: 0:05:47.618872
2025-11-27 06:20:30,678 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-27 06:20:30 UTC
2025-11-27 06:20:30,680 - __main__ - INFO - --- Processing State: AZ ---
2025-11-27 06:20:32,601 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-27 06:20:32,603 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-27 06:20:32,603 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-27 06:20:32,603 - __main__ - INFO - --- Processing State: CA ---
2025-11-27 06:20:32,608 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-27 06:20:32 UTC
2025-11-27 06:20:50,861 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-27 06:20:51,193 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-27 06:20:53,754 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-27 06:20:53,755 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-27 06:20:53,765 - __main__ - INFO - Processing ratingstable for CA...
2025-11-27 06:20:53,766 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-27 06:20:53,766 - __main__ - INFO - --- Processing State: DC ---
2025-11-27 06:21:36,728 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-27 06:21:36,932 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-27 06:21:38,046 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-27 06:21:38,047 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-27 06:21:38,057 - __main__ - INFO - Processing ratingstable for DC...
2025-11-27 06:21:38,058 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-27 06:21:38,058 - __main__ - INFO - --- Processing State: KS ---
2025-11-27 06:21:39,107 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-27 06:21:39,108 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-27 06:21:39,108 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-27 06:21:39,108 - __main__ - INFO - --- Processing State: KY ---
2025-11-27 06:21:47,595 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-27 06:21:47,820 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-27 06:21:48,945 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-27 06:21:48,946 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-27 06:21:48,956 - __main__ - INFO - Processing ratingstable for KY...
2025-11-27 06:21:48,957 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-27 06:21:48,957 - __main__ - INFO - --- Processing State: MD ---
2025-11-27 06:21:57,241 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-27 06:21:57,486 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-27 06:21:58,470 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-27 06:21:58,471 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-27 06:21:58,481 - __main__ - INFO - Processing ratingstable for MD...
2025-11-27 06:21:58,482 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-27 06:21:58,482 - __main__ - INFO - --- Processing State: MO ---
2025-11-27 06:21:58,701 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-27 06:21:58,704 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-27 06:21:58,704 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-27 06:21:58,704 - __main__ - INFO - --- Processing State: NC ---
2025-11-27 06:22:22,443 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-27 06:22:22,645 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-27 06:22:23,619 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-27 06:22:23,619 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-27 06:22:23,629 - __main__ - INFO - Processing ratingstable for NC...
2025-11-27 06:22:23,631 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-27 06:22:23,631 - __main__ - INFO - --- Processing State: NM ---
2025-11-27 06:22:28,464 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-27 06:22:28,468 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-27 06:22:28,468 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-27 06:22:28,468 - __main__ - INFO - --- Processing State: NY ---
2025-11-27 06:23:10,678 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-27 06:23:10,917 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-27 06:23:11,906 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-27 06:23:11,907 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-27 06:23:11,916 - __main__ - INFO - Processing ratingstable for NY...
2025-11-27 06:23:11,918 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-27 06:23:11,918 - __main__ - INFO - --- Processing State: OK ---
2025-11-27 06:23:11,922 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-27 06:23:11 UTC
2025-11-27 06:23:19,129 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-27 06:23:19,320 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-27 06:23:20,369 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-27 06:23:20,370 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-27 06:23:20,379 - __main__ - INFO - Processing ratingstable for OK...
2025-11-27 06:23:20,380 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-27 06:23:20,380 - __main__ - INFO - --- Processing State: OR ---
2025-11-27 06:23:37,554 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-27 06:23:37,710 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-27 06:23:38,690 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-27 06:23:38,690 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-27 06:23:38,701 - __main__ - INFO - Processing ratingstable for OR...
2025-11-27 06:23:38,702 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-27 06:23:38,702 - __main__ - INFO - --- Processing State: TX ---
2025-11-27 06:23:56,946 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-27 06:23:57,168 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-27 06:23:58,078 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-27 06:23:58,079 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-27 06:23:58,089 - __main__ - INFO - Processing ratingstable for TX...
2025-11-27 06:23:58,090 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-27 06:23:58,090 - __main__ - INFO - --- Processing State: VA ---
2025-11-27 06:24:52,748 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-27 06:24:53,817 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-27 06:24:54,704 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-27 06:24:54,705 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-27 06:24:54,715 - __main__ - INFO - Processing ratingstable for VA...
2025-11-27 06:24:54,716 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-27 06:24:54,716 - __main__ - INFO - --- Processing State: WA ---
2025-11-27 06:24:55,785 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-27 06:24:55,787 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-27 06:24:55,787 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-27 06:24:55,787 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-27 06:24:55,790 - __main__ - INFO - Combined scratchertables shape: (10708, 11)
2025-11-27 06:24:55,790 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-27 06:24:55,796 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-27 06:24:55,802 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-27 06:24:55,808 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-27 06:24:55,814 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-27 06:24:55,821 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-27 06:24:55,827 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-27 06:24:55,833 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-27 06:24:55,839 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-27 06:24:55,845 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-27 06:24:55,851 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-27 06:24:55,857 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-27 06:24:55,857 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-27 06:24:57,156 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-27 06:24:57,365 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-27 06:25:00,794 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-27 06:25:00,795 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-27 06:25:00,799 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-27 06:25:00,801 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-27 06:25:00,801 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-27 06:25:00,801 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-27 06:25:00,803 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,803 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,804 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,805 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,806 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,807 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,808 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,809 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,809 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,810 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,811 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,812 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,814 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,828 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,831 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,832 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,834 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,835 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,836 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,837 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,838 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,839 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,840 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,840 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-27 06:25:00,841 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-27 06:25:02,390 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-27 06:25:02,390 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-27 06:25:02,581 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-27 06:25:02,586 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-27 06:25:04,367 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-27 06:25:04,368 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-27 06:25:04 UTC
2025-11-27 06:25:04,368 - __main__ - INFO - Total execution time: 0:04:33.689757
2025-11-28 06:20:41,557 - __main__ - INFO - Starting lotteryscrape_optimized.py run at: 2025-11-28 06:20:41 UTC
2025-11-28 06:20:41,558 - __main__ - INFO - --- Processing State: AZ ---
2025-11-28 06:20:43,155 - __main__ - ERROR - Error occurred during AZ processing (after import): 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 374, in run_az_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/azlotteryscrape.py", line 80, in exportScratcherRecs
    gamePrice = s.find(class_='col-md-6 price').find('span').get_text(strip=True)
AttributeError: 'NoneType' object has no attribute 'find'
2025-11-28 06:20:43,156 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid scratchertables data.
2025-11-28 06:20:43,157 - __main__ - WARNING - Function run_az_scratcher_recs did not return valid ratingstable data.
2025-11-28 06:20:43,157 - __main__ - INFO - --- Processing State: CA ---
2025-11-28 06:20:43,161 - calotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-28 06:20:43 UTC
2025-11-28 06:20:59,572 - __main__ - INFO - Clearing worksheet 'CARatingsTable' before saving new data.
2025-11-28 06:20:59,965 - __main__ - INFO - Saving DataFrame to worksheet 'CARatingsTable'...
2025-11-28 06:21:02,165 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: CARatingsTable
2025-11-28 06:21:02,166 - __main__ - INFO - Successfully processed CA. Returning scratchertables.
2025-11-28 06:21:02,176 - __main__ - INFO - Processing ratingstable for CA...
2025-11-28 06:21:02,177 - __main__ - INFO - Added processed CA ratingstable to combined list.
2025-11-28 06:21:02,177 - __main__ - INFO - --- Processing State: DC ---
2025-11-28 06:21:55,574 - __main__ - INFO - Clearing worksheet 'DCRatingsTable' before saving new data.
2025-11-28 06:21:55,908 - __main__ - INFO - Saving DataFrame to worksheet 'DCRatingsTable'...
2025-11-28 06:21:56,975 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: DCRatingsTable
2025-11-28 06:21:56,975 - __main__ - INFO - Successfully processed DC. Returning scratchertables.
2025-11-28 06:21:56,985 - __main__ - INFO - Processing ratingstable for DC...
2025-11-28 06:21:56,986 - __main__ - INFO - Added processed DC ratingstable to combined list.
2025-11-28 06:21:56,986 - __main__ - INFO - --- Processing State: KS ---
2025-11-28 06:21:58,084 - __main__ - ERROR - Error occurred during KS processing (after import): No tables found
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 466, in run_ks_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/kslotteryscrape.py", line 72, in exportScratcherRecs
    tixlist = pd.read_html(str(soup.find('table', id = 'gametable')))[0]
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1240, in read_html
    return _parse(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 1003, in _parse
    raise retained
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 983, in _parse
    tables = p.parse_tables()
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 249, in parse_tables
    tables = self._parse_tables(self._build_doc(), self.match, self.attrs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/io/html.py", line 598, in _parse_tables
    raise ValueError("No tables found")
ValueError: No tables found
2025-11-28 06:21:58,085 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid scratchertables data.
2025-11-28 06:21:58,085 - __main__ - WARNING - Function run_ks_scratcher_recs did not return valid ratingstable data.
2025-11-28 06:21:58,085 - __main__ - INFO - --- Processing State: KY ---
2025-11-28 06:22:06,619 - __main__ - INFO - Clearing worksheet 'KYRatingsTable' before saving new data.
2025-11-28 06:22:06,993 - __main__ - INFO - Saving DataFrame to worksheet 'KYRatingsTable'...
2025-11-28 06:22:08,016 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: KYRatingsTable
2025-11-28 06:22:08,017 - __main__ - INFO - Successfully processed KY. Returning scratchertables.
2025-11-28 06:22:08,027 - __main__ - INFO - Processing ratingstable for KY...
2025-11-28 06:22:08,028 - __main__ - INFO - Added processed KY ratingstable to combined list.
2025-11-28 06:22:08,028 - __main__ - INFO - --- Processing State: MD ---
2025-11-28 06:22:16,540 - __main__ - INFO - Clearing worksheet 'MDRatingsTable' before saving new data.
2025-11-28 06:22:16,882 - __main__ - INFO - Saving DataFrame to worksheet 'MDRatingsTable'...
2025-11-28 06:22:17,906 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: MDRatingsTable
2025-11-28 06:22:17,907 - __main__ - INFO - Successfully processed MD. Returning scratchertables.
2025-11-28 06:22:17,917 - __main__ - INFO - Processing ratingstable for MD...
2025-11-28 06:22:17,918 - __main__ - INFO - Added processed MD ratingstable to combined list.
2025-11-28 06:22:17,919 - __main__ - INFO - --- Processing State: MO ---
2025-11-28 06:22:18,117 - __main__ - ERROR - Error occurred during MO processing (after import): "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 553, in run_mo_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/molotteryscrape.py", line 160, in exportScratcherRecs
    scratchersall = tixtables.loc[:,['price', 'gameName', 'gameNumber', 'topprize', 'overallodds', 'topprizestarting', 'topprizeremain',
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1185, in __getitem__
    return self._getitem_tuple(key)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1378, in _getitem_tuple
    return self._getitem_tuple_same_dim(tup)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1021, in _getitem_tuple_same_dim
    retval = getattr(retval, self.name)._getitem_axis(key, axis=i)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1421, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1361, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexing.py", line 1559, in _get_listlike_indexer
    keyarr, indexer = ax._get_indexer_strict(key, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6212, in _get_indexer_strict
    self._raise_if_missing(keyarr, indexer, axis_name)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/indexes/base.py", line 6264, in _raise_if_missing
    raise KeyError(f"{not_found} not in index")
KeyError: "['topprize', 'topprizestarting', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'gameURL'] not in index"
2025-11-28 06:22:18,120 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid scratchertables data.
2025-11-28 06:22:18,121 - __main__ - WARNING - Function run_mo_scratcher_recs did not return valid ratingstable data.
2025-11-28 06:22:18,121 - __main__ - INFO - --- Processing State: NC ---
2025-11-28 06:22:51,913 - __main__ - INFO - Clearing worksheet 'NCRatingsTable' before saving new data.
2025-11-28 06:22:52,239 - __main__ - INFO - Saving DataFrame to worksheet 'NCRatingsTable'...
2025-11-28 06:22:53,239 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NCRatingsTable
2025-11-28 06:22:53,240 - __main__ - INFO - Successfully processed NC. Returning scratchertables.
2025-11-28 06:22:53,250 - __main__ - INFO - Processing ratingstable for NC...
2025-11-28 06:22:53,251 - __main__ - INFO - Added processed NC ratingstable to combined list.
2025-11-28 06:22:53,251 - __main__ - INFO - --- Processing State: NM ---
2025-11-28 06:22:56,874 - __main__ - ERROR - Error occurred during NM processing (after import): invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 613, in run_nm_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/nmlotteryscrape.py", line 167, in exportScratcherRecs
    scratchertables = scratchertables.astype({'prizeamount': 'int32', 'Winning Tickets At Start': 'int32', 'Winning Tickets Unclaimed': 'int32'})
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6642, in astype
    res_col = col.astype(dtype=cdt, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: 'TICKET': Error while type casting for column 'prizeamount'
2025-11-28 06:22:56,878 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid scratchertables data.
2025-11-28 06:22:56,878 - __main__ - WARNING - Function run_nm_scratcher_recs did not return valid ratingstable data.
2025-11-28 06:22:56,878 - __main__ - INFO - --- Processing State: NY ---
2025-11-28 06:23:45,212 - __main__ - INFO - Clearing worksheet 'NYRatingsTable' before saving new data.
2025-11-28 06:23:45,426 - __main__ - INFO - Saving DataFrame to worksheet 'NYRatingsTable'...
2025-11-28 06:23:46,420 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: NYRatingsTable
2025-11-28 06:23:46,420 - __main__ - INFO - Successfully processed NY. Returning scratchertables.
2025-11-28 06:23:46,430 - __main__ - INFO - Processing ratingstable for NY...
2025-11-28 06:23:46,431 - __main__ - INFO - Added processed NY ratingstable to combined list.
2025-11-28 06:23:46,431 - __main__ - INFO - --- Processing State: OK ---
2025-11-28 06:23:46,436 - oklotteryscrape - INFO - Running lotteryscrape.py at: 2025-11-28 06:23:46 UTC
2025-11-28 06:23:53,268 - __main__ - INFO - Clearing worksheet 'OKRatingsTable' before saving new data.
2025-11-28 06:23:53,471 - __main__ - INFO - Saving DataFrame to worksheet 'OKRatingsTable'...
2025-11-28 06:23:54,455 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: OKRatingsTable
2025-11-28 06:23:54,455 - __main__ - INFO - Successfully processed OK. Returning scratchertables.
2025-11-28 06:23:54,464 - __main__ - INFO - Processing ratingstable for OK...
2025-11-28 06:23:54,465 - __main__ - INFO - Added processed OK ratingstable to combined list.
2025-11-28 06:23:54,465 - __main__ - INFO - --- Processing State: OR ---
2025-11-28 06:24:06,450 - __main__ - INFO - Clearing worksheet 'ORRatingsTable' before saving new data.
2025-11-28 06:24:06,664 - __main__ - INFO - Saving DataFrame to worksheet 'ORRatingsTable'...
2025-11-28 06:24:07,463 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ORRatingsTable
2025-11-28 06:24:07,463 - __main__ - INFO - Successfully processed OR. Returning scratchertables.
2025-11-28 06:24:07,473 - __main__ - INFO - Processing ratingstable for OR...
2025-11-28 06:24:07,474 - __main__ - INFO - Added processed OR ratingstable to combined list.
2025-11-28 06:24:07,474 - __main__ - INFO - --- Processing State: TX ---
2025-11-28 06:24:30,140 - __main__ - INFO - Clearing worksheet 'TXRatingsTable' before saving new data.
2025-11-28 06:24:30,356 - __main__ - INFO - Saving DataFrame to worksheet 'TXRatingsTable'...
2025-11-28 06:24:31,252 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: TXRatingsTable
2025-11-28 06:24:31,252 - __main__ - INFO - Successfully processed TX. Returning scratchertables.
2025-11-28 06:24:31,262 - __main__ - INFO - Processing ratingstable for TX...
2025-11-28 06:24:31,263 - __main__ - INFO - Added processed TX ratingstable to combined list.
2025-11-28 06:24:31,263 - __main__ - INFO - --- Processing State: VA ---
2025-11-28 06:25:35,237 - __main__ - INFO - Clearing worksheet 'VARatingsTable' before saving new data.
2025-11-28 06:25:35,467 - __main__ - INFO - Saving DataFrame to worksheet 'VARatingsTable'...
2025-11-28 06:25:36,436 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: VARatingsTable
2025-11-28 06:25:36,437 - __main__ - INFO - Successfully processed VA. Returning scratchertables.
2025-11-28 06:25:36,447 - __main__ - INFO - Processing ratingstable for VA...
2025-11-28 06:25:36,448 - __main__ - INFO - Added processed VA ratingstable to combined list.
2025-11-28 06:25:36,448 - __main__ - INFO - --- Processing State: WA ---
2025-11-28 06:25:37,163 - __main__ - ERROR - Error occurred during WA processing (after import): invalid literal for int() with base 10: '(50 x 10)'
Traceback (most recent call last):
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/lotteryscraped_optimized.py", line 786, in run_wa_scratcher_recs
    ratingstable, scratchertables = exportScratcherRecs()
  File "/home/runner/work/scratchersdatapull/scratchersdatapull/walotteryscrape.py", line 99, in exportScratcherRecs
    tixtable['prizeamount'] = tixtable['prizeamount'].replace({'40000/yr/25 years':40000*25,'80000/yr/25yrs':80000*25,'80000/yr/25 years':80000*25, '150000/yr/10yrs':150000*25, 'LIFE': 1000*52*50}).astype('int')
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/generic.py", line 6665, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 449, in astype
    return self.apply(
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/internals/blocks.py", line 784, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "/opt/hostedtoolcache/Python/3.9.25/x64/lib/python3.9/site-packages/pandas/core/dtypes/astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
ValueError: invalid literal for int() with base 10: '(50 x 10)'
2025-11-28 06:25:37,165 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid scratchertables data.
2025-11-28 06:25:37,165 - __main__ - WARNING - Function run_wa_scratcher_recs did not return valid ratingstable data.
2025-11-28 06:25:37,165 - __main__ - INFO - Combining scratchertables data from 10 states.
2025-11-28 06:25:37,168 - __main__ - INFO - Combined scratchertables shape: (10708, 11)
2025-11-28 06:25:37,168 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined scratchertables...
2025-11-28 06:25:37,175 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-28 06:25:37,181 - __main__ - INFO -   - Converted/Checked scratchertables column 'gameName' (Original dtype: object, New dtype: object)
2025-11-28 06:25:37,187 - __main__ - INFO -   - Converted/Checked scratchertables column 'prizeamount' (Original dtype: object, New dtype: object)
2025-11-28 06:25:37,193 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets At Start' (Original dtype: object, New dtype: float64)
2025-11-28 06:25:37,199 - __main__ - INFO -   - Converted/Checked scratchertables column 'Winning Tickets Unclaimed' (Original dtype: object, New dtype: float64)
2025-11-28 06:25:37,206 - __main__ - INFO -   - Converted/Checked scratchertables column 'Prize Probability' (Original dtype: object, New dtype: float64)
2025-11-28 06:25:37,212 - __main__ - INFO -   - Converted/Checked scratchertables column 'Percent Tix Remaining' (Original dtype: object, New dtype: float64)
2025-11-28 06:25:37,218 - __main__ - INFO -   - Converted/Checked scratchertables column 'Starting Expected Value' (Original dtype: object, New dtype: object)
2025-11-28 06:25:37,224 - __main__ - INFO -   - Converted/Checked scratchertables column 'Expected Value' (Original dtype: object, New dtype: object)
2025-11-28 06:25:37,230 - __main__ - INFO -   - Converted/Checked scratchertables column 'dateexported' (Original dtype: object, New dtype: object)
2025-11-28 06:25:37,236 - __main__ - INFO -   - Converted/Checked scratchertables column 'State' (Original dtype: object, New dtype: object)
2025-11-28 06:25:37,236 - __main__ - INFO - Attempting to save combined data to 'ScratcherTables' sheet.
2025-11-28 06:25:38,288 - __main__ - INFO - Clearing worksheet 'ScratcherTables' before saving new data.
2025-11-28 06:25:38,502 - __main__ - INFO - Saving DataFrame to worksheet 'ScratcherTables'...
2025-11-28 06:25:43,119 - __main__ - INFO - DataFrame successfully saved to Google Sheet worksheet: ScratcherTables
2025-11-28 06:25:43,120 - __main__ - INFO - Combining ratingstable data from 10 states.
2025-11-28 06:25:43,123 - __main__ - INFO - Combined ratingstable columns BEFORE final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-28 06:25:43,126 - __main__ - INFO - Combined ratingstable shape after reindex: (844, 51)
2025-11-28 06:25:43,126 - __main__ - INFO - Combined ratingstable columns AFTER final reindex: ['price', 'gameName', 'gameNumber', 'topprize', 'topprizeremain', 'topprizeavail', 'extrachances', 'secondChance', 'startDate', 'Days Since Start', 'lastdatetoclaim', 'topprizeodds', 'overallodds', 'Current Odds of Top Prize', 'Change in Current Odds of Top Prize', 'Current Odds of Any Prize', 'Change in Current Odds of Any Prize', 'Odds of Profit Prize', 'Change in Odds of Profit Prize', 'Probability of Winning Any Prize', 'Change in Probability of Any Prize', 'Probability of Winning Profit Prize', 'Change in Probability of Profit Prize', 'StdDev of All Prizes', 'StdDev of Profit Prizes', 'Odds of Any Prize + 3 StdDevs', 'Odds of Profit Prize + 3 StdDevs', 'Max Tickets to Buy', 'Expected Value of Any Prize (as % of cost)', 'Change in Expected Value of Any Prize', 'Expected Value of Profit Prize (as % of cost)', 'Change in Expected Value of Profit Prize', 'Percent of Prizes Remaining', 'Percent of Profit Prizes Remaining', 'Ratio of Decline in Prizes to Decline in Losing Ticket', 'Rank by Best Probability of Winning Any Prize', 'Rank by Best Probability of Winning Profit Prize', 'Rank by Least Expected Losses', 'Rank by Most Available Prizes', 'Rank by Best Change in Probabilities', 'Rank Average', 'Overall Rank', 'Rank by Cost', 'Photo', 'FAQ', 'About', 'Directory', 'Data Date', 'Stats Page', 'gameURL', 'State']
2025-11-28 06:25:43,126 - __main__ - INFO - Performing final type conversion for JSON compatibility on combined ratingstable...
2025-11-28 06:25:43,128 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameName' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,129 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameNumber' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,130 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprize' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,131 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeremain' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,131 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeavail' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,132 - __main__ - INFO -   - Converted/Checked ratingstable column 'extrachances' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,133 - __main__ - INFO -   - Converted/Checked ratingstable column 'secondChance' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,134 - __main__ - INFO -   - Converted/Checked ratingstable column 'startDate' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,135 - __main__ - INFO -   - Converted/Checked ratingstable column 'Days Since Start' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,136 - __main__ - INFO -   - Converted/Checked ratingstable column 'lastdatetoclaim' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,137 - __main__ - INFO -   - Converted/Checked ratingstable column 'topprizeodds' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,138 - __main__ - INFO -   - Converted/Checked ratingstable column 'overallodds' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,139 - __main__ - INFO -   - Converted/Checked ratingstable column 'Change in Current Odds of Top Prize' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,153 - __main__ - INFO -   - Converted/Checked ratingstable column 'Ratio of Decline in Prizes to Decline in Losing Ticket' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,156 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Most Available Prizes' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,157 - __main__ - INFO -   - Converted/Checked ratingstable column 'Rank by Best Change in Probabilities' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,160 - __main__ - INFO -   - Converted/Checked ratingstable column 'Photo' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,161 - __main__ - INFO -   - Converted/Checked ratingstable column 'FAQ' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,162 - __main__ - INFO -   - Converted/Checked ratingstable column 'About' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,163 - __main__ - INFO -   - Converted/Checked ratingstable column 'Directory' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,163 - __main__ - INFO -   - Converted/Checked ratingstable column 'Data Date' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,164 - __main__ - INFO -   - Converted/Checked ratingstable column 'Stats Page' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,165 - __main__ - INFO -   - Converted/Checked ratingstable column 'gameURL' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,166 - __main__ - INFO -   - Converted/Checked ratingstable column 'State' (Original dtype: object, New dtype: object)
2025-11-28 06:25:43,166 - __main__ - INFO - Attempting to save combined data to 'AllStatesRatings' sheet starting at row 3.
2025-11-28 06:25:44,340 - __main__ - INFO - Clearing data in worksheet 'AllStatesRatings' from row 3 onwards.
2025-11-28 06:25:44,341 - __main__ - DEBUG - Calculated clear range: A3:CW2579
2025-11-28 06:25:44,547 - __main__ - INFO - Cleared range A3:CW2579 in 'AllStatesRatings'.
2025-11-28 06:25:44,552 - __main__ - INFO - Saving DataFrame to worksheet 'AllStatesRatings' starting at row 3 (headers excluded)...
2025-11-28 06:25:46,653 - __main__ - INFO - DataFrame successfully saved to 'AllStatesRatings' starting at row 3.
2025-11-28 06:25:46,654 - __main__ - INFO - Finishing lotteryscrape_optimized.py run at: 2025-11-28 06:25:46 UTC
2025-11-28 06:25:46,654 - __main__ - INFO - Total execution time: 0:05:05.097286
